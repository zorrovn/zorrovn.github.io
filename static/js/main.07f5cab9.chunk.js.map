{"version":3,"sources":["utils/helpers/api.js","utils/helpers/localStorage.js","utils/hooks/authHook.js","components/NavMenu.jsx","services/categoriesService.js","components/Home/Header/Header.jsx","services/itemsService.js","utils/helpers/slug.js","components/Home/HottestItems/HottestItems.jsx","components/Home/LiveItems/Pictures/PictureContainer.jsx","components/Home/LiveItems/LiveItems.jsx","components/Home/Home.jsx","components/Error/NetworkError.jsx","components/Error/NotFound.jsx","components/Account/Login/Login.js","utils/hooks/useItemsSearch.js","utils/hooks/useDebounce.js","components/Items/List/Container/Container.jsx","components/DateTimePicker/DateTimePicker.jsx","components/Items/List/Search/Search.jsx","components/Items/List/Header/Header.jsx","components/Items/List/List.jsx","components/Items/DeleteModal.jsx","components/Items/Details/UserActionsContainer.jsx","components/Bid/Chat/Chat.jsx","components/Bid/Result/Result.jsx","components/Bid/BidHigherButton.jsx","services/bidService.js","components/Bid/Bid.jsx","components/Bid/BidResult.jsx","components/Items/Details/SideBar.jsx","utils/hooks/useCounter.js","services/picturesService.js","components/Items/Details/Details.jsx","components/ImageUploader/ImageUploader.jsx","utils/hooks/useTime.js","components/Items/Create/Create.jsx","components/PrivateRoute.jsx","components/Items/Edit/Edit.jsx","services/adminService.js","components/Admin/Admin.jsx","components/Account/UpdateTelNo/UpdateTelNo.jsx","App.js","serviceWorker.js","index.js"],"names":["authTokenRequest","setUserInLocalStorage","response","token","data","jwtParams","JSON","parse","atob","split","id","isAdmin","role","toLowerCase","includes","dataToStore","phoneNo","PhoneNo","localStorage","setItem","stringify","api","Axios","create","baseURL","process","withCredentials","resetAuthTokenRequest","setupAxiosInterceptor","signOut","interceptors","request","use","a","config","accessToken","Cookies","get","refreshToken","headers","error","Promise","reject","errorResponse","url","history","push","toast","status","_retry","errors","Object","keys","forEach","key","value","autoClose","handleValidationErrors","post","then","tokenRefreshResponse","__isRetryRequest","location","pathname","authContext","createContext","ProvideAuth","children","auth","useState","user","setUser","isLoading","setIsLoading","useEffect","getItem","removeItem","cookies","document","cookie","i","length","eqPos","indexOf","name","substr","sessionStorage","clear","signIn","body","signUp","confirmAccount","useProvideAuth","Provider","useAuth","useContext","NavMenu","Navbar","className","expand","Brand","href","src","Toggle","Collapse","Nav","Link","onClick","NavDropdown","title","icon","faUser","style","textColor","Item","Divider","Header","categories","setCategories","hoveredDropdowns","setHoveredDropdowns","retrieveCategories","categoriesService","bg","Spinner","animation","map","category","index","show","onMouseOver","e","target","handleMouseOver","onMouseOut","handleMouseOut","subCategories","subcategory","tommorowDate","Date","setDate","getDate","dateAfterTenDays","params","startingPrice","startTime","toUTCString","endTime","getLiveItems","pageSize","item","pictures","query","put","delete","itemDetailsSlug","slugify","HottestItems","items","setItems","retrieveHottestUpcomingItems","itemsService","faFire","pulse","color","autoplay","autoplay_speed","Card","Img","variant","alt","Body","Title","to","PictureContainer","itemSlug","pictureClassNameRetriever","slice","picture","LiveItems","totalItems","setTotalItems","retrieveLiveItems","totalDataCount","height","faCaretRight","Home","NetworkError","secondsCounter","setSecondsCounter","interval","setInterval","state","clearInterval","faServer","NotFound","faSearch","Login","props","res","responseFacebook","userID","email","image","providerName","axios","result","expires","date","setTime","getTime","replace","success","window","reload","catch","message","buttonStyle","padding","appId","autoLoad","fields","scope","version","callback","signup","Component","useItemsSearch","pageNumber","setPageNumber","loading","setLoading","setError","totalItemsCount","setTotalItemsCount","hasMore","setHasMore","makeRequest","useCallback","previtems","useDebounce","delay","debouncedValue","setDebouncedValue","handler","setTimeout","clearTimeout","Container","observer","useRef","lastItemElementRef","node","current","disconnect","IntersectionObserver","entries","isIntersecting","prevPageNumber","observe","Row","Col","lg","sm","ref","userFullName","StartTimeDatePicker","setStartTime","disabled","errorHideTimeOut","startTimeConf","createDatePickerConf","moment","endOf","selected","onChange","handleOnChange","filterDate","subtract","toDate","minDate","maxDate","showTimeSelect","timeFormat","timeCaption","dateFormat","Form","Control","Feedback","type","EndTimeDatePicker","setEndTime","endTimeConf","ceilNumber","endDay","conf","isSame","minTime","Math","ceil","hours","hour","minutes","minute","maxTime","Search","setState","min","max","price","setPrice","add","isDateDisabled","setIsDateDisabled","prev","toISOString","Group","controlId","Label","placeholder","aria-label","aria-describedby","as","defaultValue","subCategoryId","subCategory","Check","label","checked","formatLabel","step","maxValue","minValue","minPrice","maxPrice","readOnly","Dropdown","Menu","List","useParams","DeleteModal","handleClose","Modal","onHide","closeButton","Footer","Button","size","aria-hidden","UserActionsContainer","userId","showModal","setShowModal","faEdit","faTrash","Chat","messages","_","telNo","bidAmount","Result","imageUrl","amount","BidHigherButton","handleOnClick","percentage","suggestedBid","parseFloat","toFixed","block","itemId","Bid","minPriceIncrease","CounterContainer","HubConnectionBuilder","withUrl","build","connection","highestBid","setHighestBid","nextBidMinimumAmount","setNextBidMinimumAmount","biddingAmount","setBiddingAmount","setMessages","renewJwtAuthTokens","stop","start","invoke","warning","fetchHighestBid","bidService","nextBiddingAmount","on","bidderName","bidderImage","bidderTelNo","connectToSignalR","md","InputGroup","Prepend","Text","FormControl","BidResult","topBidders","setResults","fetchHighestBidder","SideBar","counter","setCounter","currentTime","currentUtcTime","utc","duration","eventTime","local","diff","timeout","timer","milliseconds","useCounter","showBidding","setShowBidding","Counter","days","seconds","minIncrease","border","localUser","undefined","OverlayTrigger","overlay","Tooltip","pointerEvents","top3Bidder","createImageObj","element","original","thumbnail","Details","images","setImages","wordBreak","showPlayButton","description","styles","display","alignItems","justifyContent","flexWrap","width","ERROR","ImageUploader","setPictures","files","setFiles","fileErrors","setFileErrors","shouldAcceptInitialPictures","setShouldAcceptInitialPictures","inputElement","onRemove","hasExtension","fileName","pattern","imgExtensions","join","RegExp","test","readFile","file","resolve","reader","FileReader","onload","dataURL","readAsDataURL","renderPreviewPictures","removeIndex","findIndex","oldFiles","filter","oldPictures","removeImage","withIcon","renderIcon","withLabel","labelClass","labelStyles","renderLabel","fileError","errorClass","errorStyle","fileSizeError","fileTypeError","buttonType","buttonClassName","buttonStyles","click","buttonText","input","multiple","singleImage","eventFiles","allFilePromises","maxFileSize","assign","all","newFilesData","dataURLs","newFiles","newFileData","accept","withPreview","enterAnimation","leaveAnimation","defaultProps","fileContainerStyle","defaultImages","useTime","setCurrentTime","Create","useForm","register","handleSubmit","onSubmit","formData","FormData","append","background","required","maxLength","custom","PrivateRoute","component","adminOnly","rest","render","Edit","removedPictures","setRemovedPictures","getCategories","toDataURL","urls","fetch","blob","onloadend","onerror","pictureFiles","goBack","Admin","paginationQuery","setPaginationQuery","users","setUsers","totalPages","setTotalPages","adminService","Table","responsive","striped","bordered","hover","currentRoles","event","currentIndex","nonCurrentRoles","nonCurrentRole","handleAddUserToRole","currentRole","handleRemoveUserFromRole","previousLabel","nextLabel","breakLabel","pageCount","marginPagesDisplayed","pageRangeDisplayed","onPageChange","breakClassName","breakLinkClassName","containerClassName","pageClassName","pageLinkClassName","previousClassName","previousLinkClassName","nextClassName","nextLinkClassName","activeClassName","UpdateTelNo","mode","touched","watch","formState","hasError","noValidate","class","isValid","isInvalid","App","exact","path","Boolean","hostname","match","createBrowserHistory","ReactDOM","getElementById","navigator","serviceWorker","ready","registration","unregister","console"],"mappings":"gfAUIA,E,8ICRSC,EAAwB,SAACC,GAAc,IAAD,EAG3CC,EAFOD,EAASE,KAAKA,KAERD,MACbE,EAAYC,KAAKC,MAAMC,KAAKL,EAAMM,MAAM,KAAK,KAC7CC,EAAKL,EAAUK,GACfC,EAAO,UAAGN,EAAUO,YAAb,aAAG,EAAgBC,cAAcC,SAAS,SAEnDC,EAAc,GAOlB,OANAA,EAAYL,GAAKA,EACjBK,EAAYJ,QAAZ,OAAsBA,QAAtB,IAAsBA,KAClBN,EAAUW,UACZD,EAAYC,QAAUX,EAAUY,SAElCC,aAAaC,QAhBF,OAgBgBb,KAAKc,UAAUL,IACnCA,G,iBDXHM,EAAMC,IAAMC,OAAO,CACvBC,QAASC,0CACTC,iBAAiB,IAiBnB,SAASC,IACP3B,EAAmB,KAGd,IAAM4B,EAAwB,SAACC,GACpCR,EAAIS,aAAaC,QAAQC,IAAzB,+BAAAC,EAAA,MAA6B,WAAMC,GAAN,iBAAAD,EAAA,6DACrBE,EAAcC,IAAQC,IAAI,eAC1BC,EAAeF,IAAQC,IAAI,gBACjCH,EAAOK,QAAU,CACf,cAAgB,UAAhB,OAA2BJ,GAC3B,aAAgBG,EAChB,OAAU,qCANe,kBASpBJ,GAToB,2CAA7B,uDAWE,SAAAM,GACEC,QAAQC,OAAOF,MAEnBnB,EAAIS,aAAa5B,SAAS8B,KACxB,SAAC9B,GAAD,OAAcA,KACd,SAACsC,GAEC,IAAMG,EAAgBH,EAAMtC,SAC5B,OAAKyC,EAMkBlB,sBAArBe,EAAMN,OAAOU,KAEbf,IACAgB,GAAQC,KAAK,YACbC,IAAMP,MAAM,0CACLC,QAAQC,OAAOF,IAGM,MAA1BA,EAAMtC,SAAS8C,QAAmBR,EAAMN,OAAOe,OAQ/CN,EAAcK,OAEa,MAAzBL,EAAcK,QAAkBL,EAAcvC,KAAK8C,OAmB/D,SAAgCP,EAAeH,GAQ7C,OAPAW,OAAOC,KAAKT,EAAcvC,KAAK8C,QAAQG,SAAQ,SAAUC,GACvDX,EAAcvC,KAAK8C,OAAOI,GAAKD,SAAQ,SAAUE,GAC/CR,IAAMP,MAAMe,EAAO,CACjBC,UAAW,YAIVf,QAAQC,OAAOF,GA1BPiB,CAAuBd,EAAeH,GACX,MAAzBG,EAAcK,QAAkBL,EAAcvC,KAAKoC,OAC5DO,IAAMP,MAAMG,EAAcvC,KAAKoC,OACxBC,QAAQC,OAAOF,IACY,MAAzBG,EAAcK,QACvBD,IAAMP,MACJ,6HAEFK,GAAQC,KAAK,KACNL,QAAQC,OAAOF,IAGjBC,QAAQC,OAAOF,QAfxB,GAxDCxC,IACHA,EAAmBqB,EAChBqC,KAAKjC,oBAAmD,IACxDkC,MAAK,SAACC,GAAD,OAA0BA,MACjBD,KAAKhC,EAAuBA,GAGxC3B,GA0CqB2D,MAAK,SAACzD,GAG1B,OAFAD,EAAsBC,GACtBsC,EAAMtC,SAASgC,OAAO2B,kBAAmB,EAClCxC,EAAImB,EAAMtC,SAASgC,YAjB5BW,GAAQC,KAAK,iBAAkBD,GAAQiB,SAASC,UACzCtB,QAAQC,OAAOF,QAoDfnB,QE/FT2C,EAAcC,0BAEb,SAASC,EAAT,GAAoC,IAAbC,EAAY,EAAZA,SACtBC,EAYR,WAA2B,IAAD,EACAC,mBAAS,MADT,mBACjBC,EADiB,KACXC,EADW,OAEUF,oBAAS,GAFnB,mBAEjBG,EAFiB,KAENC,EAFM,KAIxBC,qBAAU,WACK,OAATJ,IACFC,EDNJjE,KAAKC,MAAMW,aAAayD,QAvBb,UC8BPF,GAAa,MAEd,CAACH,EAAME,IAEVE,qBAAU,WACR9C,EAAsBC,KACrB,IAEH,IAsCMA,EAAU,WACdR,EAAIqC,KAAKjC,mBAA2C,IAAIkC,MAAK,WDzDjBzC,aAAa0D,WApBhD,QCiFP,IAFA,IAAIC,EAAUC,SAASC,OAAOtE,MAAM,KAE3BuE,EAAI,EAAGA,EAAIH,EAAQI,OAAQD,IAAK,CACrC,IAAID,EAASF,EAAQG,GACjBE,EAAQH,EAAOI,QAAQ,KACvBC,EAAOF,GAAS,EAAIH,EAAOM,OAAO,EAAGH,GAASH,EAClDD,SAASC,OAASK,EAAO,0CAE7BE,eAAeC,QAEfhB,EAAQ,UAIZ,MAAO,CACLD,OACAE,YACAgB,OA1Da,SAACC,GACd,OAAOpE,EACJqC,KAAKjC,kBAA0CgE,GAC/C9B,MAAK,SAACzD,GACL,GAAwB,MAApBA,EAAS8C,OAAgB,CAC3B,IAAM5C,EAAOH,EAAsBC,GACnCqE,EAAQnE,GAGV,OAAOF,EAASE,SAkDpBsF,OAjCa,SAACD,GACd,OAAOpE,EACJqC,KAAKjC,qBAA6CgE,GAClD9B,MAAK,SAACzD,GAAD,OAAcA,MA+BtByF,eA5BqB,SAACF,GACtB,OAAOpE,EACJqC,KAAKjC,oBAAoDgE,GACzD9B,MAAK,SAACzD,GAAD,OAAcA,MA0BtB2B,WAxFW+D,GACb,OACE,kBAAC5B,EAAY6B,SAAb,CAAsBtC,MAAOa,GACzBA,EAAKI,UAAuB,KAAXL,GAKlB,IAAM2B,EAAU,WACrB,OAAOC,qBAAW/B,I,oBCbPgC,EAAU,WACrB,IAAM5B,EAAO0B,IAEb,OACE,gCACE,kBAACG,EAAA,EAAD,CAAQC,UAAU,mBAAmBC,OAAO,MAC1C,kBAAC,IAAD,KACE,kBAACF,EAAA,EAAOG,MAAR,CAAcC,KAAK,KACjB,yBAAKC,IAAI,YAAYJ,UAAU,cAEjC,kBAACD,EAAA,EAAOM,OAAR,MACA,kBAACN,EAAA,EAAOO,SAAR,CAAiBN,UAAU,oBACzB,kBAACO,EAAA,EAAD,CAAKP,UAAU,WACb,kBAACO,EAAA,EAAIC,KAAL,CACER,UAAU,aACVS,QAAS,kBAAM9D,GAAQC,KAAK,YAF9B,uBAUDsB,EAAKE,KACJ,kBAACmC,EAAA,EAAD,KACE,kBAACG,EAAA,EAAD,CACEC,MACE,kBAAC,IAAD,CAAiBX,UAAU,aAAaY,KAAMC,MAEhDC,MAAO,CAAEC,UAAW,UAEnB7C,EAAKE,KAAK3D,QACT,kBAACiG,EAAA,EAAYM,KAAb,CACEP,QAAS,WACP9D,GAAQC,KAAK,qBAFjB,kBAQA,GAEDsB,EAAKE,KAAK3D,QACT,kBAACiG,EAAA,EAAYM,KAAb,CACEP,QAAS,WACP9D,GAAQC,KAAK,mBAFjB,+BAQA,GAEF,kBAAC8D,EAAA,EAAYO,QAAb,MACA,kBAACP,EAAA,EAAYM,KAAb,CACEP,QAAS,WACPvC,EAAKvC,UACLgB,GAAQC,KAAK,OAHjB,8BAWJ,kBAAC,WAAD,KACE,kBAAC2D,EAAA,EAAD,KAIE,kBAACA,EAAA,EAAIC,KAAL,CACER,UAAU,aACVS,QAAS,kBAAM9D,GAAQC,KAAK,cAF9B,mC,iBCrEH,EANA,WACb,OAAOzB,EACJgB,IAAIZ,eACJkC,MAAK,SAACzD,GAAD,OAAcA,MCCXkH,G,OAAS,WAAO,IAAD,EACU/C,mBAAS,IADnB,mBACnBgD,EADmB,KACPC,EADO,OAEsBjD,mBAAS,IAF/B,mBAEnBkD,EAFmB,KAEDC,EAFC,OAGQnD,oBAAS,GAHjB,mBAGnBG,EAHmB,KAGRC,EAHQ,KAK1BC,qBAAU,WACR+C,MACC,IAEH,IAAMA,EAAqB,WACzBC,IAA2B/D,MAAK,SAACzD,GAC/BoH,EAAcpH,EAASE,KAAKA,MAC5BqE,GAAa,OAgBjB,OACE,kBAACwB,EAAA,EAAD,CAAQC,UAAU,cAAcyB,GAAG,QAAQxB,OAAO,MAChD,kBAACF,EAAA,EAAOG,MAAR,sBACA,kBAACH,EAAA,EAAOM,OAAR,MACA,kBAACN,EAAA,EAAOO,SAAR,KACE,kBAACC,EAAA,EAAD,KACGjC,EACC,oEACuB,kBAACoD,EAAA,EAAD,CAASC,UAAU,UAG1CR,EAAWS,KAAI,SAACC,EAAUC,GACxB,OACE,kBAACpB,EAAA,EAAD,CACEtD,IAAK0E,EACLtH,GAAIsH,EACJnB,MAAOkB,EAAS3C,KAChB6C,KAAMV,EAAiBS,GACvBE,YAAa,SAACC,GAAD,OA9BL,SAACA,GACvBX,EAAoB,eACjBW,EAAEC,OAAO1H,IAAK,IA4BiB2H,CAAgBF,IACpCG,WAAY,SAACH,GAAD,OAzBL,SAACA,GACtBX,EAAoB,eACjBW,EAAEC,OAAO1H,IAAK,IAuBgB6H,CAAeJ,KAEjCJ,EAASS,cAAcV,KAAI,SAACW,EAAaT,GACxC,OACE,kBAACpB,EAAA,EAAYM,KAAb,CACExG,GAAI+H,EAAY/H,GAChB4C,IAAK0E,EACLrB,QAAS,SAACwB,GACRtF,GAAQC,KAAR,iBAAuBqF,EAAEC,OAAO1H,OAGjC+H,EAAYrD,kB,0BCqDtB,EAnHiB,WAC9B,IAAMsD,EAAe,IAAIC,KACzBD,EAAaE,QAAQF,EAAaG,UAAY,GAE9C,IAAMC,EAAmB,IAAIH,KAC7BG,EAAiBF,QAAQE,EAAiBD,UAAY,IAEtD,IAAME,EAAS,CACbC,cAAe,IACfC,UAAWP,EAAaQ,cACxBC,QAASL,EAAiBI,eAE5B,OAAO7H,EACJgB,IAAIZ,SAA0C,CAAEsH,WAChDpF,MAAK,SAACzD,GAAD,OAAcA,MAqGT,EAlGM,WAKnB,OAAOmB,EACJgB,IAAIZ,SAA0C,CAAEsH,OALpC,CACbK,cAAc,EACdC,SAAU,MAIT1F,MAAK,SAACzD,GACL,OAAO,2BACFA,GADL,IAEEE,KAAK,2BACAF,EAASE,MADV,IAEFA,KAAMF,EAASE,KAAKA,KAAK0H,KAAI,SAACwB,GAAD,mBAAC,eACzBA,GADwB,IAE3BC,SAC2B,IAAzBD,EAAKC,SAAStE,OACV,CACE,CACEvE,GAAIe,iBACJmB,IAAKnB,sFAGT6H,EAAKC,sBA4ER,EArEE,SAACC,GAChB,OAAOnI,EACJgB,IAAIZ,SAA0C,CAAEsH,OAAQS,IACxD7F,MAAK,SAACzD,GACL,OAAO,2BACFA,GADL,IAEEE,KAAK,2BACAF,EAASE,MADV,IAEFA,KAAMF,EAASE,KAAKA,KAAK0H,KAAI,SAACwB,GAAD,mBAAC,eACzBA,GADwB,IAE3BC,SAC2B,IAAzBD,EAAKC,SAAStE,OACV,CACE,CACEvE,GAAIe,iBACJmB,IAAKnB,sFAGT6H,EAAKC,sBAmDR,EA5CK,SAAC7I,GACnB,OAAOW,EACJgB,IADI,UACGZ,SADH,YAC+Cf,IACnDiD,MAAK,SAACzD,GACL,IAAMoJ,EAAOpJ,EAASE,KAAKA,KAC3B,OAAO,2BACFF,GADL,IAEEE,KAAK,2BACAF,EAASE,MADV,IAEFA,KAAK,2BACAkJ,GADD,IAEFC,SAC2B,IAAzBD,EAAKC,SAAStE,OACV,CACE,CACEvE,GAAIe,iBACJmB,IAAKnB,sFAGT6H,EAAKC,mBAyBR,EAlBI,SAAC9D,GAClB,OAAOpE,EACJqC,KAAKjC,SAA0CgE,GAC/C9B,MAAK,SAACzD,GAAD,OAAcA,MAeT,EAZE,SAACQ,EAAIN,GACpB,OAAOiB,EACJoI,IADI,UACGhI,SADH,YAC+Cf,GAAMN,GACzDuD,MAAK,SAACzD,GAAD,OAAcA,MAST,EANI,SAACQ,GAClB,OAAOW,EACJqI,OADI,UACMjI,SADN,YACkDf,IACtDiD,MAAK,SAACzD,GAAD,OAAcA,M,mCChHXyJ,EAAkB,SAAC9C,EAAOnG,GACrC,MAAM,UAAN,OAAiBkJ,IAAQ/C,GAAzB,YAAmCnG,ICQxBmJ,G,OAAe,WAAO,IAAD,EACNxF,mBAAS,IADH,mBACzByF,EADyB,KAClBC,EADkB,KAEhCrF,qBAAU,WACRsF,MACC,IAEH,IAAMA,EAA+B,WACnCC,IAAuCtG,MAAK,SAACzD,GAC3C6J,EAAS7J,EAASE,KAAKA,UAI3B,OAAwB,IAAjB0J,EAAM7E,OACX,kBAAC,IAAD,CAAWiB,UAAU,QACnB,oGACkC,IAChC,kBAAC,IAAD,CAAiBY,KAAMoD,IAAQC,OAAK,EAACC,MAAM,SAE7C,yBAAKlE,UAAU,iCACb,kBAAC,IAAD,CAAmBmE,UAAU,EAAMC,eAAgB,MAChDR,EAAMhC,KAAI,SAACwB,EAAMtB,GAAW,IAAD,EAC1B,OACE,kBAACuC,EAAA,EAAD,CAAMjH,IAAK0E,EAAO9B,UAAU,cAC1B,kBAACqE,EAAA,EAAKC,IAAN,CACEC,QAAQ,MACRnE,IAAG,UAAEgD,EAAKC,SAAS,UAAhB,aAAE,EAAkB3G,IACvB8H,IAAI,gCAEN,kBAACH,EAAA,EAAKI,KAAN,KACE,kBAACJ,EAAA,EAAKK,MAAN,KAAatB,EAAKzC,OAClB,uBAAGX,UAAU,aACVzE,MACA6H,EAAKN,eAER,kBAAC,IAAD,CACE9C,UAAU,kBACV2E,GAAIlB,EAAgBL,EAAKzC,MAAOyC,EAAK5I,KAFvC,eAcd,KCtDSoK,G,OAAmB,SAAC,GAA4B,IAA1BvB,EAAyB,EAAzBA,SAAUwB,EAAe,EAAfA,SACrCC,EAA4B,SAAChD,GACjC,OAAc,IAAVA,EACK,UAGF,aAGT,OACE,yBAAK9B,UAAU,qBACZqD,EAAS0B,MAAM,EAAG,GAAGnD,KAAI,SAACoD,EAASlD,GAClC,OACE,kBAAC,IAAD,CACE1E,IAAK0E,EACL6C,GAAIE,EACJ7E,UAAS,UAAK8E,EAA0BhD,GAA/B,uBAET,yBACE0C,IAAI,UACJpE,IAAK4E,EAAQtI,IACbsD,UAAS,wCAAmC8E,EAC1ChD,GADO,qBCjBVmD,EAAY,WAAO,IAAD,EACH9G,mBAAS,IADN,mBACtByF,EADsB,KACfC,EADe,OAEO1F,mBAAS,GAFhB,mBAEtB+G,EAFsB,KAEVC,EAFU,OAGKhH,oBAAS,GAHd,mBAGtBG,EAHsB,KAGXC,EAHW,KAK7BC,qBAAU,WACR4G,MACC,IAEH,IAAMA,EAAoB,WACxBrB,IAA4BtG,MAAK,SAACzD,GAChC6J,EAAS7J,EAASE,KAAKA,MACvBiL,EAAcnL,EAASE,KAAKmL,gBAC5B9G,GAAa,OAIjB,OACE,kBAAC,IAAD,CAAWyB,UAAU,QAClB1B,EACC,qFACiC,kBAACoD,EAAA,EAAD,CAASC,UAAU,UAEjC,IAAjBiC,EAAM7E,OACR,kBAAC,WAAD,KACE,4BAAKmG,EAAL,iEACA,yBAAKlF,UAAU,OACZ4D,EAAMhC,KAAI,SAACwB,EAAMtB,GAAW,IAAD,EAC1B,OACE,yBAAK1E,IAAK0E,EAAO9B,UAAU,gCACzB,kBAACqE,EAAA,EAAD,CAAMrE,UAAU,cACY,IAAzBoD,EAAKC,SAAStE,OACb,kBAAC,IAAD,CAAM4F,GAAIlB,EAAgBL,EAAKzC,MAAOyC,EAAK5I,KACzC,kBAAC6J,EAAA,EAAKC,IAAN,CACEgB,OAAO,QACPf,QAAQ,MACRC,IAAI,aACJpE,IAAG,UAAEgD,EAAKC,SAAS,UAAhB,aAAE,EAAkB3G,OAI3B,kBAAC,EAAD,CACE2G,SAAUD,EAAKC,SACfwB,SAAUpB,EAAgBL,EAAKzC,MAAOyC,EAAK5I,MAG/C,kBAAC6J,EAAA,EAAKI,KAAN,KACE,kBAACJ,EAAA,EAAKK,MAAN,KACE,kBAAC,IAAD,CAAMC,GAAIlB,EAAgBL,EAAKzC,MAAOyC,EAAK5I,KACxC4I,EAAKzC,QAGV,kBAAC,IAAD,CAAMgE,GAAIlB,EAAgBL,EAAKzC,MAAOyC,EAAK5I,KACzC,0BAAMwF,UAAU,cAAcc,MAAO,CAAEoD,MAAO,QAA9C,6BACe,kBAAC,IAAD,CAAiBtD,KAAM2E,eASnD3B,EAAM7E,QAAU,GACf,yBAAKiB,UAAU,yBACb,kBAAC,IAAD,CAAMA,UAAU,kBAAkB2E,GAAI,UAAtC,mCAKF,IAIJ,KC9EKa,GAAO,WAClB,OACE,kBAAC,WAAD,KACE,kBAAC,EAAD,MACA,kBAAC,EAAD,MACA,kBAAC,EAAD,Q,SCJOC,I,OAAe,WAAO,IAAD,EACYtH,mBAAS,IADrB,mBACzBuH,EADyB,KACTC,EADS,KAahC,OAVAnH,qBAAU,WACR,IAAMoH,EACJF,GAAkB,GAClBG,aAAY,kBAAMF,EAAkBD,EAAiB,KAAI,KAK3D,OAHuB,IAAnBA,GACF/I,GAAQC,KAAKD,GAAQiB,SAASkI,OAEzB,kBAAMC,cAAcH,MAC1B,CAACF,IAEF,yBAAK1F,UAAU,aACb,kBAAC,IAAD,CAAiBA,UAAU,qBAAqBY,KAAMoF,MACtD,+HAIA,6CACgB,2BAAIN,GADpB,kBCrBOO,GAAW,WACtB,OACE,yBAAKjG,UAAU,aACb,kBAAC,IAAD,CAAiBA,UAAU,qBAAqBY,KAAMsF,MACtD,wBAAIlG,UAAU,iBAAd,OACA,oGACA,2BAAOA,UAAU,cAAjB,qJAIA,kBAAC,IAAD,CAAMA,UAAU,+BAA+B2E,GAAG,KAAlD,gC,6DCVOwB,GAAb,oDACE,WAAYC,GAAQ,IAAD,+BACjB,cAAMA,IACDN,MAAQ,GAFI,EADrB,oDAuESO,GAEL,IAAMC,EAAmB,CACvB9L,GAAI6L,EAAIE,OACRrH,KAAMmH,EAAInH,KACVsH,MAAOH,EAAIG,MACXvM,MAAOoM,EAAIpK,YACXwK,MAAOJ,EAAIrB,QAAQ9K,KAAKwC,IACxBgK,aAAc,YAGhBC,IAAMnJ,KAAKjC,wEAAkE+K,GAC1E7I,MAAK,SAACmJ,GACL,GAAsB,MAAlBA,EAAO9J,OAAgB,CAAC,IAAD,EACnB5C,EAAO0M,EAAO1M,KAAKA,KAEnBD,EAAQC,EAAKD,MACbE,EAAYC,KAAKC,MAAMC,KAAKL,EAAMM,MAAM,KAAK,KAC7CC,EAAKL,EAAUK,GACfC,EAAO,UAAGN,EAAUO,YAAb,aAAG,EAAgBC,cAAcC,SAAS,SAEnDC,EAAc,GAClBA,EAAYL,GAAKA,EACjBK,EAAYJ,QAAZ,OAAsBA,QAAtB,IAAsBA,KAClBN,EAAUW,UACZD,EAAYC,QAAUX,EAAUW,SAElCE,aAAaC,QAAQ,OAAQb,KAAKc,UAAUL,IAE5C,IAAIgM,EAEAC,EAAO,IAAIrE,KACfqE,EAAKC,QAAQD,EAAKE,UAAa,OAC/BH,EAAU,aAAeC,EAAK9D,cAE9BpE,SAASC,OAAS,gBAAuB5E,GAAS,IAAM4M,EAAU,WAClEjI,SAASC,OAAS,iBAAwB3E,EAAKkC,cAAgB,IAAMyK,EAAU,WAC/EjI,SAASC,OAAS,gBAKpBlC,GAAQiB,SAASkI,MACbnJ,GAAQsK,QAAQtK,GAAQiB,SAASkI,OACjCnJ,GAAQC,KAAK,KAEjBC,IAAMqK,QAAQ,kEACVC,OAAOvJ,SAASuC,KAAKlB,QAAQ,YAAc,GAC7CtC,GAAQC,KAAK,KAGfuK,OAAOvJ,SAASwJ,YACfC,OAAM,SAAC/K,GACRO,IAAMP,MAAMA,EAAMgL,cA5H1B,+BAgIY,IAAD,OAIP,OACE,yBAAKtH,UAAU,OACb,yBAAKA,UAAU,OACb,yBAAKA,UAAU,iBACb,kBAAC,KAAD,CAAeuH,YAAa,CAAEC,QAAS,OACrCC,MAAM,kBACNC,UAAU,EACVC,OAAO,0BACPC,MAAM,uBACNC,QAAQ,OACRC,SAbe,SAAC9N,GACxB,EAAK+N,OAAO/N,aAlIlB,GAA2BgO,a,sCC2CZC,GA7CQ,SAAC3E,EAAO4E,EAAYC,GAAmB,IAAD,EAC7BhK,oBAAS,GADoB,mBACpDiK,EADoD,KAC3CC,EAD2C,OAEjClK,oBAAS,GAFwB,mBAEpD7B,EAFoD,KAE7CgM,EAF6C,OAGjCnK,mBAAS,IAHwB,mBAGpDyF,EAHoD,KAG7CC,EAH6C,OAIb1F,mBAAS,GAJI,mBAIpDoK,EAJoD,KAInCC,EAJmC,OAK7BrK,oBAAS,GALoB,mBAKpDsK,EALoD,KAK3CC,EAL2C,KAmC3D,OA5BAlK,qBAAU,WACRqF,EAAS,IACTsE,EAAc,KACb,CAAC7E,EAAO6E,IAyBJ,CACLQ,YAxBkBC,uBAAY,WAC9BP,GAAW,GACXC,GAAS,GAEThF,EAAM4E,WAAaA,EACnB5E,EAAMH,SAAW,GAEjBY,EACYT,GACT7F,MAAK,SAACmJ,GACL/C,GAAS,SAACgF,GACR,MAAM,GAAN,oBAAWA,GAAX,aAAyBjC,EAAO1M,KAAKA,UAEvCsO,EAAmB5B,EAAO1M,KAAKmL,gBAC/BqD,EACE9B,EAAO1M,KAAKmL,eAAiBuB,EAAO1M,KAAKiJ,UACvCyD,EAAO1M,KAAKA,KAAK6E,OAAS,GAE9BsJ,GAAW,MAEZhB,OAAM,kBAAMiB,GAAS,QACvB,CAAChF,EAAO4E,IAITE,UACA9L,QACAsH,QACA2E,kBACAE,YClBWK,GAxBK,SAACzL,EAAO0L,GAAU,MAEQ5K,mBAASd,GAFjB,mBAE7B2L,EAF6B,KAEbC,EAFa,KAqBpC,OAjBAzK,qBACE,WAEE,IAAM0K,EAAUC,YAAW,WACzBF,EAAkB5L,KACjB0L,GAKH,OAAO,WACLK,aAAaF,MAGjB,CAAC7L,EAAO0L,IAGHC,GCfIK,I,OAAY,SAAC,GAMnB,IALLjB,EAKI,EALJA,QACAK,EAII,EAJJA,QACAN,EAGI,EAHJA,cACAvE,EAEI,EAFJA,MACAtH,EACI,EADJA,MAEMgN,EAAWC,mBACXC,EAAqBZ,uBACzB,SAACa,GACKrB,IACAkB,EAASI,SAASJ,EAASI,QAAQC,aACvCL,EAASI,QAAU,IAAIE,sBAAqB,SAACC,GACvCA,EAAQ,GAAGC,gBAAkBrB,GAC/BN,GAAc,SAAC4B,GAAD,OAAoBA,EAAiB,QAGnDN,GAAMH,EAASI,QAAQM,QAAQP,MAErC,CAACrB,EAASK,EAASN,IAGrB,OACE,kBAAC,WAAD,KACE,kBAAC8B,GAAA,EAAD,KACoB,IAAjBrG,EAAM7E,QAAiBqJ,EAGtBxE,EAAMhC,KAAI,SAACwB,EAAMtB,GAAW,IAAD,EACzB,OACE,kBAACoI,GAAA,EAAD,CAAK9M,IAAK0E,EAAOqI,GAAI,EAAGC,GAAI,GAC1B,kBAAC/F,EAAA,EAAD,CACEgG,IAAKzG,EAAM7E,SAAW+C,EAAQ,EAAI0H,EAAqB,KACvDxJ,UAAU,4BAEV,kBAAC,IAAD,CAAM2E,GAAIlB,EAAgBL,EAAKzC,MAAOyC,EAAK5I,KACzC,kBAAC6J,EAAA,EAAKC,IAAN,CACEgB,OAAO,QACPf,QAAQ,MACRC,IAAI,aACJpE,IAAG,UAAEgD,EAAKC,SAAS,UAAhB,aAAE,EAAkB3G,OAG3B,kBAAC2H,EAAA,EAAKI,KAAN,KACE,kBAACJ,EAAA,EAAKK,MAAN,KACE,kBAAC,IAAD,CAAMC,GAAIlB,EAAgBL,EAAKzC,MAAOyC,EAAK5I,KACxC4I,EAAKzC,QAGV,kBAAC0D,EAAA,EAAKK,MAAN,KACE,yBAAK1E,UAAU,UAAf,6BACY,IACV,uBAAGc,MAAO,CAAEoD,MAAO,QAAUlE,UAAU,QACpCoD,EAAKkH,gBAKZ,uBAAGxJ,MAAO,CAAEoD,MAAO,SAAnB,oCACgB3I,MACb6H,EAAKN,eAER,kBAAC,IAAD,CAAM6B,GAAIlB,EAAgBL,EAAKzC,MAAOyC,EAAK5I,KACzC,0BAAMwF,UAAU,cAAcc,MAAO,CAAEoD,MAAO,QAA9C,6BACa,kBAAC,IAAD,CAAiBtD,KAAM2E,cAtChD,iEAgDH6C,EACC,yBAAKpI,UAAU,kBAAf,wBAEE,kBAAC0B,EAAA,EAAD,CAASC,UAAU,YAGrB,GAzDJ,OA2DGrF,QA3DH,IA2DGA,IAAS,oB,wECnFHiO,I,cAAsB,SAAC,GAM7B,IALLxH,EAKI,EALJA,UACAyH,EAII,EAJJA,aACAvH,EAGI,EAHJA,QACAwH,EAEI,EAFJA,SAEI,IADJC,wBACI,MADe,IACf,EACEC,EAAgBC,GACpB7H,EACA,GACA8H,OAASC,MAAM,QAJb,EAMsB3M,qBANtB,mBAMG7B,EANH,KAMUgM,EANV,KAQJ9J,qBAAU,WACR,IAAMoH,EAAWuD,YAAW,kBAAMb,EAAS,QAAOoC,GAClD,OAAO,WACLtB,aAAaxD,MAEd,CAACtJ,EAAOoO,IAgBX,OACE,kBAAC,WAAD,KACE,kBAAC,KAAD,eACE1K,UAAU,6BACVyK,SAAUA,EACVM,SAAUhI,EACViI,SAAU,SAAClE,GAAD,OApBO,SAACA,GAClBA,GAAQ+D,OACVvC,EAAS,6FAGPxB,GAAQ7D,EACVqF,EAAS,iGAIXA,EAAS,MACTkC,EAAa1D,IASWmE,CAAenE,IACnCoE,WAAY,SAACpE,GACX,OAAO+D,OAASM,SAAS,EAAG,OAAOC,SAAWtE,GAEhDuE,QAASR,OAASO,SAClBE,QAASrI,EACTsI,gBAAc,EACdC,WAAW,QACXC,YAAY,OACZC,WAAW,wBACPf,IAELrO,GACC,kBAACqP,GAAA,EAAKC,QAAQC,SAAd,CAAuBC,KAAK,WAAWxP,MAMlCyP,GAAoB,SAAC,GAM3B,IALL9I,EAKI,EALJA,QACA+I,EAII,EAJJA,WACAjJ,EAGI,EAHJA,UACA0H,EAEI,EAFJA,SAEI,IADJC,wBACI,MADe,IACf,IACsBvM,qBADtB,mBACG7B,EADH,KACUgM,EADV,KAEE2D,EAAcrB,GAAqB3H,EAAS,GAAI4H,OAASC,MAAM,QAErEtM,qBAAU,WACR,IAAMoH,EAAWuD,YAAW,kBAAMb,EAAS,QAAOoC,GAClD,OAAO,WACLtB,aAAaxD,MAEd,CAACtJ,EAAOoO,IAeX,OACE,kBAAC,WAAD,KACE,kBAAC,KAAD,eACE1K,UAAU,6BACVyK,SAAUA,EACVM,SAAU9H,EACV+H,SAAU,SAAClE,GAAD,OAnBO,SAACA,GAClBA,EAAO+D,OACTvC,EAAS,wGAGPxB,GAAQ/D,EACVuF,EAAS,4GAIX0D,EAAWlF,GASamE,CAAenE,IACnCoE,WAAY,SAACpE,GACX,OAAO+D,OAASM,SAAS,EAAG,OAAOC,SAAWtE,GAEhDuE,QAAStI,EACTwI,gBAAc,EACdC,WAAW,QACXC,YAAY,OACZC,WAAW,wBACPO,IAEL3P,GACC,kBAACqP,GAAA,EAAKC,QAAQC,SAAd,CAAuBC,KAAK,WAAWxP,KAMzCsO,GAAuB,SAAC9D,EAAMoF,EAAYC,GAC9C,IAAMC,EAAO,GAYb,OAXIvB,KAAO/D,GAAMuF,OAAOxB,OAAU,SAChCuB,EAAKE,QAAUC,KAAKC,KAClB3B,OAAS4B,MAAM5B,OAAS6B,QAAQC,QAAQ9B,OAAS+B,UACjDV,GAEFE,EAAKS,QAAUN,KAAKC,KAClB3B,OAAS4B,MAAMN,EAAOO,QAAQC,QAAQR,EAAOS,UAC7CV,IAIGE,GCzHIU,I,OAAS,SAAC,GAAkC,IAAD,EAA/B1E,EAA+B,EAA/BA,QAAStC,EAAsB,EAAtBA,MAAOiH,EAAe,EAAfA,SAAe,EAC5B5O,mBAAS,CAAE6O,IAAK,EAAGC,IAAK,MADI,mBAC/CC,EAD+C,KACxCC,EADwC,OAEpBhP,mBAChC0M,OAASuC,IAAI,EAAG,WAAWhC,UAHyB,mBAE/CrI,EAF+C,KAEpCyH,EAFoC,OAKxBrM,mBAC5B0M,OAASuC,IAAI,EAAG,UAAUA,IAAI,GAAI,KAAKhC,UANa,mBAK/CnI,EAL+C,KAKtC+I,EALsC,OAQV7N,oBAAS,GARC,mBAQ/CkP,EAR+C,KAQ/BC,EAR+B,OASlBnP,mBAAS,IATS,mBAS/CgD,EAT+C,KASnCC,EATmC,KActD5C,qBAAU,WACR+C,MACC,IAEH/C,qBAAU,WACH6O,GACHN,GAAS,SAACQ,GAAD,mBAAC,eACLA,GADI,IAEPrK,cAAc,EACdH,UAAWA,EAAUyK,YAAY,oBACjCvK,QAASA,EAAQuK,YAAY,2BAGhC,CAACzK,EAAWE,EAAS8J,EAAUM,IAElC,IAAM9L,EAAqB,WACzBC,IAA2B/D,MAAK,SAACzD,GAC/BoH,EAAcpH,EAASE,KAAKA,UAIhC,OACE,kBAACgQ,GAAA,EAAD,CAAKlK,UAAU,eAAemK,GAAI,GAChC,6BACE,yBAAKnK,UAAU,mCACb,2BACE,gDAGF,kBAAC2L,GAAA,EAAD,KACE,kBAACA,GAAA,EAAK8B,MAAN,CAAYC,UAAU,SACpB,kBAAC/B,GAAA,EAAKgC,MAAN,6BACA,kBAAChC,GAAA,EAAKC,QAAN,CACEZ,SAAU,SAAC/I,GACT,IAAM5E,EAAQ4E,EAAEC,OAAO7E,MACvB0P,GAAS,SAACQ,GAAD,mBAAC,eAAeA,GAAhB,IAAsB5M,MAAOtD,QAExCyO,KAAK,QACL8B,YAAY,6CACZC,aAAW,cACXC,mBAAiB,kBAGrB,kBAACnC,GAAA,EAAK8B,MAAN,CAAYC,UAAU,YACpB,kBAAC/B,GAAA,EAAKgC,MAAN,sBACEvF,EAyBA,6BACE,kBAAC1G,EAAA,EAAD,CAASC,UAAU,YAzBrB,kBAACgK,GAAA,EAAKC,QAAN,CACEmC,GAAG,SACHC,aAAY,UAAElI,EAAMmI,qBAAR,QAAyBnI,EAAMmI,eAE3C,4BAAQxN,QAAS,kBAAM9D,GAAQsK,QAAQ,YAAvC,2BAGC9F,EAAWS,KAAI,SAACC,GACf,OAAOA,EAASS,cAAcV,KAAI,SAACsM,EAAapM,GAC9C,OACE,4BACE1E,IAAK0E,EACLrB,QAAS,SAACwB,GACRtF,GAAQsK,QAAR,iBAA0BhF,EAAEC,OAAO7E,SAErCA,MAAO6Q,EAAY1T,IAElB0T,EAAYhP,cAY3B,kBAACyM,GAAA,EAAK8B,MAAN,CAAYC,UAAU,aACpB,kBAAC/B,GAAA,EAAKwC,MAAN,CACEnD,SAAU,kBACR+B,GAAS,SAACQ,GAAD,mBAAC,eACLA,GADI,IAEPrK,cAAe4C,EAAM5C,mBAGzB4I,KAAK,SACLsC,MAAM,oDACNC,QAASvI,EAAM5C,gBAGnB,kBAACyI,GAAA,EAAK8B,MAAN,CAAYC,UAAU,SACpB,uBAAG1N,UAAU,QAAb,UACA,kBAAC,KAAD,CACEsO,YAAa,SAACjR,GAAD,gBACR9B,OADQ,OAC8B8B,IAE3CkR,KAAM,IACNlR,MAAO6P,EACPsB,SAAU,IACVC,SAAU,EACVzD,SAAU,SAAC3N,GACT8P,EAAS9P,GACT0P,GAAS,SAACQ,GAAD,mBAAC,eACLA,GADI,IAEPmB,SAAUrR,EAAM2P,KAAO,EAAI,KAAO3P,EAAM2P,IACxC2B,SAAUzB,EAAMD,aAKxB,kBAACtB,GAAA,EAAK8B,MAAN,CAAYzN,UAAU,OAAO0N,UAAU,kBACrC,kBAAC/B,GAAA,EAAKwC,MAAN,CACEnD,SAAU,WACRsC,GAAmBD,GACdA,GACHN,GAAS,SAACQ,GAAD,mBAAC,eACLA,GADI,IAEPxK,UAAW,KACXE,QAAS,WAIf6I,KAAK,SACLsC,MAAM,2BAGV,kBAACzC,GAAA,EAAK8B,MAAN,CAAYC,UAAU,gBACpB,oEACA,kBAAC,GAAD,CACEjD,SAAU4C,EACVuB,UAAU,EACV7L,UAAWA,EACXyH,aAAcA,EACdvH,QAASA,KAGb,kBAAC0I,GAAA,EAAK8B,MAAN,CAAYC,UAAU,WACpB,8DACA,kBAAC,GAAD,CACEjD,SAAU4C,EACVuB,UAAU,EACV3L,QAASA,EACT+I,WAAYA,EACZjJ,UAAWA,W,kBCpKd7B,GAAS,SAAC,GAAyB,IAAvBqH,EAAsB,EAAtBA,gBACvB,OACE,yBAAKvI,UAAU,kBACb,6BACE,mEACA,+FAA+BuI,IAEjC,yBAAKvI,UAAU,yBAAyBtF,KAAK,WAC3C,kBAACmU,GAAA,EAAD,KACE,kBAACA,GAAA,EAASxO,OAAV,CACEL,UAAU,WACVuE,QAAQ,QACR/J,GAAG,kBAHL,8BAQA,kBAACqU,GAAA,EAASC,KAAV,KACE,kBAACD,GAAA,EAAS7N,KAAV,CAAeb,KAAK,cAApB,4BCZC4O,GAAO,WAAO,IAAD,EACE5Q,mBAAS,CACjCwC,MAAO,KACPuC,cAAc,EACdwL,SAAU,KACVC,SAAU,KACV5L,UAAW,KACXE,QAAS,KACTgL,cAAe,OARO,mBACjBnI,EADiB,KACViH,EADU,KAWlBkB,EAAkBe,eAAlBf,cAXkB,EAaY9P,mBAAS,GAbrB,mBAajB+J,EAbiB,KAaLC,EAbK,KAclB7E,EAAQwF,GAAYhD,EAAO,KAdT,EAsBpBmC,GAAe3E,EAAO4E,EAAYC,GANpCQ,EAhBsB,EAgBtBA,YACA/E,EAjBsB,EAiBtBA,MACA2E,EAlBsB,EAkBtBA,gBACAE,EAnBsB,EAmBtBA,QACAL,EApBsB,EAoBtBA,QACA9L,EArBsB,EAqBtBA,MAUF,OAPAkC,qBAAU,WACJsH,EAAMmI,gBAAkBA,EAC1BlB,GAAS,SAACQ,GAAD,mBAAC,eAAeA,GAAhB,IAAsBU,qBAC1BtF,MAEN,CAACsF,EAAetF,IAGjB,kBAAC,WAAD,KACE,kBAAC,IAAD,KACE,kBAACsB,GAAA,EAAD,KACE,kBAACC,GAAA,EAAD,CAAKC,GAAI,IACP,kBAAC,GAAD,CAAQ5B,gBAAiBA,KAE3B,kBAAC2B,GAAA,EAAD,CAAKC,GAAI,IACP,kBAACF,GAAA,EAAD,KACE,kBAAC,GAAD,CAAQ7B,QAASA,EAAStC,MAAOA,EAAOiH,SAAUA,IAClD,kBAAC7C,GAAA,EAAD,CAAKC,GAAI,GACP,kBAAC,GAAD,CACEvG,MAAOA,EACPT,SAAU2C,EAAM3C,SAChBsF,QAASA,EACTL,QAASA,EACT9L,MAAOA,EACP6L,cAAeA,W,0ECpDpB8G,GAAc,SAAC,GAAiC,IAA/BlN,EAA8B,EAA9BA,KAAMmN,EAAwB,EAAxBA,YAAa9L,EAAW,EAAXA,KAAW,EACxBjF,oBAAS,GADe,mBACnDG,EADmD,KACxCC,EADwC,KAY1D,OACE,kBAAC4Q,GAAA,EAAD,CAAOpN,KAAMA,EAAMqN,OAAQF,GACzB,kBAACC,GAAA,EAAMjO,OAAP,CAAcmO,aAAW,GACvB,kBAACF,GAAA,EAAMzK,MAAP,iEACyBtB,QADzB,IACyBA,OADzB,EACyBA,EAAMzC,MAD/B,IACuC,IACrC,0BAAMX,UAAU,cAAhB,qCAGJ,kBAACmP,GAAA,EAAMG,OAAP,KACE,kBAACC,GAAA,EAAD,CAAQhL,QAAQ,YAAY9D,QAASyO,GAArC,gBAGC5Q,EACC,kBAACiR,GAAA,EAAD,CAAQhL,QAAQ,iBAAiBkG,UAAQ,GACvC,kBAAC/I,EAAA,EAAD,CACEqM,GAAG,OACHpM,UAAU,OACV6N,KAAK,KACL9U,KAAK,SACL+U,cAAY,SANhB,uBAWA,kBAACF,GAAA,EAAD,CACEhL,QAAQ,iBACR9D,QAAS,kBAnCGjG,EAmCe,OAAC4I,QAAD,IAACA,OAAD,EAACA,EAAM5I,GAlC1C+D,GAAa,QACbwF,EAAwBvJ,GAAIiD,MAAK,WAC/BZ,IAAMqK,QAAQ,2BACd3I,GAAa,GACb5B,GAAQC,KAAK,QALI,IAACpC,IAiCd,aClCGkV,GAAuB,SAAC,GAAsB,IAApBC,EAAmB,EAAnBA,OAAQvM,EAAW,EAAXA,KAAW,EACtBjF,oBAAS,GADa,mBACjDyR,EADiD,KACtCC,EADsC,KAMxD,OAAOF,IAAWvM,EAAKuM,OACrB,kBAAC,WAAD,KACE,kBAACtL,EAAA,EAAD,CAAMrE,UAAU,eACd,kBAACqE,EAAA,EAAKnD,OAAN,gBACA,yBAAKlB,UAAU,+BACb,kBAACuP,GAAA,EAAD,CACEvP,UAAU,sDACVS,QAAS,kBACP9D,GAAQC,MhBhBO+D,EgBiBAyC,EAAKzC,MhBjBEnG,EgBiBK4I,EAAK5I,GhBhBtC,eAAN,OAAsBkJ,IAAQ/C,GAA9B,YAAwCnG,IgBiB1BmC,GAAQiB,SAASC,UhBlBL,IAAC8C,EAAOnG,IgBsBxB,kBAAC,IAAD,CAAiBoG,KAAMkP,MATzB,yBAYF,yBAAK9P,UAAU,+BACb,kBAACuP,GAAA,EAAD,CACE9O,QArBS,kBAAMoP,GAAa,IAsB5B7P,UAAU,sDAEV,kBAAC,IAAD,CAAiBY,KAAMmP,MAJzB,aAQJ,kBAAC,GAAD,CAAahO,KAAM6N,EAAWV,YA7Bd,kBAAMW,GAAa,IA6BqBzM,KAAMA,KAGhE,ICrCS4M,I,OAAO,SAAC,GAAkB,IAAhBC,EAAe,EAAfA,SACf/R,EAAO0B,IAEb,OACE,yBAAKI,UAAU,QACb,wBAAIA,UAAU,eAAd,wDACA,wJACA,yBAAKA,UAAU,gBACb,wBAAIA,UAAU,kCACXiQ,EAASrO,KAAI,SAACsO,EAAGpO,GAChB,IAAIwF,EAAU2I,EAASA,EAASlR,OAAS,EAAI+C,GAC7C,OAAOwF,EAAQqI,SAAWzR,EAAKE,KAAK5D,GAClC,wBACE4C,IAAG,UAAK0E,EAAL,YAAcmO,EAASlR,QAC1BiB,UAAS,kBACG,IAAV8B,EAAc,sBAAwB,eAGvC5D,EAAKE,KAAK3D,QAAU,yBAAK2F,IAAKkH,EAAQb,QAAY,kBAAC,IAAD,CAAiB7F,KAAMC,MACzE3C,EAAKE,KAAK3D,QAAU6M,EAAQpI,KAAO,IAAM,wBACzChB,EAAKE,KAAK3D,QAAU6M,EAAQ6I,MAAQ,IAAM,GAR7C,wCAUG7I,EAAQ8I,UAVX,IAUuB7U,OAGvB,wBACE6B,IAAK0E,EACL9B,UAAS,kBACG,IAAV8B,EAAc,sBAAwB,kBAGvC5D,EAAKE,KAAK3D,QAAU,yBAAK2F,IAAKkH,EAAQb,QAAY,kBAAC,IAAD,CAAiB7F,KAAMC,MACzE3C,EAAKE,KAAK3D,QAAU6M,EAAQpI,KAAO,IAAM,wBACzChB,EAAKE,KAAK3D,QAAU6M,EAAQ6I,MAAQ,IAAM,GAC1C5U,MACA+L,EAAQ8I,UAVX,kDCzBDC,I,OAAS,SAAC,GAAkB,IAAhBJ,EAAe,EAAfA,SACjB/R,EAAO0B,IAEb,OACE,6BACE,wBAAII,UAAU,eAAd,gEACA,yBAAKA,UAAU,gBACb,wBAAIA,UAAU,kCACXiQ,EAASrO,KAAI,SAACsO,EAAGpO,GAAW,IAAD,QACtBwF,EAAU2I,EAASA,EAASlR,OAAS,EAAI+C,GAC7C,OAAOwF,EAAQqI,UAAR,OAAmBzR,QAAnB,IAAmBA,GAAnB,UAAmBA,EAAME,YAAzB,aAAmB,EAAY5D,IACpC,wBACE4C,IAAG,UAAK0E,EAAL,YAAcmO,EAASlR,QAC1BiB,UAAS,kBACG,IAAV8B,EAAc,sBAAwB,eAGvC,yBAAK1B,IAAKkH,EAAQgJ,WAClBhJ,EAAQpI,KAAO,IACfoI,EAAQ6I,MAAQ,IARnB,wCAUG7I,EAAQiJ,OAVX,IAUoBhV,OAGpB,wBACE6B,IAAK0E,EACL9B,UAAS,kBACG,IAAV8B,EAAc,sBAAwB,mBAGnC,OAAJ5D,QAAI,IAAJA,GAAA,UAAAA,EAAME,YAAN,eAAY3D,SACX,yBAAK2F,IAAKkH,EAAQgJ,WAElB,kBAAC,IAAD,CAAiB1P,KAAMC,OAEpB,OAAJ3C,QAAI,IAAJA,GAAA,UAAAA,EAAME,YAAN,eAAY3D,SAAU6M,EAAQpI,KAAO,IAAM,2BACvC,OAAJhB,QAAI,IAAJA,GAAA,UAAAA,EAAME,YAAN,eAAY3D,SAAU6M,EAAQ6I,MAAQ,IAAM,GAZ/C,uCAcG7I,EAAQiJ,OAdX,IAcoBhV,MAdpB,a,8BC3BDiV,GAAkB,SAAC,GAKzB,IAJLlS,EAII,EAJJA,UACAmS,EAGI,EAHJA,cACAF,EAEI,EAFJA,OACAG,EACI,EADJA,WAGMC,EAAeC,WADTF,GAAc,EAAIH,EAASA,EAAUA,EAASG,EAAc,KACnCG,QAAQ,GAE7C,OAAQvS,EAaN,kBAACiR,GAAA,EAAD,CAAQuB,OAAK,EAACvM,QAAQ,UAAUiL,KAAK,KAAK/E,UAAQ,GAChD,kBAAC/I,EAAA,EAAD,CACEqM,GAAG,OACHpM,UAAU,OACV6N,KAAK,KACL9U,KAAK,SACL+U,cAAY,SANhB,qCAZA,kBAACF,GAAA,EAAD,CACE9O,QAAS,WACPgQ,EAAcE,IAEhBG,OAAK,EACLvM,QAAQ,UACRiL,KAAK,MANP,wBAQWjU,MACRoV,GAA8B,SCHtB,GAjBO,SAACI,GACrB,OAAO5V,EACJgB,IADI,UACGZ,QADH,0BAC4DwV,IAChEtT,MAAK,SAACzD,GAAD,OAAcA,MAcT,GAXC,SAAC+W,GACf,OAAO5V,EAAIgB,IAAJ,UAAWZ,QAAX,oBAA8DwV,IACpEtT,MAAK,SAACzD,GAAD,OAAcA,MASP,GANK,SAACuF,GACnB,OAAOpE,EACJqC,KAAKjC,oBAAyCgE,GAC9C9B,MAAK,SAACzD,GAAD,OAAcA,MCIXgX,GAAM,SAAC,GAKb,IAJLD,EAII,EAJJA,OACAjO,EAGI,EAHJA,cACAmO,EAEI,EAFJA,iBACAC,EACI,EADJA,iBACI,EAC8B/S,oBAAS,GADvC,mBACGG,EADH,KACcC,EADd,OAEiBJ,oBAAS,WAC5B,IAAMlC,EAAcC,IAAQC,IAAI,eAKhC,OAJoB,IAAIgV,MACrBC,QAAQ,oDAA2DnV,GACnEoV,WAJEC,EAFH,sBAUgCnT,mBAAS,GAVzC,mBAUGoT,EAVH,KAUeC,EAVf,OAWoDrT,qBAXpD,mBAWGsT,EAXH,KAWyBC,EAXzB,OAYsCvT,mBAAS,GAZ/C,mBAYGwT,EAZH,KAYkBC,EAZlB,OAa4BzT,mBAAS,IAbrC,mBAaG8R,EAbH,KAaa4B,EAbb,KAcEC,EAAqBlJ,sBAAW,sBAAC,sBAAA7M,EAAA,sEAC/BuV,EAAWS,OADoB,uBAE/B5W,EAAIqC,KAAK,oBAAqB,IAFC,uBAG/B8T,EAAWU,QAHoB,gCAK7BV,EAAWW,OAAO,QAASlB,GALE,yDAOnClU,IAAMqV,QACJ,+JARiC,0DAWpC,CAACZ,EAAYP,IAEVN,EAAgB,SAACF,GACjBK,WAAWL,GAAUkB,EACvB5U,IAAMP,MAAN,kEAC8Bf,OAD9B,OACoEkW,KAKtElT,GAAa,GACb+S,EACGW,OAAO,iBAAkBrB,WAAWL,GAASQ,GAC7C1J,OAAM,WACLxK,IAAMP,MACJ,wJAGNiC,GAAa,KAGT4T,EAAkBvJ,uBAAY,WAClCwJ,GAAyBrB,GAAQtT,MAAK,SAACzD,GAAc,IAAD,EAE9CuX,EAIFA,GALU,UAAGvX,EAASE,KAAKA,YAAjB,aAAG,EAAoBqW,QAKpBvW,EAASE,KAAKA,KAAKqW,OAFnBzN,EAKf,IAAMuP,EAAoBzB,WACxBW,EAAaN,GACbJ,QAAQ,GACVW,EAAcD,GACdG,EAAwBW,QAEzB,CAACtB,EAAQjO,EAAemO,IAgE3B,OA9DAzS,qBAAU,WAAM,4CAcd,sBAAAzC,EAAA,6DACEwC,GAAa,GADf,SAEQ+S,EAAWU,QAFnB,gCAIUV,EAAWW,OAAO,QAASlB,GAJrC,wEAMUe,IANV,QASEK,IAEA5T,GAAa,GAEb+S,EAAWgB,GAAG,mBAAmB,SAAUhW,GACzCO,IAAMP,MAAMA,MAGdgV,EAAWgB,GACT,kBACA,SAAUlC,EAAWT,EAAQ4C,EAAYC,EAAaC,GACpDZ,GAAY,SAACtE,GAAD,6BACPA,GADO,CAEV,CACE6C,UAAWQ,WAAWR,GAAWS,QAAQ,GACzClB,SACAzQ,KAAMqT,EACN9L,MAAO+L,EACPrC,MAAOsC,QAGX,IAAMJ,EAAoBzB,WACxBR,EAAYa,GACZJ,QAAQ,GACVW,EAAcpB,GACdsB,EAAwBW,MAlC9B,0DAdc,sBACdD,GAAmBrB,GAAQtT,MAAK,SAACzD,GAE/B,IADA,IAAIiW,EAAW,GACNnR,EAAI,EAAGA,EAAI9E,EAASE,KAAKA,KAAK6E,OAAQD,IAC7CmR,EAASrT,KAAK,CACZwT,UAAWQ,WAAW5W,EAASE,KAAKA,KAAK4E,GAAGyR,QAAQM,QAAQ,GAC5DlB,OAAQ3V,EAASE,KAAKA,KAAK4E,GAAG6Q,OAC9BzQ,KAAMlF,EAASE,KAAKA,KAAK4E,GAAGI,KAC5BuH,MAAOzM,EAASE,KAAKA,KAAK4E,GAAGwR,SAC7BH,MAAOnW,EAASE,KAAKA,KAAK4E,GAAGqR,QAGjC0B,EAAY5B,MAZA,mCAqDdyC,KACC,CACD3B,EACAO,EACAL,EACAkB,EACAL,IAIA,kBAAC,WAAD,KACE,kBAAC5H,GAAA,EAAD,CAAKyI,GAAI,GACP,kBAACzB,EAAD,MACA,6EAC0B3V,MACvBgW,EAAWV,QAAQ,IAEtB,kFAC2BtV,MACxBkW,GAEH,kBAACpN,EAAA,EAAD,CAAMrE,UAAU,QACd,kBAACqE,EAAA,EAAKI,KAAN,KACE,kBAACmO,GAAA,EAAD,CAAY5S,UAAU,QACpB,kBAAC4S,GAAA,EAAWC,QAAZ,KACE,kBAACD,GAAA,EAAWE,KAAZ,KACGvX,QAGL,kBAACwX,GAAA,EAAD,CACEnF,YAAY,iDACZ9B,KAAK,SACLd,SAAU,SAAC/I,GAAD,OAAO2P,EAAiB3P,EAAEC,OAAO7E,QAC3C2P,IAAKyE,IAEP,kBAAClC,GAAA,EAAD,CACEvP,UAAU,OACV8Q,OAAK,EACLvM,QAAQ,SACRiL,KAAK,KACL/O,QAAS,kBAAMgQ,EAAckB,KAE5BrT,EACC,kBAAC,WAAD,KACE,kBAACoD,EAAA,EAAD,CACEqM,GAAG,OACHpM,UAAU,OACV6N,KAAK,KACL9U,KAAK,SACL+U,cAAY,SANhB,yBAWA,QAIN,yBAAKzP,UAAU,oBACb,6BACI1B,EAMA,GALA,kBAAC,GAAD,CACEmS,cAAeA,EACfF,OAAQkB,QASpB,kBAAC,GAAD,CAAMxB,SAAUA,OClNX+C,GAAY,SAAC,GAA8C,IAA5CjC,EAA2C,EAA3CA,OAAQkC,EAAmC,EAAnCA,WAAmC,KAAvB/B,iBACf/S,mBAAS,KAD6B,mBAC9D8R,EAD8D,KACpDiD,EADoD,KAG/DC,EAAqB,WACrBF,GAAcA,EAAWlU,OAAS,GACpCmU,EAAWD,IAQf,OAJAzU,qBAAU,WACR2U,MACC,CAACpC,EAAQoC,IAGV,kBAAC,WAAD,KACE,kBAAC,GAAD,CAAQlD,SAAUA,MCFXmD,GAAU,SAAChN,GAAW,IAAD,ICd3B,SAAoBA,GAAQ,IAAD,EACFjI,mBAAS,MADP,mBACzBkV,EADyB,KAChBC,EADgB,KAE1BC,EAAc1I,OAAS2C,YAAY,oBACnCgG,EAAiB3I,OAAS4I,MAAMjG,YAAY,oBAqClD,OAnCAhP,qBAAU,WACR,IAAIkV,EACJ,GAAItN,EAAMrD,UAAYwQ,EAAa,CAEjC,IAAII,EAAY9I,KAAO4I,IAAIrN,EAAMrD,WAAW6Q,QAC5CF,EAAW7I,KAAO6I,SAASC,EAAUE,KAAKN,SACrC,GAAInN,EAAMrD,UAAYwQ,GAAenN,EAAMnD,QAAUsQ,EAAa,CACvE,IAAII,EAAY9I,KAAO4I,IAAIrN,EAAMnD,SAAS2Q,QAC1CF,EAAW7I,KAAO6I,SAASC,EAAUE,KAAKN,IAG5C,IAEIO,EACCT,IACHS,EAAU3K,YAAW,WACnBmK,EAAWI,KACV,MAGL,IAAMK,EACJV,GACAxN,aAAY,WACV,GAAIwN,EAAQW,eAAiB,GAAKN,EAAW,EAC3C,OAAO3N,cAAcgO,GAEvBL,EAAW7I,KAAO6I,SAASA,EAfd,IAemC,gBAChDJ,EAAWI,KAhBE,KAkBjB,OAAO,WACL3N,cAAcgO,GACd3K,aAAa0K,MAEd,CAACT,EAASjN,EAAOmN,IAEb,CACLF,UACAG,kBD3BkCS,CAAW7N,GAAvCiN,EADwB,EACxBA,QAASG,EADe,EACfA,eACTpV,EAASwB,IAATxB,KAFwB,EAGMD,oBAAS,GAHf,mBAGzB+V,EAHyB,KAGZC,EAHY,KAuB1BC,EAAU,WACd,OAAOf,EACL,uBAAGvS,MAAO,CAAEoD,MAAO,QAChBmP,EAAQgB,OAAOxD,UADlB,KAC+BwC,EAAQ5G,QADvC,KACkD4G,EAAQ1G,UAD1D,IACsE,IACnE0G,EAAQiB,UAFX,KAKA,kBAAC5S,EAAA,EAAD,CAAS1B,UAAU,cAAc2B,UAAU,YAIzCuP,EAAmB,WACvB,OAAO9K,EAAMnD,QAAUuQ,GACrBpN,EAAMrD,UAAYyQ,EAClB,yBAAKxT,UAAU,oCACb,oEACA,6BACE,kBAACoU,EAAD,QAGFhO,EAAMrD,UAAYyQ,EACpB,yBAAKxT,UAAU,oCACb,iHACA,6BACE,kBAACoU,EAAD,QAIJ,0BAAMpU,UAAU,mCACd,0BAAMc,MAAO,CAAEoD,MAAO,QAAtB,2CAKN,OACE,kBAAC,WAAD,KACIgQ,EAmEA,kBAAC,WAAD,KACE,kBAAC,GAAD,CACEnD,OAAQ3K,EAAMhD,KAAK5I,GACnBsI,cAAesD,EAAMhD,KAAKN,cAC1BmO,iBAAkB7K,EAAMhD,KAAKmR,YAC7BrD,iBAAkBA,KAvEtB9K,EAAMhD,KACJ,kBAAC8G,GAAA,EAAD,CAAKyI,GAAI,GACP,yBAAK3S,UAAU,QACb,kBAACkR,EAAD,OAEF,yBAAKlR,UAAU,aACb,kBAACqE,EAAA,EAAD,CAAMmQ,OAAO,QACX,kBAACnQ,EAAA,EAAKI,KAAN,KACE,kBAACJ,EAAA,EAAKyO,KAAN,sDACqB1M,EAAMhD,YAD3B,aACqB,EAAYN,cADjC,KACkD,IACpB,GAA3BsD,EAAMhD,KAAKN,eAEd,yBAAK9C,UAAU,OACZoG,EAAMrD,UAAYyQ,GACnBpN,EAAMnD,QAAUuQ,EACd,kBAACjE,GAAA,EAAD,CACEhL,QAAQ,UACRiL,KAAK,KACLxP,UAAU,YACVS,QA1EI,WACxB,GAAIrC,EAAM,CACR,IAAIqW,EAAYra,KAAKC,MAAMW,aAAayD,QAAQ,SAChD,YAAyBiW,GAArBD,EAAU3Z,SAA6C,IAArB2Z,EAAU3Z,aAC9C6B,GAAQC,KAAK,iBAAkBD,GAAQiB,SAASC,eAIlDsW,GAAe,GAIjBtX,IAAMP,MACJ,uIAEFK,GAAQC,KAAK,WAAYD,GAAQiB,SAASC,YA6DtB,0BAAMmC,UAAU,kCAAhB,YANF,wBAYA,kBAAC2U,GAAA,EAAD,CACEC,QACE,kBAACC,GAAA,EAAD,CAASra,GAAG,oBAAZ,2GAKF,0BAAMwF,UAAU,aACd,kBAACuP,GAAA,EAAD,CACEhL,QAAQ,UACRiL,KAAK,KACL/E,UAAQ,EACRzK,UAAU,YACVc,MAAO,CAAEgU,cAAe,SAExB,0BAAM9U,UAAU,sBAAhB,aAPF,6BAgBZ,kBAACqE,EAAA,EAAD,CAAMmQ,OAAO,QACX,kBAACnQ,EAAA,EAAKI,KAAN,KACE,kBAAC,GAAD,CACEwO,WAAY7M,EAAMhD,KAAK2R,WACvB7D,iBAAkBA,OAK1B,kBAAC,GAAD,CAAsBvB,OAAM,OAAEvR,QAAF,IAAEA,OAAF,EAAEA,EAAM5D,GAAI4I,KAAMgD,EAAMhD,QAGtD,KEhIK4R,I,OAZQ,SAAC3R,GACtB,IAAInJ,EAAO,GAQX,OAPAmJ,EAASlG,SAAQ,SAAC8X,GAChB/a,EAAK0C,KAAK,CACRsY,SAAUD,EAAQvY,IAClByY,UAAWF,EAAQvY,SAIhBxC,ICCIkb,GAAU,WAAO,IAAD,EACOjX,oBAAS,GADhB,mBACpBG,EADoB,KACTC,EADS,OAEHJ,mBAAS,IAFN,mBAEpBiF,EAFoB,KAEdnI,EAFc,OAGCkD,mBAAS,IAHV,mBAGpBkX,EAHoB,KAGZC,EAHY,KAKrB9a,EAAOwU,eAAPxU,GAWN,OATAgE,qBAAU,WACRD,GAAa,GACbwF,EAAyBvJ,GAAIiD,MAAK,YAAyB,IAAhBzD,EAAe,EAArBE,KACnCe,EAAQjB,EAASE,MACjBob,EAAUN,GAAehb,EAASE,KAAKmJ,WACvC9E,GAAa,QAEd,CAAC/D,IAGF,kBAAC,WAAD,KACI8D,EAyBA,wBAxBA,kBAAC2L,GAAA,EAAD,KACE,kBAACC,GAAA,EAAD,CAAKyI,GAAI,GACP,wBAAI7R,MAAO,CAAEyU,UAAW,eAAiBnS,EAAKzC,OAC9C,kBAAC,KAAD,CAAc6U,gBAAgB,EAAO5R,MAAOyR,IAC5C,kBAAChR,EAAA,EAAD,CAAMrE,UAAU,QACd,kBAACqE,EAAA,EAAKnD,OAAN,KACE,kBAACqO,GAAA,EAAD,uBAEF,kBAAClL,EAAA,EAAKI,KAAN,KACE,kBAACJ,EAAA,EAAKyO,KAAN,KAAY1P,EAAKqS,aACjB,wBAAIzV,UAAU,cAAd,+CACA,kBAACqE,EAAA,EAAKyO,KAAN,cAAkB1P,EAAKN,kBAI7B,kBAAC,GAAD,CACEM,KAAMA,EACNL,UAAWK,EAAKL,UAChBE,QAASG,EAAKH,QACdH,cAAeM,EAAKN,gBAEtB,kBAAC,GAAD,S,4BC5CJ4S,I,OAAS,CACbC,QAAS,OACTC,WAAY,SACZC,eAAgB,SAChBC,SAAU,OACVC,MAAO,SAGHC,GACqB,0BADrBA,GAEgB,qBAGTC,GAAgB,SAAC7P,GAAW,IAAD,EACNjI,mBAAS,IADH,mBAC/BkF,EAD+B,KACrB6S,EADqB,OAEZ/X,mBAAS,IAFG,mBAE/BgY,EAF+B,KAExBC,EAFwB,OAGFjY,mBAAS,IAHP,mBAG/BkY,EAH+B,KAGnBC,EAHmB,OAOlCnY,oBAAS,GAPyB,mBAKpCoY,EALoC,KAMpCC,EANoC,KAQlCC,EAAe,GAEXzL,EAA+B5E,EAA/B4E,SAAUqK,EAAqBjP,EAArBiP,OAAQqB,EAAatQ,EAAbsQ,SAE1BlY,qBAAU,WACJ+X,GAA+BlB,IACjCa,EAAYb,GACZmB,GAA+B,MAEhC,CAACD,EAA6BlB,IAEjC7W,qBAAU,WACRwM,EAASmL,EAAO9S,KACf,CAACA,EAAU8S,EAAOnL,IAErB,IAAM2L,EAAe,SAACC,GACpB,IAAMC,EACJ,IAAMzQ,EAAM0Q,cAAcC,KAAK,KAAK9P,QAAQ,MAAO,OAAS,KAC9D,OAAO,IAAI+P,OAAOH,EAAS,KAAKI,KAAKL,IAqDjCM,EAAW,SAACC,GAChB,OAAO,IAAI5a,SAAQ,SAAC6a,EAAS5a,GAC3B,IAAM6a,EAAS,IAAIC,WAEnBD,EAAOE,OAAS,SAAUtV,GACxB,IAAIuV,EAAUvV,EAAEC,OAAO0E,OACvB4Q,EAAUA,EAAQvQ,QAAQ,UAAhB,gBAAoCkQ,EAAKjY,KAAzC,YACVkY,EAAQ,CAAED,OAAMK,aAGlBH,EAAOI,cAAcN,OA8DnBO,EAAwB,WAC5B,OAAOrU,EAASzB,KAAI,SAACoD,EAASlD,GAC5B,OACE,yBAAK1E,IAAK0E,EAAO9B,UAAU,0BACzB,yBAAKA,UAAU,cAAcS,QAAS,kBA9D1B,SAACuE,GACnB,IAAM2S,EAActU,EAASuU,WAAU,SAAC3V,GAAD,OAAOA,IAAM+C,KAChDA,EAAQxK,GACVkc,GAAS,SAACnJ,GAAD,6BAAcA,GAAd,CAAoBvI,EAAQxK,QAErC4b,GAAS,SAACyB,GAAD,OACPA,EAASC,QAAO,SAAC7V,EAAGH,GAAJ,OAAcA,IAAU6V,QAG5CzB,GAAY,SAAC6B,GAAD,OACVA,EAAYD,QAAO,SAAC7V,EAAGH,GAAJ,OAAcA,IAAU6V,QAE7C3M,EAASmL,EAAO9S,GAkDkC2U,CAAYhT,KAAxD,KAGA,yBACE5E,IAAK4E,EAAQtI,IAAMsI,EAAQtI,IAAMsI,EACjChF,UAAU,gBACVwE,IAAI,iBAWd,OACE,yBAAKxE,UAAU,gBACb,yBAAKA,UAAU,iBAjDA,WACjB,GAAIoG,EAAM6R,SACR,OAAO,kBAAC,IAAD,CAAiBrX,KAAMoF,IAAUhG,UAAU,eAgD/CkY,GA5Ca,WAClB,GAAI9R,EAAM+R,UACR,OACE,uBAAGnY,UAAWoG,EAAMgS,WAAYtX,MAAOsF,EAAMiS,aAC1CjS,EAAMgI,OAyCRkK,GACD,yBAAKtY,UAAU,mBApEZqW,EAAWzU,KAAI,SAAC2W,EAAWzW,GAChC,OACE,yBACE9B,UAAW,gBAAkBoG,EAAMoS,WACnCpb,IAAK0E,EACLhB,MAAOsF,EAAMqS,YAHf,KAKKF,EAAUrZ,KAAM,IAClBqZ,EAAUzM,OAASkK,GAChB5P,EAAMsS,cACNtS,EAAMuS,mBA2DZ,4BACE7M,KAAM1F,EAAMwS,WACZ5Y,UAAW,oBAAsBoG,EAAMyS,gBACvC/X,MAAOsF,EAAM0S,aACbrY,QAdkB,WACxBgW,EAAasC,UAeN3S,EAAM4S,YAET,2BACElN,KAAK,OACLzB,IAAK,SAAC4O,GAAD,OAAYxC,EAAewC,GAChC/Z,KAAMkH,EAAMlH,KACZga,UAAW9S,EAAM+S,YACjBnO,SAlKW,SAAC/I,GAKlB,IAJA,IAAMmX,EAAanX,EAAEC,OAAOiU,MACtBkD,EAAkB,GAClBrc,EAAS,GAEN8B,EAAI,EAAGA,EAAIsa,EAAWra,OAAQD,IAAK,CAC1C,IAAIqY,EAAOiC,EAAWta,GAClByZ,EAAY,CACdrZ,KAAMiY,EAAKjY,MAERyX,EAAaQ,EAAKjY,MAOnBiY,EAAK3H,KAAOpJ,EAAMkT,aACpBf,EAAYtb,OAAOsc,OAAOhB,EAAW,CACnCzM,KAAMkK,KAERhZ,EAAOJ,KAAK2b,IAIdc,EAAgBzc,KAAKsa,EAASC,KAd5BoB,EAAYtb,OAAOsc,OAAOhB,EAAW,CACnCzM,KAAMkK,KAERhZ,EAAOJ,KAAK2b,IAchBjC,EAActZ,GA5BU,IA8BhBmc,EAAgB/S,EAAhB+S,YAER5c,QAAQid,IAAIH,GAAiB5b,MAAK,SAACgc,GACjC,IAAMC,EAAWP,EAAc,GAAK9V,EAAS0B,QACvC4U,EAAWR,EAAc,GAAKhD,EAAMpR,QAE1C0U,EAAatc,SAAQ,SAACyc,GACpBF,EAAS9c,KAAKgd,EAAYpC,SAC1BmC,EAAS/c,KAAKgd,EAAYzC,SAG5BjB,EAAYwD,GACZtD,EAASuD,OAyHLlZ,QArHc,SAACwB,GACrBA,EAAEC,OAAO7E,MAAQ,MAqHXwc,OAAQzT,EAAMyT,SAEfzT,EAAM0T,YApDT,yBAAK9Z,UAAU,yBACb,kBAAC,KAAD,CAAU+Z,eAAe,OAAOC,eAAe,OAAOlZ,MAAO4U,IAC1DgC,MAkDoC,QAM/CzB,GAAcgE,aAAe,CAC3Bja,UAAW,GACXka,mBAAoB,GACpBrB,gBAAiB,GACjBC,aAAc,GACdgB,aAAa,EACbD,OAAQ,UACR3a,KAAM,GACN+Y,UAAU,EACVe,WAAY,gBACZJ,WAAY,SACZT,WAAW,EACX/J,MAAO,iDACPiK,YAAa,GACbD,WAAY,GACZtB,cAAe,CAAC,OAAQ,QAAS,OAAQ,QACzCwC,YAAa,QACbZ,cAAe,wBACfC,cAAe,qCACfH,WAAY,GACZ1X,MAAO,GACP2X,WAAY,GACZU,aAAa,EACbnO,SAAU,aACVmP,cAAe,ICjPV,IAAMC,GAAU,WAAuB,IAAtBxU,EAAqB,uDAAV,IAAU,EACLzH,mBAAS0M,OAASO,UADb,mBACpCmI,EADoC,KACvB8G,EADuB,KAW3C,OARA7b,qBAAU,WACR,IAAMuV,EAAQlO,aAAY,WACxBwU,EAAexP,OAASO,YACvBxF,GAEH,OAAO,kBAAMG,cAAcgO,MAC1B,CAACR,EAAa3N,IAEV,CAAE2N,gBCQE+G,GAAS,WAAO,IAAD,EACiBC,eAAnCC,EADkB,EAClBA,SAAUC,EADQ,EACRA,aAAczd,EADN,EACMA,OADN,EAEQmB,oBAAS,GAFjB,mBAEnBG,EAFmB,KAERC,EAFQ,OAGUJ,mBAAS,IAHnB,mBAGnBgD,EAHmB,KAGPC,EAHO,OAIMjD,mBAAS,IAJf,mBAInBkF,EAJmB,KAIT6S,EAJS,KAKlB3C,EAAgB6G,KAAhB7G,YALkB,EAMQpV,qBANR,mBAMnB4E,EANmB,KAMRyH,EANQ,OAOIrM,qBAPJ,mBAOnB8E,EAPmB,KAOV+I,EAPU,KAS1BxN,qBAAU,WACRgM,EAAaK,KAAO0I,GAAanG,IAAI,EAAG,WAAWhC,UACnDY,EAAWnB,KAAO0I,GAAanG,IAAI,EAAG,QAAQA,IAAI,GAAI,KAAKhC,YAC1D,CAACmI,IAEJ/U,qBAAU,WACRgD,IAA2B/D,MAAK,SAACzD,GAC/BoH,EAAcpH,EAASE,KAAKA,WAE7B,IAuBH,OACE,kBAAC,IAAD,KACE,yBAAK8F,UAAU,4CACb,kBAAC2L,GAAA,EAAD,CACE+O,SAAUD,GAzBD,SAACvgB,EAAM+H,GACtB1D,GAAa,GACb,IAAIoc,EAAW,IAAIC,SAAS3Y,EAAEC,QAC9BmB,EAASlG,SAAQ,SAACga,GAChBwD,EAASE,OAAO,WAAY1D,EAAMA,EAAKjY,SAEzCyb,EAASE,OAAO,YAAa9X,EAAUyK,YAAY,qBACnDmN,EAASE,OAAO,UAAW5X,EAAQuK,YAAY,qBAE/CzJ,EACc4W,GACXld,MAAK,SAACzD,GACL2C,GAAQC,KAAR,yBAA+B5C,EAASE,KAAKA,KAAKM,QAEnD6M,OAAM,kBAAM9I,GAAa,SAYtBuC,MAAO,CACL0T,OAAQ,oBACRsG,WAAY,OACZtT,QAAS,SAGX,2DACA,kBAACmE,GAAA,EAAK8B,MAAN,CAAYC,UAAU,SACpB,kBAAC/B,GAAA,EAAKgC,MAAN,cACA,kBAAChC,GAAA,EAAKC,QAAN,CACE1M,KAAK,QACL0O,YAAY,wBACZvD,IAAKmQ,EAAS,CACZO,SAAU,4EACVC,UAAW,QAGdhe,EAAO2D,OACN,kBAACgL,GAAA,EAAKC,QAAQC,SAAd,CAAuBC,KAAK,WACzB9O,EAAO2D,MAAM2G,UAIpB,kBAACqE,GAAA,EAAK8B,MAAN,CAAYC,UAAU,eACpB,kBAAC/B,GAAA,EAAKgC,MAAN,oBACA,kBAAChC,GAAA,EAAKC,QAAN,CACE1M,KAAK,cACL6O,GAAG,WACHH,YAAY,wCACZvD,IAAKmQ,EAAS,CACZO,SAAU,mDACVC,UAAW,QAGdhe,EAAOyY,aACN,kBAAC9J,GAAA,EAAKC,QAAQC,SAAd,CAAuBC,KAAK,WACzB9O,EAAOyY,YAAYnO,UAI1B,kBAAC2C,GAAA,EAAD,KACE,kBAAC0B,GAAA,EAAK8B,MAAN,CAAYzN,UAAU,MAAM0N,UAAU,aACpC,kBAAC/B,GAAA,EAAKgC,MAAN,8CACA,kBAAC,GAAD,CACE5K,UAAWA,EACXyH,aAAcA,EACdvH,QAASA,KAGb,kBAAC0I,GAAA,EAAK8B,MAAN,CAAYzN,UAAU,MAAM0N,UAAU,WACpC,kBAAC/B,GAAA,EAAKgC,MAAN,wCACA,kBAAC,GAAD,CACE1K,QAASA,EACT+I,WAAYA,EACZjJ,UAAWA,MAIjB,kBAAC4I,GAAA,EAAK8B,MAAN,CAAYC,UAAU,iBACpB,kBAAC/B,GAAA,EAAKgC,MAAN,wCACA,kBAACiF,GAAA,EAAD,CAAY5S,UAAU,QACpB,kBAAC4S,GAAA,EAAWC,QAAZ,KACE,kBAACD,GAAA,EAAWE,KAAZ,CAAiBtY,GAAG,kBACjBe,QAGL,kBAACoQ,GAAA,EAAKC,QAAN,CACE1M,KAAK,gBACL4M,KAAK,SACL8B,YAAY,MACZE,mBAAiB,iBACjBzD,IAAKmQ,EAAS,CACZO,SAAU,4DACV/N,IAAK,IACLC,IAAK,SAIVjQ,EAAO8F,eACN,kBAAC6I,GAAA,EAAKC,QAAQC,SAAd,CAAuBC,KAAK,WACzB9O,EAAO8F,cAAcwE,UAI5B,kBAACqE,GAAA,EAAK8B,MAAN,CAAYC,UAAU,eACpB,kBAAC/B,GAAA,EAAKgC,MAAN,uDAGI,0BAAM3N,UAAU,cAAhB,gHAHJ,KASA,kBAAC4S,GAAA,EAAD,CAAY5S,UAAU,QACpB,kBAAC4S,GAAA,EAAWC,QAAZ,KACE,kBAACD,GAAA,EAAWE,KAAZ,CAAiBtY,GAAG,gBACjBe,QAGL,kBAACoQ,GAAA,EAAKC,QAAN,CACE1M,KAAK,cACL4M,KAAK,SACLgC,mBAAiB,eACjBzD,IAAKmQ,EAAS,CACZO,SAAU,wFACV/N,IAAK,IACLC,IAAK,SAIVjQ,EAAOuX,aACN,kBAAC5I,GAAA,EAAKC,QAAQC,SAAd,CAAuBC,KAAK,WACzB9O,EAAOuX,YAAYjN,UAI1B,kBAACqE,GAAA,EAAK8B,MAAN,CAAYC,UAAU,YACpB,kBAAC/B,GAAA,EAAKgC,MAAN,iBACA,kBAAChC,GAAA,EAAKC,QAAN,CACEqP,QAAM,EACN/b,KAAK,gBACLmL,IAAKmQ,EAAS,CAAEO,SAAU,sCAC1BhN,GAAG,UAEH,4BAAQtD,UAAQ,GAAhB,2BACCtJ,EAAWS,KAAI,SAACC,GACf,OAAOA,EAASS,cAAcV,KAAI,SAACsM,EAAapM,GAC9C,OACE,4BAAQ1E,IAAK0E,EAAOzE,MAAO6Q,EAAY1T,IACpC0T,EAAYhP,cAOzB,kBAACyM,GAAA,EAAK8B,MAAN,KACE,kBAAC,GAAD,CAAezC,SAnJV,SAAChG,GACdkR,EAAYlR,OAoJJ1G,EAKA,kBAACiR,GAAA,EAAD,CAAQhL,QAAQ,UAAUkG,UAAQ,GAChC,kBAAC/I,EAAA,EAAD,CACEqM,GAAG,OACHpM,UAAU,OACV6N,KAAK,KACL9U,KAAK,SACL+U,cAAY,SANhB,yBAJA,kBAACF,GAAA,EAAD,CAAQhL,QAAQ,UAAUuH,KAAK,UAA/B,6B,UC3MCoP,GAAe,SAAC,GAItB,IAHMlT,EAGP,EAHJmT,UAGI,IAFJC,iBAEI,SADDC,EACC,0CACIjd,EAASwB,IAATxB,KAER,OACE,kBAAC,KAAD,iBACMid,EADN,CAEEC,OAAQ,SAAClV,GACP,OAAIhI,EACEgd,GAAahd,EAAK3D,QACb,kBAACuN,EAAc5B,IAEpBgV,GAAchd,EAAK3D,SAIlB2gB,GAAahd,EACT,kBAAC4J,EAAc5B,QADxB,OAHEzJ,GAAQC,KAAK,aAQb,kBAAC,WAAD,KACGD,GAAQC,KAAK,WAAYD,GAAQiB,SAASC,UAC1ChB,IAAMqV,QAAQ,yBCjBhBqJ,GAAO,WAAO,IAAD,EACmBhB,eAAnCC,EADgB,EAChBA,SAAUC,EADM,EACNA,aAAczd,EADR,EACQA,OADR,EAEUmB,oBAAS,GAFnB,mBAEjBG,EAFiB,KAENC,EAFM,OAGAJ,qBAHA,mBAGjBiF,EAHiB,KAGXnI,EAHW,OAIYkD,mBAAS,IAJrB,mBAIjBgD,EAJiB,KAILC,EAJK,OAKQjD,mBAAS,IALjB,mBAKjBkF,EALiB,KAKP6S,EALO,OAMsB/X,mBAAS,IAN/B,mBAMjBqd,EANiB,KAMAC,EANA,KAQhBlI,EAAgB6G,KAAhB7G,YARgB,EAUUpV,mBAChC0M,KAAO0I,GAAanG,IAAI,EAAG,WAAWhC,UAXhB,mBAUjBrI,EAViB,KAUNyH,EAVM,OAaMrM,mBAC5B0M,KAAO0I,GAAanG,IAAI,EAAG,UAAUA,IAAI,GAAI,KAAKhC,UAd5B,mBAajBnI,EAbiB,KAaR+I,EAbQ,KAiBhBxR,EAAOwU,eAAPxU,GAERgE,qBAAU,WACRgM,EAAaK,KAAO0I,GAAanG,IAAI,EAAG,WAAWhC,YAClD,CAACmI,IAEJ/U,qBAAU,WAAO,SACAkd,IADD,2EACd,4BAAA3f,EAAA,sEAC2ByF,IAD3B,OACQL,EADR,OAEEC,EAAcD,EAAWjH,KAAKA,MAFhC,4CADc,+BAMCuE,IAND,2EAMd,8BAAA1C,EAAA,sEACsBgI,EAAyBvJ,GAD/C,cACQ4I,EADR,OACoDlJ,KAAKA,KACvDe,EAAQmI,GAFV,SAGqB7G,QAAQid,IACzBpW,EAAKC,SAASzB,IAAd,uCAAkB,+BAAA7F,EAAA,6DAASvB,EAAT,EAASA,GAAIkC,EAAb,EAAaA,IAAb,KACPlC,EADO,SACQmhB,EAAUjf,GADlB,6CACPlC,GADO,KACHkC,IADG,kDAAlB,wDAJJ,OAGQkf,EAHR,OAQE1F,GAAY,SAAC3I,GAAD,6BAAcA,GAAd,aAAuBqO,OARrC,4CANc,kEAiBd,sBAAA7f,EAAA,sEACQ2f,IADR,uBAEQjd,IAFR,OAGEF,GAAa,GAHf,4CAjBc,0DAuBdsd,KACC,CAACrhB,IAEJ,IAAMmhB,EAAY,SAACjf,GAAD,OAChBmf,MAAMnf,GACHe,MAAK,SAACzD,GAAD,OAAcA,EAAS8hB,UAC5Bre,MACC,SAACqe,GAAD,OACE,IAAIvf,SAAQ,SAAC6a,EAAS5a,GACpB,IAAM6a,EAAS,IAAIC,WACnBD,EAAO0E,UAAY,kBAAM3E,EAAQC,EAAOzQ,SACxCyQ,EAAO2E,QAAUxf,EACjB6a,EAAOI,cAAcqE,UA8B/B,OACE,kBAAC,IAAD,KACE,yBAAK9b,UAAU,4CACX1B,EAmKA,kBAACoD,EAAA,EAAD,CAASC,UAAU,WAlKnB,kBAACgK,GAAA,EAAD,CACE+O,SAAUD,GA/BH,SAACvgB,EAAM+H,GACtB1D,GAAa,GACb,IAAIoc,EAAW,IAAIC,SAAS3Y,EAAEC,QAC9BmB,EAASlG,SAAQ,SAACga,GAChBwD,EAASE,OAAO,gBAAiB1D,EAAMA,EAAKjY,SAE9Csc,EAAgBre,SAAQ,SAAC3C,GACvBmgB,EAASE,OAAO,mBAAoBrgB,MAGtCmgB,EAASE,OAAO,KAAMrgB,GACtBmgB,EAASE,OAAO,YAAa9X,EAAUyK,YAAY,qBACnDmN,EAASE,OAAO,UAAW5X,EAAQuK,YAAY,qBAE/CzJ,EACYvJ,EAAImgB,GACbld,MAAK,WACJd,GAAQC,KAAR,yBAA+BpC,OAEhC6M,OAAM,kBAAM9I,GAAa,SAapBuC,MAAO,CACL0T,OAAQ,oBACRsG,WAAY,OACZtT,QAAS,SAGX,mDACA,kBAACmE,GAAA,EAAK8B,MAAN,CAAYC,UAAU,SACpB,kBAAC/B,GAAA,EAAKgC,MAAN,cACA,kBAAChC,GAAA,EAAKC,QAAN,CACE1M,KAAK,QACL0O,YAAY,wBACZvD,IAAKmQ,EAAS,CACZO,SAAU,0BACVC,UAAW,MAEbhN,aAAc5K,EAAKzC,QAEpB3D,EAAO2D,OACN,kBAACgL,GAAA,EAAKC,QAAQC,SAAd,CAAuBC,KAAK,WACzB9O,EAAO2D,MAAM2G,UAIpB,kBAACqE,GAAA,EAAK8B,MAAN,CAAYC,UAAU,eACpB,kBAAC/B,GAAA,EAAKgC,MAAN,wBACA,kBAAChC,GAAA,EAAKC,QAAN,CACE1M,KAAK,cACL6O,GAAG,WACHH,YAAY,wCACZvD,IAAKmQ,EAAS,CACZO,SAAU,gCACVC,UAAW,MAEbhN,aAAc5K,EAAKqS,cAEpBzY,EAAOyY,aACN,kBAAC9J,GAAA,EAAKC,QAAQC,SAAd,CAAuBC,KAAK,WACzB9O,EAAOyY,YAAYnO,UAI1B,kBAACqE,GAAA,EAAK8B,MAAN,CAAYC,UAAU,aACpB,oEACA,kBAAC,GAAD,CACE3K,UAAWA,EACXyH,aAAcA,EACdvH,QAASA,KAGb,kBAAC0I,GAAA,EAAK8B,MAAN,CAAYC,UAAU,WACpB,8DACA,kBAAC,GAAD,CACEzK,QAASA,EACT+I,WAAYA,EACZjJ,UAAWA,KAGf,kBAAC4I,GAAA,EAAK8B,MAAN,CAAYC,UAAU,iBACpB,kBAAC/B,GAAA,EAAKgC,MAAN,wCACA,kBAACiF,GAAA,EAAD,CAAY5S,UAAU,QACpB,kBAAC4S,GAAA,EAAWC,QAAZ,KACE,kBAACD,GAAA,EAAWE,KAAZ,CAAiBtY,GAAG,kBACjBe,QAGL,kBAACoQ,GAAA,EAAKC,QAAN,CACE1M,KAAK,gBACL4M,KAAK,SACL8B,YAAY,MACZE,mBAAiB,iBACjBzD,IAAKmQ,EAAS,CACZO,SAAU,mCACV/N,IAAK,IACLC,IAAK,MAEPe,aAAc5K,EAAKN,iBAGtB9F,EAAO8F,eACN,kBAAC6I,GAAA,EAAKC,QAAQC,SAAd,CAAuBC,KAAK,WACzB9O,EAAO8F,cAAcwE,UAI5B,kBAACqE,GAAA,EAAK8B,MAAN,CAAYC,UAAU,eACpB,kBAAC/B,GAAA,EAAKgC,MAAN,0GAGI,0BAAM3N,UAAU,cAAhB,6EAHJ,KASA,kBAAC4S,GAAA,EAAD,CAAY5S,UAAU,QACpB,kBAAC4S,GAAA,EAAWC,QAAZ,KACE,kBAACD,GAAA,EAAWE,KAAZ,CAAiBtY,GAAG,gBACjBe,QAGL,kBAACoQ,GAAA,EAAKC,QAAN,CACE1M,KAAK,cACL4M,KAAK,SACLgC,mBAAiB,eACjBzD,IAAKmQ,EAAS,CACZO,SAAU,uCACV/N,IAAK,IACLC,IAAK,MAEPe,aAAc5K,EAAKmR,eAGtBvX,EAAOuX,aACN,kBAAC5I,GAAA,EAAKC,QAAQC,SAAd,CAAuBC,KAAK,WACzB9O,EAAOuX,YAAYjN,UAI1B,kBAACqE,GAAA,EAAK8B,MAAN,CAAYC,UAAU,YACpB,kBAAC/B,GAAA,EAAKgC,MAAN,sBACA,kBAAChC,GAAA,EAAKC,QAAN,CACE1M,KAAK,gBACLmL,IAAKmQ,EAAS,CAAEO,SAAU,yBAC1BhN,GAAG,SACHC,aAAc5K,EAAK6K,eAEnB,4BAAQxD,UAAQ,GAAhB,2BACCtJ,EAAWS,KAAI,SAACC,GACf,OAAOA,EAASS,cAAcV,KAAI,SAACsM,EAAapM,GAC9C,OACE,4BAAQ1E,IAAK0E,EAAOzE,MAAO6Q,EAAY1T,IACpC0T,EAAYhP,cAOzB,kBAACyM,GAAA,EAAK8B,MAAN,KACE,kBAAC,GAAD,CACEzC,SAvJC,SAACiR,GACd/F,EAAY+F,IAuJA5G,OAAQhS,EACRqT,SAAU+E,KAGd,6BACE,kBAAClM,GAAA,EAAD,CACEhL,QAAQ,eACRvE,UAAU,OACVS,QAAS,kBAAM9D,GAAQuf,WAHzB,YAOA,kBAAC3M,GAAA,EAAD,CAAQhL,QAAQ,iBAAiBuH,KAAK,UAAtC,yBC9OC,GAvBE,SAACxI,GAChB,OAAOnI,EACJgB,IAAIZ,SAAmD,CAAEsH,OAAQS,IACjE7F,MAAK,SAACzD,GAAD,OAAcA,MAoBT,GAjBG,SAACwM,EAAO9L,GACxB,OAAOS,EACJqC,KAAKjC,SAAmD,CACvDiL,QACA9L,SAED+C,MAAK,SAACzD,GAAD,OAAcA,MAWT,GARQ,SAACwM,EAAO9L,GAC7B,OAAOS,EACJqI,OAAOjI,SAAmD,CACzDrB,KAAM,CAAEsM,QAAO9L,UAEhB+C,MAAK,SAACzD,GAAD,OAAcA,M,+BChBXmiB,GAAQ,WAAO,IAAD,EACShe,oBAAS,GADlB,mBAClBG,EADkB,KACPC,EADO,OAEqBJ,mBAAS,CACrD+J,WAAY,EACZ/E,SAAU,IAJa,mBAElBiZ,EAFkB,KAEDC,EAFC,OAMCle,mBAAS,IANV,mBAMlBme,EANkB,KAMXC,EANW,OAOWpe,qBAPX,mBAOlBqe,EAPkB,KAONC,EAPM,KASzBje,qBAAU,WACRke,GAAsBN,GAAiB3e,MAAK,SAACzD,GAC3CuiB,EAASviB,EAASE,KAAKA,MACvBuiB,EAAcziB,EAASE,KAAKsiB,YAC5Bje,GAAa,QAEd,CAAC6d,IAyDJ,OAAO9d,EACL,kBAACoD,EAAA,EAAD,CAASC,UAAU,WAEnB,kBAAC,WAAD,KACE,kBAACgb,GAAA,EAAD,CAAOC,YAAU,EAACC,SAAO,EAACC,UAAQ,EAACC,OAAK,EAACvN,KAAK,MAC5C,+BACE,4BACE,qCACA,qCACA,2CACA,kDAGJ,+BACG8M,EAAM1a,KAAI,SAACxD,EAAM0D,GAChB,OACE,wBAAI1E,IAAK0E,GACP,4BAAK1D,EAAKoI,OACV,4BACgC,IAA7BpI,EAAK4e,aAAaje,OAAeX,EAAK4e,aAAe,QAExD,4BACE,kBAACrR,GAAA,EAAK8B,MAAN,KACE,kBAAC9B,GAAA,EAAKC,QAAN,CACEmC,GAAG,SACHkN,QAAM,EACN5d,MAAM,cACN2N,SAAU,SAAC/I,GAAD,OA7EF,SAACgb,EAAOnb,GAClC,IAAMpH,EAAOuiB,EAAM/a,OAAO7E,MACpBmJ,EAAQ8V,EAAMxa,GAAO0E,MAE3BkW,GAAuBlW,EAAO9L,GAAM+C,MAAK,WACvC8e,GAAS,SAAChP,GAAD,oBACJA,EAAK3L,KAAI,SAACxD,EAAM8e,GACjB,OAAIA,IAAiBpb,EACZ,2BACF1D,GADL,IAEE4e,aAAa,GAAD,oBAAM5e,EAAK4e,cAAX,CAAyBtiB,IACrCyiB,gBAAiB/e,EAAK+e,gBAAgBrF,QACpC,SAACsF,GAAD,OAAoBA,IAAmB1iB,OAKtC0D,SAGXvB,IAAMqK,QAAN,UAAiBV,EAAjB,8CAA4D9L,OAyD3B2iB,CAAoBpb,EAAGH,KAExC,4BAAQ2I,UAAQ,GAAhB,eACCrM,EAAK+e,gBAAgBvb,KAAI,SAAClH,EAAMoH,GAC/B,OAAO,4BAAQ1E,IAAK0E,GAAQpH,SAKpC,4BACE,kBAACiR,GAAA,EAAK8B,MAAN,KACE,kBAAC9B,GAAA,EAAKC,QAAN,CACEmC,GAAG,SACHkN,QAAM,EACN5d,MAAM,cACN2N,SAAU,SAAC/I,GAAD,OApEG,SAACgb,EAAOnb,GACvC,IAAMpH,EAAOuiB,EAAM/a,OAAO7E,MACpBmJ,EAAQ8V,EAAMxa,GAAO0E,MAE3BkW,GAA4BlW,EAAO9L,GAAM+C,MAAK,WAC5C8e,GAAS,SAAChP,GAAD,oBACJA,EAAK3L,KAAI,SAACxD,EAAM8e,GACjB,OAAIA,IAAiBpb,EACZ,2BACF1D,GADL,IAEE4e,aAAc5e,EAAK4e,aAAalF,QAC9B,SAACwF,GAAD,OAAiBA,IAAgB5iB,KAGnCyiB,gBAAgB,GAAD,oBAAM/e,EAAK+e,iBAAX,CAA4BziB,MAIxC0D,SAIXvB,IAAMqK,QAAN,UAAiBV,EAAjB,+CAA6D9L,OA8C5B6iB,CAAyBtb,EAAGH,KAE7C,4BAAQ2I,UAAQ,GAAhB,eACCrM,EAAK4e,aAAapb,KAAI,SAAClH,EAAMoH,GAC5B,OAAO,4BAAQ1E,IAAK0E,GAAQpH,eAU9C,kBAAC,KAAD,CACE8iB,cAAe,WACfC,UAAW,OACXC,WAAY,MACZC,UAAWnB,EACXoB,qBAAsB,EACtBC,mBAAoB,EACpBC,aAtHkB,SAAC5jB,GACvB,IAAIgO,EAAahO,EAAK6Q,SAAW,EACjCsR,GAAmB,SAAC9O,GAAD,mBAAC,eAAeA,GAAhB,IAAsBrF,mBAqHrC6V,eAAgB,YAChBC,mBAAoB,YACpBC,mBAAoB,iCACpBC,cAAe,YACfC,kBAAmB,YACnBC,kBAAmB,YACnBC,sBAAuB,YACvBC,cAAe,YACfC,kBAAmB,YACnBC,gBAAiB,aChJZC,GAAc,WAAO,IAAD,IAC8BlE,aAAQ,CACnEmE,KAAM,WADAlE,EADuB,EACvBA,SAAUC,EADa,EACbA,aAAczd,EADD,EACCA,OAGxB2hB,GAJuB,EACSC,MADT,EACgBC,UAGvCF,SAwBFG,EAAW,SAACH,EAAS3hB,GACzB,QAAI2hB,IAAY3hB,QAEL2hB,IAAW3hB,SAAf,IAKT,OACE,kBAAC2O,GAAA,EAAD,CAAMoT,YAAU,EAACrE,SAAUD,GA/BZ,SAACvgB,GAChBkY,GACelY,GACZuD,MAAK,WACJ,IAAIW,EAAOhE,KAAKC,MAAMW,aAAayD,QAAQ,SACvCL,IACFA,EAAKtD,QAAUZ,EAAKiW,MACpBnV,aAAaC,QAAQ,OAAQb,KAAKc,UAAUkD,KAG9CzB,GAAQiB,SAASkI,MACbnJ,GAAQsK,QAAQtK,GAAQiB,SAASkI,OACjCnJ,GAAQC,KAAK,KACjBC,IAAMqK,QACJ,kHAGHG,OAAM,SAAC/K,GACNO,IAAMP,MAAM,sGAcd,yBAAK0iB,MAAM,eACT,kBAACrT,GAAA,EAAK8B,MAAN,CAAYC,UAAU,kBACpB,kBAAC/B,GAAA,EAAKgC,MAAN,oDACA,kBAAChC,GAAA,EAAKC,QAAN,CACE1M,KAAK,QACL4M,KAAK,MACL8B,YAAY,yGACZvD,IAAKmQ,EAAS,CACZO,SAAU,uEACVlE,QAAS,CACPxZ,MAAO,mBACPiK,QAAS,yEAGb2X,QAAO,WAA4C,IAA1CH,EAASH,EAAQxO,MAAOnT,EAAOmT,cAAjC,SACP+O,UAAWJ,EAASH,EAAQxO,MAAOnT,EAAOmT,SAE3CnT,EAAOmT,OACN,kBAACxE,GAAA,EAAKC,QAAQC,SAAd,CAAuBC,KAAK,WACzB9O,EAAOmT,MAAM7I,UAKpB,kBAACiI,GAAA,EAAD,CAAQhL,QAAQ,UAAUuH,KAAK,UAA/B,e,OCpBOqT,OA9Bf,WACE,OACE,kBAAC,WAAD,KACE,kBAACnhB,EAAD,KACE,kBAAC,EAAD,MACA,kBAAC,IAAD,CAAWgC,UAAU,QACnB,kBAAC,IAAD,MACA,kBAAC,KAAD,KACE,kBAAC,KAAD,CAAOof,OAAK,EAACC,KAAM,CAA0B,IAA8B,SAAUlE,UAAW3V,KAChG,kBAAC,KAAD,CAAO4Z,OAAK,EAACC,KAA+B,WAAYlE,UAAWhV,KACnE,kBAAC,KAAD,CAAOiZ,OAAK,EAACC,KAA+B,iBAAkBlE,UAAWsD,KAEzE,kBAAC,KAAD,CAAOW,OAAK,EAACC,KAA+B,iBAAkBlE,UAAW1V,KACzE,kBAAC,GAAD,CAAc2Z,OAAK,EAACC,KAA+B,gBAAiBlE,UAAWb,KAC/E,kBAAC,GAAD,CAAc+E,KAA+B,wBAAyBlE,UAAWI,KACjF,kBAAC,GAAD,CACE8D,KAA+B,kBAC/BjE,WAAW,EACXD,UAAWgB,KAEb,kBAAC,KAAD,CAAOiD,OAAK,EAACC,KAA+B,yBAA0BlE,UAAWpM,KACjF,kBAAC,KAAD,CAAOsQ,KAA+B,oBAAqBlE,UAAW/F,KACtE,kBAAC,KAAD,CAAOiK,KAA+B,IAAKlE,UAAWlV,UC7B9CqZ,QACW,cAA7BnY,OAAOvJ,SAAS2hB,UAEe,UAA7BpY,OAAOvJ,SAAS2hB,UAEhBpY,OAAOvJ,SAAS2hB,SAASC,MACvB,2D,aCTO7iB,GAAU8iB,eACvBC,IAASpE,OACP,kBAAC,KAAD,CAAQ3e,QAASA,IACf,kBAAC,GAAD,OAEFiC,SAAS+gB,eAAe,SDqHpB,kBAAmBC,WACrBA,UAAUC,cAAcC,MACrBriB,MAAK,SAAAsiB,GACJA,EAAaC,gBAEd3Y,OAAM,SAAA/K,GACL2jB,QAAQ3jB,MAAMA,EAAMgL,c","file":"static/js/main.07f5cab9.chunk.js","sourcesContent":["import Axios from \"axios\";\nimport { toast } from \"react-toastify\";\nimport { history } from \"../..\";\nimport { setUserInLocalStorage } from \"./localStorage\";\nimport Cookies from 'js-cookie';\n\nconst api = Axios.create({\n  baseURL: process.env.REACT_APP_API_URL,\n  withCredentials: true,\n});\nlet authTokenRequest;\n\n// This function makes a call to get the auth token\n// or it returns the same promise as an in-progress call to get the auth token\nfunction getAuthToken() {\n  if (!authTokenRequest) {\n    authTokenRequest = api\n      .post(process.env.REACT_APP_API_REFRESH_TOKENS_ENDPOINT, {})\n      .then((tokenRefreshResponse) => tokenRefreshResponse);\n    authTokenRequest.then(resetAuthTokenRequest, resetAuthTokenRequest);\n  }\n\n  return authTokenRequest;\n}\n\nfunction resetAuthTokenRequest() {\n  authTokenRequest = null;\n}\n\nexport const setupAxiosInterceptor = (signOut) => {\n  api.interceptors.request.use(async config => {\n    const accessToken = Cookies.get('accessToken');\n    const refreshToken = Cookies.get('refreshToken');\n    config.headers = {\n      'Authorization': `Bearer ${accessToken}`,\n      'RefreshToken': refreshToken,\n      'Accept': 'application/json, text/plain, */*',\n      // 'Content-Type': 'application/x-www-form-urlencoded'\n    }\n    return config;\n  },\n    error => {\n      Promise.reject(error)\n    });\n  api.interceptors.response.use(\n    (response) => response,\n    (error) => {\n      // network error\n      const errorResponse = error.response;\n      if (!errorResponse) {\n        history.push(\"/error/network\", history.location.pathname);\n        return Promise.reject(error);\n      }\n\n      if (\n        error.config.url === process.env.REACT_APP_API_REFRESH_TOKENS_ENDPOINT\n      ) {\n        signOut();\n        history.push(\"/sign-in\");\n        toast.error(\"Xin mời đăng nhập.\");\n        return Promise.reject(error);\n      }\n\n      if (error.response.status === 401 && !error.config._retry) {\n        return getAuthToken().then((response) => {\n          setUserInLocalStorage(response);\n          error.response.config.__isRetryRequest = true;\n          return api(error.response.config);\n        });\n      }\n\n      if (errorResponse.status) {\n        // validation errors\n        if (errorResponse.status === 400 && errorResponse.data.errors) {\n          return handleValidationErrors(errorResponse, error);\n        } else if (errorResponse.status === 400 && errorResponse.data.error) {\n          toast.error(errorResponse.data.error);\n          return Promise.reject(error);\n        } else if (errorResponse.status === 404) {\n          toast.error(\n            \"Có lẽ sản phẩm bạn đang tìm kiếm không tồn tại trong hệ thống.\"\n          );\n          history.push(\"/\");\n          return Promise.reject(error);\n        }\n\n        return Promise.reject(error);\n      }\n    }\n  );\n};\n\nfunction handleValidationErrors(errorResponse, error) {\n  Object.keys(errorResponse.data.errors).forEach(function (key) {\n    errorResponse.data.errors[key].forEach(function (value) {\n      toast.error(value, {\n        autoClose: 8000,\n      });\n    });\n  });\n  return Promise.reject(error);\n}\n\nexport default api;\n","const user = \"user\";\n\nexport const setUserInLocalStorage = (response) => {\n  const data = response.data.data;\n\n  const token = data.token;\n  const jwtParams = JSON.parse(atob(token.split(\".\")[1]));\n  const id = jwtParams.id;\n  const isAdmin = jwtParams.role?.toLowerCase().includes(\"admin\");\n\n  let dataToStore = {};\n  dataToStore.id = id;\n  dataToStore.isAdmin = isAdmin ?? false;\n  if (jwtParams.phoneNo) {\n    dataToStore.phoneNo = jwtParams.PhoneNo;\n  }\n  localStorage.setItem(user, JSON.stringify(dataToStore));\n  return dataToStore;\n};\n\nexport const removeUserFromLocalStorage = () => localStorage.removeItem(user);\n\nexport const getUserFromLocalStorage = () =>\n  JSON.parse(localStorage.getItem(user));\n","import React, { useState, useEffect, useContext, createContext } from \"react\";\nimport api, { setupAxiosInterceptor } from \"../helpers/api\";\nimport {\n  setUserInLocalStorage,\n  removeUserFromLocalStorage,\n  getUserFromLocalStorage,\n} from \"../helpers/localStorage\";\n\nconst authContext = createContext();\n\nexport function ProvideAuth({ children }) {\n  const auth = useProvideAuth();\n  return (\n    <authContext.Provider value={auth}>\n      {!auth.isLoading ? children : null}\n    </authContext.Provider>\n  );\n}\n\nexport const useAuth = () => {\n  return useContext(authContext);\n};\n\nfunction useProvideAuth() {\n  const [user, setUser] = useState(null);\n  const [isLoading, setIsLoading] = useState(true);\n\n  useEffect(() => {\n    if (user === null) {\n      setUser(getUserFromLocalStorage());\n      setIsLoading(false);\n    }\n  }, [user, isLoading]);\n\n  useEffect(() => {\n    setupAxiosInterceptor(signOut);\n  }, []);\n\n  const signIn = (body) => {\n    return api\n      .post(process.env.REACT_APP_API_LOGIN_ENDPOINT, body)\n      .then((response) => {\n        if (response.status === 200) {\n          const data = setUserInLocalStorage(response);\n          setUser(data);\n        }\n\n        return response.data;\n      });\n  };\n\n  const signInSocial = (body) => {\n    return api\n      .post(process.env.REACT_APP_API_LOGIN_SOCIAL, body)\n      .then((response) => {\n        if (response.status === 200) {\n          const data = setUserInLocalStorage(response);\n          setUser(data);\n        }\n\n        return response.data;\n      });\n  };\n\n  const signUp = (body) => {\n    return api\n      .post(process.env.REACT_APP_API_REGISTER_ENDPOINT, body)\n      .then((response) => response);\n  };\n\n  const confirmAccount = (body) => {\n    return api\n      .post(process.env.REACT_APP_API_CONFIRM_ACCOUNT_ENDPOINT, body)\n      .then((response) => response);\n  };\n\n  const signOut = () => {\n    api.post(process.env.REACT_APP_API_LOGOUT_ENDPOINT, {}).then(() => {\n      removeUserFromLocalStorage();\n      var cookies = document.cookie.split(\";\");\n\n      for (var i = 0; i < cookies.length; i++) {\n          var cookie = cookies[i];\n          var eqPos = cookie.indexOf(\"=\");\n          var name = eqPos > -1 ? cookie.substr(0, eqPos) : cookie;\n          document.cookie = name + \"=;expires=Thu, 01 Jan 1970 00:00:00 GMT\";\n      }\n      sessionStorage.clear()\n\n      setUser(null);\n    });\n  };\n\n  return {\n    user,\n    isLoading,\n    signIn,\n    signUp,\n    confirmAccount,\n    signOut,\n  };\n}\n","import React, { Fragment } from \"react\";\r\nimport { Nav, Navbar, Container, NavDropdown } from \"react-bootstrap\";\r\nimport { history } from \"..\";\r\nimport { useAuth } from \"../utils/hooks/authHook\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport { faUser } from \"@fortawesome/free-solid-svg-icons\";\r\n\r\nexport const NavMenu = () => {\r\n  const auth = useAuth();\r\n\r\n  return (\r\n    <header>\r\n      <Navbar className=\"orangeBackground\" expand=\"lg\">\r\n        <Container>\r\n          <Navbar.Brand href=\"/\">\r\n            <img src=\"/Logo.png\" className=\"logoSize\"></img>\r\n          </Navbar.Brand>\r\n          <Navbar.Toggle />\r\n          <Navbar.Collapse className=\"collapseBarStyle\">\r\n            <Nav className=\"mr-auto\">\r\n              <Nav.Link\r\n                className=\"whiteColor\"\r\n                onClick={() => history.push(\"/items\")}\r\n              >\r\n                Sản Phẩm\r\n              </Nav.Link>\r\n              {/* <Nav.Link onClick={() => history.push(\"/contact\")}>\r\n                Liên lạc với chúng tôi\r\n              </Nav.Link> */}\r\n            </Nav>\r\n            {auth.user ? (\r\n              <Nav>\r\n                <NavDropdown\r\n                  title={\r\n                    <FontAwesomeIcon className=\"whiteColor\" icon={faUser} />\r\n                  }\r\n                  style={{ textColor: \"white\" }}\r\n                >\r\n                  {auth.user.isAdmin ? (\r\n                    <NavDropdown.Item\r\n                      onClick={() => {\r\n                        history.push(\"/administration\");\r\n                      }}\r\n                    >\r\n                      Administration\r\n                    </NavDropdown.Item>\r\n                  ) : (\r\n                    \"\"\r\n                  )}\r\n                  {auth.user.isAdmin ? (\r\n                    <NavDropdown.Item\r\n                      onClick={() => {\r\n                        history.push(\"/items/create\");\r\n                      }}\r\n                    >\r\n                      Tạo sản phẩm\r\n                    </NavDropdown.Item>\r\n                  ) : (\r\n                    \"\"\r\n                  )}\r\n                  <NavDropdown.Divider />\r\n                  <NavDropdown.Item\r\n                    onClick={() => {\r\n                      auth.signOut();\r\n                      history.push(\"/\");\r\n                    }}\r\n                  >\r\n                    Đăng Xuất\r\n                  </NavDropdown.Item>\r\n                </NavDropdown>\r\n              </Nav>\r\n            ) : (\r\n              <Fragment>\r\n                <Nav>\r\n                  {/* <Nav.Link onClick={() => history.push(\"/sign-up\")}>\r\n                    Sign up\r\n                  </Nav.Link> */}\r\n                  <Nav.Link\r\n                    className=\"whiteColor\"\r\n                    onClick={() => history.push(\"/sign-in\")}\r\n                  >\r\n                    Đăng Nhập\r\n                  </Nav.Link>\r\n                </Nav>\r\n              </Fragment>\r\n            )}\r\n          </Navbar.Collapse>\r\n        </Container>\r\n      </Navbar>\r\n    </header>\r\n  );\r\n};\r\n","import api from \"../utils/helpers/api\";\n\nconst getAll = () => {\n  return api\n    .get(process.env.REACT_APP_API_CATEGORIES_ENDPOINT)\n    .then((response) => response);\n};\n\nexport default {\n  getAll,\n};\n","import React, { useState, useEffect } from \"react\";\nimport { Nav, Navbar, NavDropdown, Spinner } from \"react-bootstrap\";\nimport categoriesService from \"../../../services/categoriesService\";\nimport { history } from \"../../..\";\nimport \"./Header.css\";\n\nexport const Header = () => {\n  const [categories, setCategories] = useState([]);\n  const [hoveredDropdowns, setHoveredDropdowns] = useState({});\n  const [isLoading, setIsLoading] = useState(true);\n\n  useEffect(() => {\n    retrieveCategories();\n  }, []);\n\n  const retrieveCategories = () => {\n    categoriesService.getAll().then((response) => {\n      setCategories(response.data.data);\n      setIsLoading(false);\n    });\n  };\n\n  const handleMouseOver = (e) => {\n    setHoveredDropdowns({\n      [e.target.id]: true,\n    });\n  };\n\n  const handleMouseOut = (e) => {\n    setHoveredDropdowns({\n      [e.target.id]: false,\n    });\n  };\n\n  return (\n    <Navbar className=\"shadow mt-3\" bg=\"light\" expand=\"lg\">\n      <Navbar.Brand>Danh mục</Navbar.Brand>\n      <Navbar.Toggle />\n      <Navbar.Collapse>\n        <Nav>\n          {isLoading ? (\n            <div>\n              Đang tải danh mục... <Spinner animation=\"grow\" />\n            </div>\n          ) : (\n            categories.map((category, index) => {\n              return (\n                <NavDropdown\n                  key={index}\n                  id={index}\n                  title={category.name}\n                  show={hoveredDropdowns[index]}\n                  onMouseOver={(e) => handleMouseOver(e)}\n                  onMouseOut={(e) => handleMouseOut(e)}\n                >\n                  {category.subCategories.map((subcategory, index) => {\n                    return (\n                      <NavDropdown.Item\n                        id={subcategory.id}\n                        key={index}\n                        onClick={(e) => {\n                          history.push(`/items/${e.target.id}`);\n                        }}\n                      >\n                        {subcategory.name}\n                      </NavDropdown.Item>\n                    );\n                  })}\n                </NavDropdown>\n              );\n            })\n          )}\n        </Nav>\n      </Navbar.Collapse>\n    </Navbar>\n  );\n};\n","import api from \"../utils/helpers/api\";\n\nconst getHottestUpcomingItems = () => {\n  const tommorowDate = new Date();\n  tommorowDate.setDate(tommorowDate.getDate() + 1);\n\n  const dateAfterTenDays = new Date();\n  dateAfterTenDays.setDate(dateAfterTenDays.getDate() + 10);\n\n  const params = {\n    startingPrice: 5000,\n    startTime: tommorowDate.toUTCString(),\n    endTime: dateAfterTenDays.toUTCString(),\n  };\n  return api\n    .get(process.env.REACT_APP_API_ITEMS_ENDPOINT, { params })\n    .then((response) => response);\n};\n\nconst getLiveItems = () => {\n  const params = {\n    getLiveItems: true,\n    pageSize: 10,\n  };\n  return api\n    .get(process.env.REACT_APP_API_ITEMS_ENDPOINT, { params })\n    .then((response) => {\n      return {\n        ...response,\n        data: {\n          ...response.data,\n          data: response.data.data.map((item) => ({\n            ...item,\n            pictures:\n              item.pictures.length === 0\n                ? [\n                    {\n                      id: process.env.REACT_APP_DEFAULT_PICTURE_ID,\n                      url: process.env.REACT_APP_DEFAULT_PICTURE_URL,\n                    },\n                  ]\n                : item.pictures,\n          })),\n        },\n      };\n    });\n};\n\nconst getItems = (query) => {\n  return api\n    .get(process.env.REACT_APP_API_ITEMS_ENDPOINT, { params: query })\n    .then((response) => {\n      return {\n        ...response,\n        data: {\n          ...response.data,\n          data: response.data.data.map((item) => ({\n            ...item,\n            pictures:\n              item.pictures.length === 0\n                ? [\n                    {\n                      id: process.env.REACT_APP_DEFAULT_PICTURE_ID,\n                      url: process.env.REACT_APP_DEFAULT_PICTURE_URL,\n                    },\n                  ]\n                : item.pictures,\n          })),\n        },\n      };\n    });\n};\n\nconst getItemById = (id) => {\n  return api\n    .get(`${process.env.REACT_APP_API_ITEMS_ENDPOINT}/${id}`)\n    .then((response) => {\n      const item = response.data.data;\n      return {\n        ...response,\n        data: {\n          ...response.data,\n          data: {\n            ...item,\n            pictures:\n              item.pictures.length === 0\n                ? [\n                    {\n                      id: process.env.REACT_APP_DEFAULT_PICTURE_ID,\n                      url: process.env.REACT_APP_DEFAULT_PICTURE_URL,\n                    },\n                  ]\n                : item.pictures,\n          },\n        },\n      };\n    });\n};\n\nconst createItem = (body) => {\n  return api\n    .post(process.env.REACT_APP_API_ITEMS_ENDPOINT, body)\n    .then((response) => response);\n};\n\nconst editItem = (id, data) => {\n  return api\n    .put(`${process.env.REACT_APP_API_ITEMS_ENDPOINT}/${id}`, data)\n    .then((response) => response);\n};\n\nconst deleteItem = (id) => {\n  return api\n    .delete(`${process.env.REACT_APP_API_ITEMS_ENDPOINT}/${id}`)\n    .then((response) => response);\n};\n\nexport default {\n  getHottestUpcomingItems,\n  getLiveItems,\n  getItems,\n  getItemById,\n  createItem,\n  editItem,\n  deleteItem,\n};\n","import slugify from \"react-slugify\";\n\nexport const itemDetailsSlug = (title, id) => {\n  return `/items/${slugify(title)}/${id}`;\n};\n\nexport const itemEditSlug = (title, id) => {\n  return `/items/edit/${slugify(title)}/${id}`;\n};\n","import React, { useEffect, useState } from \"react\";\r\nimport ReactCardCarousel from \"react-card-carousel\";\r\nimport itemsService from \"../../../services/itemsService\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport { faFire } from \"@fortawesome/free-solid-svg-icons\";\r\nimport { Container, Card } from \"react-bootstrap\";\r\nimport { itemDetailsSlug } from \"../../../utils/helpers/slug\";\r\n\r\nimport \"../HottestItems/HottestItems.css\";\r\n\r\nexport const HottestItems = () => {\r\n  const [items, setItems] = useState([]);\r\n  useEffect(() => {\r\n    retrieveHottestUpcomingItems();\r\n  }, []);\r\n\r\n  const retrieveHottestUpcomingItems = () => {\r\n    itemsService.getHottestUpcomingItems().then((response) => {\r\n      setItems(response.data.data);\r\n    });\r\n  };\r\n\r\n  return items.length !== 0 ? (\r\n    <Container className=\"pt-5\">\r\n      <h2>\r\n        Những Sản Phẩm Đấu Giá Mới Nhất{\" \"}\r\n        <FontAwesomeIcon icon={faFire} pulse color=\"red\" />\r\n      </h2>\r\n      <div className=\"react-card-carousel-container\">\r\n        <ReactCardCarousel autoplay={true} autoplay_speed={2500}>\r\n          {items.map((item, index) => {\r\n            return (\r\n              <Card key={index} className=\"react-card\">\r\n                <Card.Img\r\n                  variant=\"top\"\r\n                  src={item.pictures[0]?.url}\r\n                  alt=\"Ảnh Sản Phẩm\"\r\n                />\r\n                <Card.Body>\r\n                  <Card.Title>{item.title}</Card.Title>\r\n                  <p className=\"card-text\">\r\n                    {process.env.REACT_APP_CURRENCY_SIGN}\r\n                    {item.startingPrice}\r\n                  </p>\r\n                  <Link\r\n                    className=\"btn btn-primary\"\r\n                    to={itemDetailsSlug(item.title, item.id)}\r\n                  >\r\n                    Xem\r\n                  </Link>\r\n                </Card.Body>\r\n              </Card>\r\n            );\r\n          })}\r\n        </ReactCardCarousel>\r\n      </div>\r\n    </Container>\r\n  ) : (\r\n    \"\"\r\n  );\r\n};\r\n","import React from \"react\";\nimport { Link } from \"react-router-dom\";\n\nimport \"../Pictures/PictureContainer.css\";\n\nexport const PictureContainer = ({ pictures, itemSlug }) => {\n  const pictureClassNameRetriever = (index) => {\n    if (index === 1) {\n      return \"primary\";\n    }\n\n    return \"secondary\";\n  };\n\n  return (\n    <div className=\"picture-container\">\n      {pictures.slice(0, 3).map((picture, index) => {\n        return (\n          <Link\n            key={index}\n            to={itemSlug}\n            className={`${pictureClassNameRetriever(index)}-picture-container`}\n          >\n            <img\n              alt=\"primary\"\n              src={picture.url}\n              className={`card-img-top card-img-listing ${pictureClassNameRetriever(\n                index\n              )}-picture`}\n            />\n          </Link>\n        );\n      })}\n    </div>\n  );\n};\n","import React, { useEffect, useState, Fragment } from \"react\";\r\nimport itemsService from \"../../../services/itemsService\";\r\nimport { Container, Card, Spinner } from \"react-bootstrap\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport { faCaretRight } from \"@fortawesome/free-solid-svg-icons\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { PictureContainer } from \"./Pictures/PictureContainer\";\r\nimport { itemDetailsSlug } from \"../../../utils/helpers/slug\";\r\n\r\nexport const LiveItems = () => {\r\n  const [items, setItems] = useState([]);\r\n  const [totalItems, setTotalItems] = useState(0);\r\n  const [isLoading, setIsLoading] = useState(true);\r\n\r\n  useEffect(() => {\r\n    retrieveLiveItems();\r\n  }, []);\r\n\r\n  const retrieveLiveItems = () => {\r\n    itemsService.getLiveItems().then((response) => {\r\n      setItems(response.data.data);\r\n      setTotalItems(response.data.totalDataCount);\r\n      setIsLoading(false);\r\n    });\r\n  };\r\n\r\n  return (\r\n    <Container className=\"pt-3\">\r\n      {isLoading ? (\r\n        <h1>\r\n          Đang Tải Thông Tin Sản Phẩm... <Spinner animation=\"grow\" />\r\n        </h1>\r\n      ) : items.length !== 0 ? (\r\n        <Fragment>\r\n          <h3>{totalItems} Những sản phẩm đang đấu giá</h3>\r\n          <div className=\"row\">\r\n            {items.map((item, index) => {\r\n              return (\r\n                <div key={index} className=\"col-12 col-md-6 col-lg-4 p-1\">\r\n                  <Card className=\"shadow m-2\">\r\n                    {item.pictures.length === 1 ? (\r\n                      <Link to={itemDetailsSlug(item.title, item.id)}>\r\n                        <Card.Img\r\n                          height=\"240px\"\r\n                          variant=\"top\"\r\n                          alt=\"item image\"\r\n                          src={item.pictures[0]?.url}\r\n                        />\r\n                      </Link>\r\n                    ) : (\r\n                      <PictureContainer\r\n                        pictures={item.pictures}\r\n                        itemSlug={itemDetailsSlug(item.title, item.id)}\r\n                      />\r\n                    )}\r\n                    <Card.Body>\r\n                      <Card.Title>\r\n                        <Link to={itemDetailsSlug(item.title, item.id)}>\r\n                          {item.title}\r\n                        </Link>\r\n                      </Card.Title>\r\n                      <Link to={itemDetailsSlug(item.title, item.id)}>\r\n                        <span className=\"float-right\" style={{ color: \"red\" }}>\r\n                          Đấu Giá Ngay <FontAwesomeIcon icon={faCaretRight} />\r\n                        </span>\r\n                      </Link>\r\n                    </Card.Body>\r\n                  </Card>\r\n                </div>\r\n              );\r\n            })}\r\n          </div>\r\n          {items.length >= 10 ? (\r\n            <div className=\"text-center pt-3 pb-4\">\r\n              <Link className=\"btn btn-primary\" to={\"/items\"}>\r\n                Xem Thêm Sản Phẩm\r\n              </Link>\r\n            </div>\r\n          ) : (\r\n            \"\"\r\n          )}\r\n        </Fragment>\r\n      ) : (\r\n        \"\"\r\n      )}\r\n    </Container>\r\n  );\r\n};\r\n","import React, { Fragment } from \"react\";\nimport { Header } from \"./Header/Header\";\nimport { HottestItems } from \"./HottestItems/HottestItems\";\nimport { LiveItems } from \"./LiveItems/LiveItems\";\n\nexport const Home = () => {\n  return (\n    <Fragment>\n      <Header />\n      <HottestItems />\n      <LiveItems />\n    </Fragment>\n  );\n};\n","import React, { useState, useEffect } from \"react\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { faServer } from \"@fortawesome/free-solid-svg-icons\";\nimport { history } from \"../..\";\nimport \"./Error.css\";\n\nexport const NetworkError = () => {\n  const [secondsCounter, setSecondsCounter] = useState(60);\n\n  useEffect(() => {\n    const interval =\n      secondsCounter >= 0 &&\n      setInterval(() => setSecondsCounter(secondsCounter - 1), 1000);\n\n    if (secondsCounter === 0) {\n      history.push(history.location.state);\n    }\n    return () => clearInterval(interval);\n  }, [secondsCounter]);\n  return (\n    <div className=\"error-box\">\n      <FontAwesomeIcon className=\"fa-4x fa-spin mb-4\" icon={faServer} />\n      <h5>\n        We're sorry for the inconvenience but unfortunately our server is down.\n        Please try again later!\n      </h5>\n      <h4>\n        Auto retry in <i>{secondsCounter}</i> seconds...\n      </h4>\n    </div>\n  );\n};\n","import React from \"react\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { faSearch } from \"@fortawesome/free-solid-svg-icons\";\nimport { Link } from \"react-router-dom\";\n\nexport const NotFound = () => {\n  return (\n    <div className=\"error-box\">\n      <FontAwesomeIcon className=\"fa-4x fa-spin mb-4\" icon={faSearch} />\n      <h1 className=\"error-heading\">404</h1>\n      <h5>Trang bạn đang tìm kiếm không tồn tại</h5>\n      <small className=\"text-muted\">\n        ...Hoặc máy chủ đang gặp sự cố, xin hãy liên lạc với admin để giải\n        quyết....\n      </small>\n      <Link className=\"btn btn-outline-primary mt-3\" to=\"/\">\n        Ấn vào đây\n      </Link>\n    </div>\n  );\n};\n","import React, { Component, useState } from 'react'\nimport FacebookLogin from 'react-facebook-login';\nimport { history } from \"../../../index\";\nimport { toast } from \"react-toastify\";\nimport axios from 'axios'\nexport class Login extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n\n    };\n  }\n  // componentDidMount() {\n  //   const responseFacebook = (response) => {\n  //     this.signup(response);\n  //   }\n  //   window.fbAsyncInit = function () {\n  //     window.FB.init({\n  //       appId: '339794342891501',\n  //       cookie: true,\n  //       status: true,\n  //       xfbml: false,\n  //       version    : 'v10.0'\n  //     });\n\n  //     window.FB.login(function (res) {\n  //       // handle the response\n  //       const responseFacebookData = {\n  //         id: res.userID,\n  //         name: res.name,\n  //         email: res.email,\n  //         token: res.accessToken,\n  //         image: res.picture.data.url,\n  //         providerName: 'Facebook',\n  //         scope: 'public_profile,email',\n  //         fields: 'name,email,picture,link',\n  //         callback: responseFacebook,\n  //         version: 'v10.0'\n  //       }\n\n  //       axios.post('https://daugiaapi.azurewebsites.net/api/Identity/LoginSocialmediaData', responseFacebookData)\n  //         .then((result) => {\n  //           if (result.status === 200) {\n  //             const data = result.data.data;\n\n  //             const token = data.token;\n  //             const jwtParams = JSON.parse(atob(token.split(\".\")[1]));\n  //             const id = jwtParams.id;\n  //             const isAdmin = jwtParams.role?.toLowerCase().includes(\"admin\");\n\n  //             let dataToStore = {};\n  //             dataToStore.id = id;\n  //             dataToStore.isAdmin = isAdmin ?? false;\n\n  //             localStorage.setItem(\"user\", JSON.stringify(dataToStore));\n  //             // const [setUser] = useState(null);\n  //             // setUser(dataToStore);\n  //           }\n\n  //           history.location.state\n  //             ? history.replace(history.location.state)\n  //             : history.push(\"/\");\n\n  //           toast.success(\"You've logged in successfully.\");\n  //           if (window.location.href.indexOf(\"sign-in\") >= 0) {\n  //             history.push(\"/\");\n  //           }\n\n  //           window.location.reload();\n  //         }).catch((error) => {\n  //           toast.error(error.message);\n  //         });\n  //     });\n  //   }\n\n  // }\n  signup(res) {\n\n    const responseFacebook = {\n      id: res.userID,\n      name: res.name,\n      email: res.email,\n      token: res.accessToken,\n      image: res.picture.data.url,\n      providerName: 'Facebook'\n    }\n\n    axios.post(process.env.REACT_APP_API_URL + '/Identity/LoginSocialmediaData', responseFacebook)\n      .then((result) => {\n        if (result.status === 200) {\n          const data = result.data.data;\n\n          const token = data.token;\n          const jwtParams = JSON.parse(atob(token.split(\".\")[1]));\n          const id = jwtParams.id;\n          const isAdmin = jwtParams.role?.toLowerCase().includes(\"admin\");\n\n          let dataToStore = {};\n          dataToStore.id = id;\n          dataToStore.isAdmin = isAdmin ?? false;\n          if (jwtParams.phoneNo) {\n            dataToStore.phoneNo = jwtParams.phoneNo;\n          }\n          localStorage.setItem(\"user\", JSON.stringify(dataToStore));\n\n          var expires = \"\";\n\n          var date = new Date();\n          date.setTime(date.getTime() + (1 * 24 * 60 * 60 * 1000));\n          expires = \"; expires=\" + date.toUTCString();\n\n          document.cookie = \"accessToken\" + \"=\" + (token || \"\") + expires + \"; path=/\";\n          document.cookie = \"refreshToken\" + \"=\" + (data.refreshToken || \"\") + expires + \"; path=/\";\n          document.cookie = \"SameSite=None\";\n          // const [setUser] = useState(null);\n          // setUser(dataToStore);\n        }\n\n        history.location.state\n          ? history.replace(history.location.state)\n          : history.push(\"/\");\n\n        toast.success(\"Bạn đã đăng nhập thành công.\");\n        if (window.location.href.indexOf(\"sign-in\") >= 0) {\n          history.push(\"/\");\n        }\n\n        window.location.reload();\n      }).catch((error) => {\n        toast.error(error.message);\n      });\n  };\n\n  render() {\n    const responseFacebook = (response) => {\n      this.signup(response);\n    }\n    return (\n      <div className=\"App\">\n        <div className=\"row\">\n          <div className=\"col-sm-12 btn\">\n            <FacebookLogin buttonStyle={{ padding: \"6px\" }}\n              appId=\"325111522372216\"\n              autoLoad={true}\n              fields=\"name,email,picture,link\"\n              scope=\"public_profile,email\"\n              version=\"10.0\"\n              callback={responseFacebook} />\n          </div>\n        </div>\n      </div>\n    )\n  }\n}\n\nexport default Login","import { useEffect, useState, useCallback } from \"react\";\nimport itemsService from \"../../services/itemsService\";\n\nconst useItemsSearch = (query, pageNumber, setPageNumber) => {\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(false);\n  const [items, setItems] = useState([]);\n  const [totalItemsCount, setTotalItemsCount] = useState(0);\n  const [hasMore, setHasMore] = useState(false);\n\n  useEffect(() => {\n    setItems([]);\n    setPageNumber(1);\n  }, [query, setPageNumber]);\n\n  const makeRequest = useCallback(() => {\n    setLoading(true);\n    setError(false);\n\n    query.pageNumber = pageNumber;\n    query.pageSize = 10;\n\n    itemsService\n      .getItems(query)\n      .then((result) => {\n        setItems((previtems) => {\n          return [...previtems, ...result.data.data];\n        });\n        setTotalItemsCount(result.data.totalDataCount);\n        setHasMore(\n          result.data.totalDataCount > result.data.pageSize &&\n            result.data.data.length > 0\n        );\n        setLoading(false);\n      })\n      .catch(() => setError(true));\n  }, [query, pageNumber]);\n\n  return {\n    makeRequest,\n    loading,\n    error,\n    items,\n    totalItemsCount,\n    hasMore,\n  };\n};\n\nexport default useItemsSearch;\n","import { useEffect, useState } from \"react\";\n\nconst useDebounce = (value, delay) => {\n  // State and setters for debounced value\n  const [debouncedValue, setDebouncedValue] = useState(value);\n\n  useEffect(\n    () => {\n      // Update debounced value after delay\n      const handler = setTimeout(() => {\n        setDebouncedValue(value);\n      }, delay);\n\n      // Cancel the timeout if value changes (also on delay change or unmount)\n      // This is how we prevent debounced value from updating if value is changed ...\n      // .. within the delay period. Timeout gets cleared and restarted.\n      return () => {\n        clearTimeout(handler);\n      };\n    },\n    [value, delay] // Only re-call effect if value or delay changes\n  );\n\n  return debouncedValue;\n};\n\nexport default useDebounce;\n","import React, { Fragment, useRef, useCallback } from \"react\";\r\nimport { Row, Col, Card, Spinner } from \"react-bootstrap\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { itemDetailsSlug } from \"../../../../utils/helpers/slug\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport { faCaretRight } from \"@fortawesome/free-solid-svg-icons\";\r\nimport \"./Container.css\";\r\n\r\nexport const Container = ({\r\n  loading,\r\n  hasMore,\r\n  setPageNumber,\r\n  items,\r\n  error,\r\n}) => {\r\n  const observer = useRef();\r\n  const lastItemElementRef = useCallback(\r\n    (node) => {\r\n      if (loading) return;\r\n      if (observer.current) observer.current.disconnect();\r\n      observer.current = new IntersectionObserver((entries) => {\r\n        if (entries[0].isIntersecting && hasMore) {\r\n          setPageNumber((prevPageNumber) => prevPageNumber + 1);\r\n        }\r\n      });\r\n      if (node) observer.current.observe(node);\r\n    },\r\n    [loading, hasMore, setPageNumber]\r\n  );\r\n\r\n  return (\r\n    <Fragment>\r\n      <Row>\r\n        {items.length === 0 && !loading ? (\r\n          <h1>Không có kết quả</h1>\r\n        ) : (\r\n          items.map((item, index) => {\r\n            return (\r\n              <Col key={index} lg={6} sm={6}>\r\n                <Card\r\n                  ref={items.length === index + 1 ? lastItemElementRef : null}\r\n                  className=\"shadow m-2 floating-card\"\r\n                >\r\n                  <Link to={itemDetailsSlug(item.title, item.id)}>\r\n                    <Card.Img\r\n                      height=\"240px\"\r\n                      variant=\"top\"\r\n                      alt=\"item image\"\r\n                      src={item.pictures[0]?.url}\r\n                    />\r\n                  </Link>\r\n                  <Card.Body>\r\n                    <Card.Title>\r\n                      <Link to={itemDetailsSlug(item.title, item.id)}>\r\n                        {item.title}\r\n                      </Link>\r\n                    </Card.Title>\r\n                    <Card.Title>\r\n                      <div className=\"d-flex\">\r\n                      Chủ sở hữu:{\" \"}\r\n                        <p style={{ color: \"grey\" }} className=\"ml-1\">\r\n                          {item.userFullName}\r\n                        </p>\r\n                      </div>\r\n                    </Card.Title>\r\n\r\n                    <p style={{ color: \"grey\" }}>\r\n                    Giá khởi điểm: {process.env.REACT_APP_CURRENCY_SIGN}\r\n                      {item.startingPrice}\r\n                    </p>\r\n                    <Link to={itemDetailsSlug(item.title, item.id)}>\r\n                      <span className=\"float-right\" style={{ color: \"red\" }}>\r\n                      Đấu giá ngay <FontAwesomeIcon icon={faCaretRight} />\r\n                      </span>\r\n                    </Link>\r\n                  </Card.Body>\r\n                </Card>\r\n              </Col>\r\n            );\r\n          })\r\n        )}\r\n      </Row>\r\n      {loading ? (\r\n        <div className=\"ml-5 pt-3 pb-3\">\r\n          Đang tải...\r\n          <Spinner animation=\"border\" />\r\n        </div>\r\n      ) : (\r\n        \"\"\r\n      )}\r\n      {error ?? \"error happened\"}\r\n    </Fragment>\r\n  );\r\n};\r\n","import React, { useState, Fragment, useEffect } from \"react\";\nimport moment from \"moment\";\nimport DatePicker from \"react-datepicker\";\nimport \"react-datepicker/dist/react-datepicker.css\";\nimport \"./DateTimePicker.css\";\nimport { Form } from \"react-bootstrap\";\n\nexport const StartTimeDatePicker = ({\n  startTime,\n  setStartTime,\n  endTime,\n  disabled,\n  errorHideTimeOut = 3000,\n}) => {\n  const startTimeConf = createDatePickerConf(\n    startTime,\n    30,\n    moment().endOf(\"day\")\n  );\n  const [error, setError] = useState();\n\n  useEffect(() => {\n    const interval = setTimeout(() => setError(null), errorHideTimeOut);\n    return () => {\n      clearTimeout(interval);\n    };\n  }, [error, errorHideTimeOut]);\n\n  const handleOnChange = (date) => {\n    if (date <= moment()) {\n      setError(\"Thời gian bắt đầu cần phải là trong tương lai.\");\n      return;\n    }\n    if (date >= endTime) {\n      setError(\"Thời gian bắt đầu không thể sau thời gian kết thúc.\");\n      return;\n    }\n\n    setError(null);\n    setStartTime(date);\n  };\n\n  return (\n    <Fragment>\n      <DatePicker\n        className=\"form-control custom-select\"\n        disabled={disabled}\n        selected={startTime}\n        onChange={(date) => handleOnChange(date)}\n        filterDate={(date) => {\n          return moment().subtract(1, \"day\").toDate() < date;\n        }}\n        minDate={moment().toDate()}\n        maxDate={endTime}\n        showTimeSelect\n        timeFormat=\"HH:mm\"\n        timeCaption=\"time\"\n        dateFormat=\"MMMM d, yyyy h:mm aa\"\n        {...startTimeConf}\n      />\n      {error && (\n        <Form.Control.Feedback type=\"invalid\">{error}</Form.Control.Feedback>\n      )}\n    </Fragment>\n  );\n};\n\nexport const EndTimeDatePicker = ({\n  endTime,\n  setEndTime,\n  startTime,\n  disabled,\n  errorHideTimeOut = 3000,\n}) => {\n  const [error, setError] = useState();\n  const endTimeConf = createDatePickerConf(endTime, 30, moment().endOf(\"day\"));\n\n  useEffect(() => {\n    const interval = setTimeout(() => setError(null), errorHideTimeOut);\n    return () => {\n      clearTimeout(interval);\n    };\n  }, [error, errorHideTimeOut]);\n\n  const handleOnChange = (date) => {\n    if (date < moment()) {\n      setError(\"Thời gian kết thúc không thể trước thời gian hiện tại.\");\n      return;\n    }\n    if (date <= startTime) {\n      setError(\"Thời gian kết thúc không thể trước thời gian bắt đầu.\");\n      return;\n    }\n\n    setEndTime(date);\n  };\n\n  return (\n    <Fragment>\n      <DatePicker\n        className=\"form-control custom-select\"\n        disabled={disabled}\n        selected={endTime}\n        onChange={(date) => handleOnChange(date)}\n        filterDate={(date) => {\n          return moment().subtract(1, \"day\").toDate() < date;\n        }}\n        minDate={startTime}\n        showTimeSelect\n        timeFormat=\"HH:mm\"\n        timeCaption=\"time\"\n        dateFormat=\"MMMM d, yyyy h:mm aa\"\n        {...endTimeConf}\n      />\n      {error && (\n        <Form.Control.Feedback type=\"invalid\">{error}</Form.Control.Feedback>\n      )}\n    </Fragment>\n  );\n};\n\nconst createDatePickerConf = (date, ceilNumber, endDay) => {\n  const conf = {};\n  if (moment(date).isSame(moment(), \"day\")) {\n    conf.minTime = Math.ceil(\n      moment().hours(moment().hour()).minutes(moment().minute()),\n      ceilNumber\n    );\n    conf.maxTime = Math.ceil(\n      moment().hours(endDay.hour()).minutes(endDay.minute()),\n      ceilNumber\n    );\n  }\n\n  return conf;\n};\n","import React, { useState, useEffect } from \"react\";\r\nimport { Col, Form, Spinner } from \"react-bootstrap\";\r\nimport InputRange from \"react-input-range\";\r\nimport \"react-input-range/lib/css/index.css\";\r\nimport categoriesService from \"../../../../services/categoriesService\";\r\nimport {\r\n  EndTimeDatePicker,\r\n  StartTimeDatePicker,\r\n} from \"../../../DateTimePicker/DateTimePicker\";\r\nimport moment from \"moment\";\r\nimport { history } from \"../../../..\";\r\nimport \"./Search.css\";\r\n\r\nexport const Search = ({ loading, state, setState }) => {\r\n  const [price, setPrice] = useState({ min: 0, max: 5000000000 });\r\n  const [startTime, setStartTime] = useState(\r\n    moment().add(2, \"minutes\").toDate()\r\n  );\r\n  const [endTime, setEndTime] = useState(\r\n    moment().add(1, \"months\").add(10, \"m\").toDate()\r\n  );\r\n  const [isDateDisabled, setIsDateDisabled] = useState(true);\r\n  const [categories, setCategories] = useState([]);\r\n\r\n  //It's better to extract fecth categories logic in store because we're repeating unnecessary requests...\r\n  //but let's leave it as it is now :D\r\n\r\n  useEffect(() => {\r\n    retrieveCategories();\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    if (!isDateDisabled) {\r\n      setState((prev) => ({\r\n        ...prev,\r\n        getLiveItems: false,\r\n        startTime: startTime.toISOString(\"dd/mm/yyyy HH:mm\"),\r\n        endTime: endTime.toISOString(\"dd/mm/yyyy HH:mm\"),\r\n      }));\r\n    }\r\n  }, [startTime, endTime, setState, isDateDisabled]);\r\n\r\n  const retrieveCategories = () => {\r\n    categoriesService.getAll().then((response) => {\r\n      setCategories(response.data.data);\r\n    });\r\n  };\r\n\r\n  return (\r\n    <Col className=\"mt-5 mt-lg-0\" lg={4}>\r\n      <div>\r\n        <div className=\"search-area default-item-search\">\r\n          <p>\r\n            <i>Bộ lọc</i>\r\n          </p>\r\n\r\n          <Form>\r\n            <Form.Group controlId=\"Title\">\r\n              <Form.Label>Tiêu đề</Form.Label>\r\n              <Form.Control\r\n                onChange={(e) => {\r\n                  const value = e.target.value;\r\n                  setState((prev) => ({ ...prev, title: value }));\r\n                }}\r\n                type=\"input\"\r\n                placeholder=\"Tìm kiếm theo tiêu đề\"\r\n                aria-label=\"Item search\"\r\n                aria-describedby=\"basic-addon1\"\r\n              />\r\n            </Form.Group>\r\n            <Form.Group controlId=\"Category\">\r\n              <Form.Label>Danh Mục</Form.Label>\r\n              {!loading ? (\r\n                <Form.Control\r\n                  as=\"select\"\r\n                  defaultValue={state.subCategoryId ?? state.subCategoryId}\r\n                >\r\n                  <option onClick={() => history.replace(\"/items\")}>\r\n                  Chọn Danh Mục\r\n                  </option>\r\n                  {categories.map((category) => {\r\n                    return category.subCategories.map((subCategory, index) => {\r\n                      return (\r\n                        <option\r\n                          key={index}\r\n                          onClick={(e) => {\r\n                            history.replace(`/items/${e.target.value}`);\r\n                          }}\r\n                          value={subCategory.id}\r\n                        >\r\n                          {subCategory.name}\r\n                        </option>\r\n                      );\r\n                    });\r\n                  })}\r\n                </Form.Control>\r\n              ) : (\r\n                <div>\r\n                  <Spinner animation=\"border\" />\r\n                </div>\r\n              )}\r\n            </Form.Group>\r\n            <Form.Group controlId=\"liveItems\">\r\n              <Form.Check\r\n                onChange={() =>\r\n                  setState((prev) => ({\r\n                    ...prev,\r\n                    getLiveItems: !state.getLiveItems,\r\n                  }))\r\n                }\r\n                type=\"switch\"\r\n                label=\"Sản phẩm đang đấu giá\"\r\n                checked={state.getLiveItems}\r\n              />\r\n            </Form.Group>\r\n            <Form.Group controlId=\"Price\">\r\n              <p className=\"mb-4\">Giá</p>\r\n              <InputRange\r\n                formatLabel={(value) =>\r\n                  `${process.env.REACT_APP_CURRENCY_SIGN}${value}`\r\n                }\r\n                step={10000}\r\n                value={price}\r\n                maxValue={5000000000}\r\n                minValue={0}\r\n                onChange={(value) => {\r\n                  setPrice(value);\r\n                  setState((prev) => ({\r\n                    ...prev,\r\n                    minPrice: value.min <= 0 ? null : value.min,\r\n                    maxPrice: price.max,\r\n                  }));\r\n                }}\r\n              />\r\n            </Form.Group>\r\n            <Form.Group className=\"mt-5\" controlId=\"isDateDisabled\">\r\n              <Form.Check\r\n                onChange={() => {\r\n                  setIsDateDisabled(!isDateDisabled);\r\n                  if (!isDateDisabled) {\r\n                    setState((prev) => ({\r\n                      ...prev,\r\n                      startTime: null,\r\n                      endTime: null,\r\n                    }));\r\n                  }\r\n                }}\r\n                type=\"switch\"\r\n                label=\"Lọc theo ngày\"\r\n              />\r\n            </Form.Group>\r\n            <Form.Group controlId=\"StartingTime\">\r\n              <p>Thời gian bắt đầu</p>\r\n              <StartTimeDatePicker\r\n                disabled={isDateDisabled}\r\n                readOnly={true}\r\n                startTime={startTime}\r\n                setStartTime={setStartTime}\r\n                endTime={endTime}\r\n              />\r\n            </Form.Group>\r\n            <Form.Group controlId=\"EndTime\">\r\n              <p>Thời gian kết thúc</p>\r\n              <EndTimeDatePicker\r\n                disabled={isDateDisabled}\r\n                readOnly={true}\r\n                endTime={endTime}\r\n                setEndTime={setEndTime}\r\n                startTime={startTime}\r\n              />\r\n            </Form.Group>\r\n          </Form>\r\n        </div>\r\n      </div>\r\n    </Col>\r\n  );\r\n};\r\n","import React from \"react\";\r\nimport \"./Header.css\";\r\nimport { Dropdown } from \"react-bootstrap\";\r\n\r\nexport const Header = ({ totalItemsCount }) => {\r\n  return (\r\n    <div className=\"generic-header\">\r\n      <div>\r\n        <h4>Tất cả sản phẩm</h4>\r\n        <p>Tổng số sản phẩm tìm được: {totalItemsCount}</p>\r\n      </div>\r\n      <div className=\"generic-header-toolbar\" role=\"toolbar\">\r\n        <Dropdown>\r\n          <Dropdown.Toggle\r\n            className=\"sort-btn\"\r\n            variant=\"light\"\r\n            id=\"dropdown-basic\"\r\n          >\r\n            Sắp xếp bởi\r\n          </Dropdown.Toggle>\r\n\r\n          <Dropdown.Menu>\r\n            <Dropdown.Item href=\"#/action-1\">Thực Hiện</Dropdown.Item>\r\n          </Dropdown.Menu>\r\n        </Dropdown>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n","import React, { Fragment, useState, useEffect } from \"react\";\nimport { Container, Row, Col } from \"react-bootstrap\";\nimport \"react-input-range/lib/css/index.css\";\nimport useItemsSearch from \"../../../utils/hooks/useItemsSearch\";\nimport useDebounce from \"../../../utils/hooks/useDebounce\";\nimport { Container as ItemsContainer } from \"./Container/Container\";\nimport { Search } from \"./Search/Search\";\nimport { useParams } from \"react-router-dom\";\nimport { Header } from \"./Header/Header\";\n\nexport const List = () => {\n  const [state, setState] = useState({\n    title: null,\n    getLiveItems: true,\n    minPrice: null,\n    maxPrice: null,\n    startTime: null,\n    endTime: null,\n    subCategoryId: null,\n  });\n\n  let { subCategoryId } = useParams();\n\n  const [pageNumber, setPageNumber] = useState(1);\n  const query = useDebounce(state, 500);\n  const {\n    makeRequest,\n    items,\n    totalItemsCount,\n    hasMore,\n    loading,\n    error,\n  } = useItemsSearch(query, pageNumber, setPageNumber);\n\n  useEffect(() => {\n    if (state.subCategoryId !== subCategoryId) {\n      setState((prev) => ({ ...prev, subCategoryId }));\n    } else makeRequest();\n    // eslint-disable-next-line\n  }, [subCategoryId, makeRequest]);\n\n  return (\n    <Fragment>\n      <Container>\n        <Row>\n          <Col lg={12}>\n            <Header totalItemsCount={totalItemsCount} />\n          </Col>\n          <Col lg={12}>\n            <Row>\n              <Search loading={loading} state={state} setState={setState} />\n              <Col lg={8}>\n                <ItemsContainer\n                  items={items}\n                  pageSize={state.pageSize}\n                  hasMore={hasMore}\n                  loading={loading}\n                  error={error}\n                  setPageNumber={setPageNumber}\n                />\n              </Col>\n            </Row>\n          </Col>\n        </Row>\n      </Container>\n    </Fragment>\n  );\n};\n","import React, { useState } from \"react\";\r\nimport { Modal, Button, Spinner } from \"react-bootstrap\";\r\nimport itemsService from \"../../services/itemsService\";\r\nimport { history } from \"../..\";\r\nimport { toast } from \"react-toastify\";\r\n\r\nexport const DeleteModal = ({ show, handleClose, item }) => {\r\n  const [isLoading, setIsLoading] = useState(false);\r\n\r\n  const handleDelete = (id) => {\r\n    setIsLoading(true);\r\n    itemsService.deleteItem(id).then(() => {\r\n      toast.success(\"Xóa thành công\");\r\n      setIsLoading(false);\r\n      history.push(\"/\");\r\n    });\r\n  };\r\n\r\n  return (\r\n    <Modal show={show} onHide={handleClose}>\r\n      <Modal.Header closeButton>\r\n        <Modal.Title>\r\n        Bạn có thực sự muốn xóa {item?.title}?{\" \"}\r\n          <span className=\"text-muted\">This operation is irreversible!</span>\r\n        </Modal.Title>\r\n      </Modal.Header>\r\n      <Modal.Footer>\r\n        <Button variant=\"secondary\" onClick={handleClose}>\r\n        Đóng\r\n        </Button>\r\n        {isLoading ? (\r\n          <Button variant=\"outline-danger\" disabled>\r\n            <Spinner\r\n              as=\"span\"\r\n              animation=\"grow\"\r\n              size=\"sm\"\r\n              role=\"status\"\r\n              aria-hidden=\"true\"\r\n            />\r\n            Đang xóa...\r\n          </Button>\r\n        ) : (\r\n          <Button\r\n            variant=\"outline-danger\"\r\n            onClick={() => handleDelete(item?.id)}\r\n          >\r\n            Xóa\r\n          </Button>\r\n        )}\r\n      </Modal.Footer>\r\n    </Modal>\r\n  );\r\n};\r\n","import React, { useState, Fragment } from \"react\";\r\nimport { Card, Button } from \"react-bootstrap\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport { faEdit, faTrash } from \"@fortawesome/free-solid-svg-icons\";\r\nimport { DeleteModal } from \"../DeleteModal\";\r\nimport { itemEditSlug } from \"../../../utils/helpers/slug\";\r\nimport { history } from \"../../..\";\r\n\r\nexport const UserActionsContainer = ({ userId, item }) => {\r\n  const [showModal, setShowModal] = useState(false);\r\n\r\n  const handleClose = () => setShowModal(false);\r\n  const handleShow = () => setShowModal(true);\r\n\r\n  return userId === item.userId ? (\r\n    <Fragment>\r\n      <Card className=\"text-center\">\r\n        <Card.Header>Actions</Card.Header>\r\n        <div className=\"list-group list-group-flush\">\r\n          <Button\r\n            className=\"list-group-item list-group-item-action text-primary\"\r\n            onClick={() =>\r\n              history.push(\r\n                itemEditSlug(item.title, item.id),\r\n                history.location.pathname\r\n              )\r\n            }\r\n          >\r\n            <FontAwesomeIcon icon={faEdit} /> Chỉnh Sửa\r\n          </Button>\r\n        </div>\r\n        <div className=\"list-group list-group-flush\">\r\n          <Button\r\n            onClick={handleShow}\r\n            className=\"list-group-item list-group-item-action text-danger\"\r\n          >\r\n            <FontAwesomeIcon icon={faTrash} /> Xóa\r\n          </Button>\r\n        </div>\r\n      </Card>\r\n      <DeleteModal show={showModal} handleClose={handleClose} item={item} />\r\n    </Fragment>\r\n  ) : (\r\n    \"\"\r\n  );\r\n};\r\n","import React from \"react\";\nimport { useAuth } from \"../../../utils/hooks/authHook\";\nimport \"./Chat.css\";\nimport { faUser } from \"@fortawesome/free-solid-svg-icons\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\n\nexport const Chat = ({ messages }) => {\n  const auth = useAuth();\n\n  return (\n    <div className=\"chat\">\n      <h3 className=\"text-center\">Những tin nhắn từ hệ thống.</h3>\n      <i>Mức đấu giá cao nhật được hiện lên trong nền màu xanh lá cây.</i>\n      <div className=\"chat-history\">\n        <ul className=\"mx-auto justify-content-center\">\n          {messages.map((_, index) => {\n            let message = messages[messages.length - 1 - index];\n            return message.userId === auth.user.id ? (\n              <li\n                key={`${index}-${messages.length}`}\n                className={`message ${\n                  index === 0 ? \"highest-bid-message\" : \"my-message\"\n                }`}\n              >\n                {auth.user.isAdmin ? <img src={message.image}/>  : <FontAwesomeIcon icon={faUser} />}\n                {auth.user.isAdmin ? message.name + \" \" : \"Có người\" } \n                {auth.user.isAdmin ? message.telNo + \" \" : \"\" } \n                đấu giá thành công \n                {message.bidAmount} {process.env.REACT_APP_CURRENCY_SIGN}\n              </li>\n            ) : (\n              <li\n                key={index}\n                className={`message ${\n                  index === 0 ? \"highest-bid-message\" : \"other-message\"\n                }`}\n              >\n                {auth.user.isAdmin ? <img src={message.image}/>  : <FontAwesomeIcon icon={faUser} />}\n                {auth.user.isAdmin ? message.name + \" \" : \"Có người\" } \n                {auth.user.isAdmin ? message.telNo + \" \" : \"\" } \n                {process.env.REACT_APP_CURRENCY_SIGN}\n                {message.bidAmount}: Đấu giá cạnh tranh\n              </li>\n            );\n          })}\n        </ul>\n      </div>\n    </div>\n  );\n};\n","import React from \"react\";\r\nimport { useAuth } from \"../../../utils/hooks/authHook\";\r\nimport \"./Result.css\";\r\nimport { faUser } from \"@fortawesome/free-solid-svg-icons\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\n\r\nexport const Result = ({ messages }) => {\r\n  const auth = useAuth();\r\n\r\n  return (\r\n    <div>\r\n      <h3 className=\"text-center\">Top những người trả giá cao nhất</h3>\r\n      <div className=\"chat-history\">\r\n        <ul className=\"mx-auto justify-content-center\">\r\n          {messages.map((_, index) => {\r\n            let message = messages[messages.length - 1 - index];\r\n            return message.userId === auth?.user?.id ? (\r\n              <li\r\n                key={`${index}-${messages.length}`}\r\n                className={`message ${\r\n                  index === 0 ? \"highest-bid-message\" : \"my-message\"\r\n                }`}\r\n              >\r\n                {<img src={message.imageUrl} />}\r\n                {message.name + \" \"}\r\n                {message.telNo + \" \"}\r\n                đấu giá thành công\r\n                {message.amount} {process.env.REACT_APP_CURRENCY_SIGN}\r\n              </li>\r\n            ) : (\r\n              <li\r\n                key={index}\r\n                className={`message ${\r\n                  index === 0 ? \"highest-bid-message\" : \"other-message\"\r\n                }`}\r\n              >\r\n                {auth?.user?.isAdmin ? (\r\n                  <img src={message.imageUrl} />\r\n                ) : (\r\n                  <FontAwesomeIcon icon={faUser} />\r\n                )}\r\n                {auth?.user?.isAdmin ? message.name + \" \" : \" Có người \"}\r\n                {auth?.user?.isAdmin ? message.telNo + \" \" : \"\"}\r\n                Đấu giá cạnh tranh \r\n                {message.amount} {process.env.REACT_APP_CURRENCY_SIGN}: \r\n              </li>\r\n            );\r\n          })}\r\n        </ul>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n","import React from \"react\";\r\nimport { Button, Spinner } from \"react-bootstrap\";\r\n\r\nexport const BidHigherButton = ({\r\n  isLoading,\r\n  handleOnClick,\r\n  amount,\r\n  percentage,\r\n}) => {\r\n  const bid = percentage <= 0 ? amount : amount + (amount * percentage) / 100;\r\n  const suggestedBid = parseFloat(bid).toFixed(2);\r\n\r\n  return !isLoading ? (\r\n    <Button\r\n      onClick={() => {\r\n        handleOnClick(suggestedBid);\r\n      }}\r\n      block\r\n      variant=\"primary\"\r\n      size=\"lg\"\r\n    >\r\n      Đấu giá {process.env.REACT_APP_CURRENCY_SIGN}\r\n      {suggestedBid ? suggestedBid : \"0.00\"}\r\n    </Button>\r\n  ) : (\r\n    <Button block variant=\"primary\" size=\"lg\" disabled>\r\n      <Spinner\r\n        as=\"span\"\r\n        animation=\"grow\"\r\n        size=\"sm\"\r\n        role=\"status\"\r\n        aria-hidden=\"true\"\r\n      />\r\n      Đang đấu giá...\r\n    </Button>\r\n  );\r\n};\r\n","import api from \"../utils/helpers/api\";\n\nconst getHighestBid = (itemId) => {\n  return api\n    .get(`${process.env.REACT_APP_API_BIDS_ENDPOINT}/getHighestBid/${itemId}`)\n    .then((response) => response);\n};\n\nconst getBids = (itemId) => {\n  return api.get(`${process.env.REACT_APP_API_BIDS_ENDPOINT}/getBids/${itemId}`)\n  .then((response) => response);\n}\n\nconst updateTelNo = (body) => {\n  return api\n    .post(process.env.REACT_APP_API_UPDATE_TEL_NO, body)\n    .then((response) => response);\n};\n\nexport default { getHighestBid, getBids, updateTelNo };\n","import React, { Fragment } from \"react\";\r\nimport { useState, useEffect } from \"react\";\r\nimport { Chat } from \"./Chat/Chat\";\r\nimport { Result } from \"./Result/Result\";\r\nimport Cookies from \"js-cookie\";\r\nimport {\r\n  Card,\r\n  Col,\r\n  Spinner,\r\n  Button,\r\n  InputGroup,\r\n  FormControl,\r\n} from \"react-bootstrap\";\r\nimport { HubConnectionBuilder } from \"@aspnet/signalr\";\r\nimport api from \"../../utils/helpers/api\";\r\nimport { BidHigherButton } from \"./BidHigherButton\";\r\nimport { toast } from \"react-toastify\";\r\nimport bidService from \"../../services/bidService\";\r\nimport { useCallback } from \"react\";\r\n\r\nexport const Bid = ({\r\n  itemId,\r\n  startingPrice,\r\n  minPriceIncrease,\r\n  CounterContainer,\r\n}) => {\r\n  const [isLoading, setIsLoading] = useState(false);\r\n  const [connection] = useState(() => {\r\n    const accessToken = Cookies.get(\"accessToken\");\r\n    var subConnection = new HubConnectionBuilder()\r\n      .withUrl(\"https://daugiaapi.azurewebsites.net/bidHub\" + \"?token=\" + accessToken)\r\n      .build();\r\n    //subConnection.connection.Headers.Add(\"Authorization\", \"bearer \" + accessToken);\r\n    return subConnection;\r\n  });\r\n  const [highestBid, setHighestBid] = useState(0);\r\n  const [nextBidMinimumAmount, setNextBidMinimumAmount] = useState();\r\n  const [biddingAmount, setBiddingAmount] = useState(0);\r\n  const [messages, setMessages] = useState([]);\r\n  const renewJwtAuthTokens = useCallback(async () => {\r\n    await connection.stop();\r\n    await api.post(\"/identity/refresh\", {});\r\n    await connection.start();\r\n    try {\r\n      await connection.invoke(\"Setup\", itemId);\r\n    } catch (error) {\r\n      toast.warning(\r\n        \"Chỉ có thể đấu giá sau khi bạn đã đăng nhập. Xin hãy thực hiện đăng nhập!\"\r\n      );\r\n    }\r\n  }, [connection, itemId]);\r\n\r\n  const handleOnClick = (amount) => {\r\n    if (parseFloat(amount) < nextBidMinimumAmount) {\r\n      toast.error(\r\n        `Mức đấu giá tối thiểu là ${process.env.REACT_APP_CURRENCY_SIGN}${nextBidMinimumAmount}`\r\n      );\r\n      return;\r\n    }\r\n\r\n    setIsLoading(true);\r\n    connection\r\n      .invoke(\"CreateBidAsync\", parseFloat(amount), itemId)\r\n      .catch(() => {\r\n        toast.error(\r\n          \"Có lỗi đã xảy ra trong lúc đấu giá. Xin hãy thực hiện lại sau khi tải lại trang.\"\r\n        );\r\n      });\r\n    setIsLoading(false);\r\n  };\r\n\r\n  const fetchHighestBid = useCallback(() => {\r\n    bidService.getHighestBid(itemId).then((response) => {\r\n      const amount = response.data.data?.amount;\r\n      let highestBid;\r\n      if (!amount) {\r\n        highestBid = startingPrice;\r\n      } else {\r\n        highestBid = response.data.data.amount;\r\n      }\r\n\r\n      const nextBiddingAmount = parseFloat(\r\n        highestBid + minPriceIncrease\r\n      ).toFixed(2);\r\n      setHighestBid(highestBid);\r\n      setNextBidMinimumAmount(nextBiddingAmount);\r\n    });\r\n  }, [itemId, startingPrice, minPriceIncrease]);\r\n\r\n  useEffect(() => {\r\n    bidService.getBids(itemId).then((response) => {\r\n      var messages = [];\r\n      for (var i = 0; i < response.data.data.length; i++) {\r\n        messages.push({\r\n          bidAmount: parseFloat(response.data.data[i].amount).toFixed(2),\r\n          userId: response.data.data[i].userId,\r\n          name: response.data.data[i].name,\r\n          image: response.data.data[i].imageUrl,\r\n          telNo: response.data.data[i].telNo,\r\n        });\r\n      }\r\n      setMessages(messages);\r\n    });\r\n    async function connectToSignalR() {\r\n      setIsLoading(true);\r\n      await connection.start();\r\n      try {\r\n        await connection.invoke(\"Setup\", itemId);\r\n      } catch (error) {\r\n        await renewJwtAuthTokens();\r\n      }\r\n\r\n      fetchHighestBid();\r\n\r\n      setIsLoading(false);\r\n\r\n      connection.on(\"handleException\", function (error) {\r\n        toast.error(error);\r\n      });\r\n\r\n      connection.on(\r\n        \"ReceiveMessage\",\r\n        function (bidAmount, userId, bidderName, bidderImage, bidderTelNo) {\r\n          setMessages((prev) => [\r\n            ...prev,\r\n            {\r\n              bidAmount: parseFloat(bidAmount).toFixed(2),\r\n              userId,\r\n              name: bidderName,\r\n              image: bidderImage,\r\n              telNo: bidderTelNo,\r\n            },\r\n          ]);\r\n          const nextBiddingAmount = parseFloat(\r\n            bidAmount + minPriceIncrease\r\n          ).toFixed(2);\r\n          setHighestBid(bidAmount);\r\n          setNextBidMinimumAmount(nextBiddingAmount);\r\n        }\r\n      );\r\n    }\r\n\r\n    connectToSignalR();\r\n  }, [\r\n    itemId,\r\n    connection,\r\n    minPriceIncrease,\r\n    fetchHighestBid,\r\n    renewJwtAuthTokens,\r\n  ]);\r\n\r\n  return (\r\n    <Fragment>\r\n      <Col md={4}>\r\n        <CounterContainer />\r\n        <h4>\r\n          Mức đấu giá cao nhất - {process.env.REACT_APP_CURRENCY_SIGN}\r\n          {highestBid.toFixed(2)}\r\n        </h4>\r\n        <p>\r\n          Mức đấu giá thấp nhất - {process.env.REACT_APP_CURRENCY_SIGN}\r\n          {nextBidMinimumAmount}\r\n        </p>\r\n        <Card className=\"mt-3\">\r\n          <Card.Body>\r\n            <InputGroup className=\"mb-3\">\r\n              <InputGroup.Prepend>\r\n                <InputGroup.Text>\r\n                  {process.env.REACT_APP_CURRENCY_SIGN}\r\n                </InputGroup.Text>\r\n              </InputGroup.Prepend>\r\n              <FormControl\r\n                placeholder=\"Mức giá tham gia đấu giá.\"\r\n                type=\"number\"\r\n                onChange={(e) => setBiddingAmount(e.target.value)}\r\n                min={nextBidMinimumAmount}\r\n              />\r\n              <Button\r\n                className=\"mt-1\"\r\n                block\r\n                variant=\"danger\"\r\n                size=\"lg\"\r\n                onClick={() => handleOnClick(biddingAmount)}\r\n              >\r\n                {isLoading ? (\r\n                  <Fragment>\r\n                    <Spinner\r\n                      as=\"span\"\r\n                      animation=\"grow\"\r\n                      size=\"sm\"\r\n                      role=\"status\"\r\n                      aria-hidden=\"true\"\r\n                    />\r\n                    Đang tải...\r\n                  </Fragment>\r\n                ) : (\r\n                  \"Bid\"\r\n                )}\r\n              </Button>\r\n            </InputGroup>\r\n            <div className=\"text-center mb-2\">\r\n              <div>\r\n                {!isLoading ? (\r\n                  <BidHigherButton\r\n                    handleOnClick={handleOnClick}\r\n                    amount={nextBidMinimumAmount}\r\n                  />\r\n                ) : (\r\n                  \"\"\r\n                )}\r\n              </div>\r\n            </div>\r\n          </Card.Body>\r\n        </Card>\r\n        <Chat messages={messages} />\r\n      </Col>\r\n    </Fragment>\r\n  );\r\n};\r\n","import React, { Fragment } from \"react\";\r\nimport { useState, useEffect } from \"react\";\r\nimport { Result } from \"./Result/Result\";\r\n\r\nexport const BidResult = ({ itemId, topBidders, CounterContainer }) => {\r\n  const [messages, setResults] = useState([]);\r\n\r\n  const fetchHighestBidder = () => {\r\n    if (topBidders && topBidders.length > 0) {\r\n      setResults(topBidders);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    fetchHighestBidder();\r\n  }, [itemId, fetchHighestBidder]);\r\n\r\n  return (\r\n    <Fragment>\r\n      <Result messages={messages} />\r\n    </Fragment>\r\n  );\r\n};\r\n","import React, { useState, Fragment } from \"react\";\r\nimport {\r\n  Spinner,\r\n  Col,\r\n  Card,\r\n  Button,\r\n  OverlayTrigger,\r\n  Tooltip,\r\n} from \"react-bootstrap\";\r\nimport { useCounter } from \"../../../utils/hooks/useCounter\";\r\nimport { useAuth } from \"../../../utils/hooks/authHook\";\r\nimport { UserActionsContainer } from \"./UserActionsContainer\";\r\nimport { Bid } from \"../../Bid/Bid\";\r\nimport { BidResult } from \"../../Bid/BidResult\";\r\nimport { toast } from \"react-toastify\";\r\nimport { history } from \"../../..\";\r\n\r\nexport const SideBar = (props) => {\r\n  const { counter, currentUtcTime } = useCounter(props);\r\n  const { user } = useAuth();\r\n  const [showBidding, setShowBidding] = useState(false);\r\n\r\n  const handleShowBidding = () => {\r\n    if (user) {\r\n      var localUser = JSON.parse(localStorage.getItem(\"user\"));\r\n      if (localUser.phoneNo == undefined || localUser.phoneNo == \"\") {\r\n        history.push(\"/update-tel-no\", history.location.pathname);\r\n        return;\r\n      }\r\n\r\n      setShowBidding(true);\r\n      return;\r\n    }\r\n\r\n    toast.error(\r\n      \"Chỉ có thể đấu giá sau khi đăng nhập. Xin hãy đăng nhập trước!\"\r\n    );\r\n    history.push(\"/sign-in\", history.location.pathname);\r\n  };\r\n\r\n  const Counter = () => {\r\n    return counter ? (\r\n      <p style={{ color: \"red\" }}>\r\n        {counter.days().toFixed()}d {counter.hours()}h {counter.minutes()}m{\" \"}\r\n        {counter.seconds()}s\r\n      </p>\r\n    ) : (\r\n      <Spinner className=\"float-right\" animation=\"border\" />\r\n    );\r\n  };\r\n\r\n  const CounterContainer = () => {\r\n    return props.endTime > currentUtcTime &&\r\n      props.startTime < currentUtcTime ? (\r\n      <div className=\"d-flex w-100 justify-content-end\">\r\n        <div>Thời gian còn lại:&nbsp;</div>\r\n        <div>\r\n          <Counter />\r\n        </div>\r\n      </div>\r\n    ) : props.startTime > currentUtcTime ? (\r\n      <div className=\"d-flex w-100 justify-content-end\">\r\n        <div>Thời gian còn lại cho đến khi bắt đầu:&nbsp;</div>\r\n        <div>\r\n          <Counter />\r\n        </div>\r\n      </div>\r\n    ) : (\r\n      <span className=\"w-100 w-100 justify-content-end\">\r\n        <span style={{ color: \"red\" }}>Kết thúc đấu giá</span>\r\n      </span>\r\n    );\r\n  };\r\n\r\n  return (\r\n    <Fragment>\r\n      {!showBidding ? (\r\n        props.item ? (\r\n          <Col md={4}>\r\n            <div className=\"pt-2\">\r\n              <CounterContainer />\r\n            </div>\r\n            <div className=\"pt-3 pb-5\">\r\n              <Card border=\"dark\">\r\n                <Card.Body>\r\n                  <Card.Text>\r\n                  Giá dự đoán: &euro; {props.item?.startingPrice} -{\" \"}\r\n                    {props.item.startingPrice * 10}\r\n                  </Card.Text>\r\n                  <div className=\"m-2\">\r\n                    {props.startTime < currentUtcTime &&\r\n                    props.endTime > currentUtcTime ? (\r\n                      <Button\r\n                        variant=\"primary\"\r\n                        size=\"lg\"\r\n                        className=\"btn-block\"\r\n                        onClick={handleShowBidding}\r\n                      >\r\n                        <span className=\"d-inline d-md-none d-lg-inline\">\r\n                        THAM GIA \r\n                        </span>\r\n                        ĐẤU GIÁ\r\n                      </Button>\r\n                    ) : (\r\n                      <OverlayTrigger\r\n                        overlay={\r\n                          <Tooltip id=\"tooltip-disabled\">\r\n                            Chỉ có thể đấu giá khi phiên đấu giá bắt đầu!\r\n                          </Tooltip>\r\n                        }\r\n                      >\r\n                        <span className=\"btn-block\">\r\n                          <Button\r\n                            variant=\"primary\"\r\n                            size=\"lg\"\r\n                            disabled\r\n                            className=\"btn-block\"\r\n                            style={{ pointerEvents: \"none\" }}\r\n                          >\r\n                            <span className=\"d-none d-lg-inline\">THAM GIA </span>\r\n                            ĐẤU GIÁ\r\n                          </Button>\r\n                        </span>\r\n                      </OverlayTrigger>\r\n                    )}\r\n                  </div>\r\n                </Card.Body>\r\n              </Card>\r\n              <Card border=\"dark\">\r\n                <Card.Body>\r\n                  <BidResult\r\n                    topBidders={props.item.top3Bidder}\r\n                    CounterContainer={CounterContainer}\r\n                  />\r\n                </Card.Body>\r\n              </Card>\r\n            </div>\r\n            <UserActionsContainer userId={user?.id} item={props.item} />\r\n          </Col>\r\n        ) : (\r\n          \"\"\r\n        )\r\n      ) : (\r\n        <Fragment>\r\n          <Bid\r\n            itemId={props.item.id}\r\n            startingPrice={props.item.startingPrice}\r\n            minPriceIncrease={props.item.minIncrease}\r\n            CounterContainer={CounterContainer}\r\n          />\r\n        </Fragment>\r\n      )}\r\n    </Fragment>\r\n  );\r\n};\r\n","import { useState, useEffect } from \"react\";\nimport moment from \"moment\";\n\nexport function useCounter(props) {\n  const [counter, setCounter] = useState(null);\n  const currentTime = moment().toISOString(\"dd/mm/yyyy HH:mm\");\n  const currentUtcTime = moment().utc().toISOString(\"dd/mm/yyyy HH:mm\");\n\n  useEffect(() => {\n    let duration;\n    if (props.startTime > currentTime) {\n      // Calculate remaining time until auction start\n      let eventTime = moment.utc(props.startTime).local();\n      duration = moment.duration(eventTime.diff(currentTime));\n    } else if (props.startTime < currentTime && props.endTime > currentTime) {\n      let eventTime = moment.utc(props.endTime).local();\n      duration = moment.duration(eventTime.diff(currentTime));\n    }\n\n    const interval = 1000;\n\n    let timeout;\n    if (!counter) {\n      timeout = setTimeout(() => {\n        setCounter(duration);\n      }, 500);\n    }\n\n    const timer =\n      counter &&\n      setInterval(() => {\n        if (counter.milliseconds() < 0 && duration < 0) {\n          return clearInterval(timer);\n        }\n        duration = moment.duration(duration - interval, \"milliseconds\");\n        setCounter(duration);\n      }, interval);\n    return () => {\n      clearInterval(timer);\n      clearTimeout(timeout);\n    };\n  }, [counter, props, currentTime]);\n\n  return {\n    counter,\n    currentUtcTime,\n  };\n}\n","const createImageObj = (pictures) => {\n  let data = [];\n  pictures.forEach((element) => {\n    data.push({\n      original: element.url,\n      thumbnail: element.url,\n    });\n  });\n\n  return data;\n};\n\nexport default createImageObj;\n","import React, { Fragment, useEffect, useState } from \"react\";\r\nimport { Row, Col, Button, Card } from \"react-bootstrap\";\r\nimport ImageGallery from \"react-image-gallery\";\r\nimport itemsService from \"../../../services/itemsService\";\r\nimport { useParams } from \"react-router-dom\";\r\nimport \"moment-timezone\";\r\nimport { SideBar } from \"./SideBar\";\r\nimport \"./Details.css\";\r\nimport createImageObj from \"../../../services/picturesService\";\r\n\r\nexport const Details = () => {\r\n  const [isLoading, setIsLoading] = useState(false);\r\n  const [item, setItem] = useState({});\r\n  const [images, setImages] = useState([]);\r\n\r\n  let { id } = useParams();\r\n\r\n  useEffect(() => {\r\n    setIsLoading(true);\r\n    itemsService.getItemById(id).then(({ data: response }) => {\r\n      setItem(response.data);\r\n      setImages(createImageObj(response.data.pictures));\r\n      setIsLoading(false);\r\n    });\r\n  }, [id]);\r\n\r\n  return (\r\n    <Fragment>\r\n      {!isLoading ? (\r\n        <Row>\r\n          <Col md={8}>\r\n            <h1 style={{ wordBreak: \"break-word\" }}>{item.title}</h1>\r\n            <ImageGallery showPlayButton={false} items={images} />\r\n            <Card className=\"mb-3\">\r\n              <Card.Header>\r\n                <Button>Chi Tiết</Button>\r\n              </Card.Header>\r\n              <Card.Body>\r\n                <Card.Text>{item.description}</Card.Text>\r\n                <h5 className=\"card-title\">Bắt Đầu Đấu Giá</h5>\r\n                <Card.Text>&euro;{item.startingPrice}</Card.Text>\r\n              </Card.Body>\r\n            </Card>\r\n          </Col>\r\n          <SideBar\r\n            item={item}\r\n            startTime={item.startTime}\r\n            endTime={item.endTime}\r\n            startingPrice={item.startingPrice}\r\n          />\r\n          <SideBar />\r\n        </Row>\r\n      ) : (\r\n        \"Đang Tải...\"\r\n      )}\r\n    </Fragment>\r\n  );\r\n};\r\n","import React, { useState, useEffect } from \"react\";\nimport FlipMove from \"react-flip-move\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { faServer } from \"@fortawesome/free-solid-svg-icons\";\nimport \"./ImageUploader.css\";\n\nconst styles = {\n  display: \"flex\",\n  alignItems: \"center\",\n  justifyContent: \"center\",\n  flexWrap: \"wrap\",\n  width: \"100%\",\n};\n\nconst ERROR = {\n  NOT_SUPPORTED_EXTENSION: \"NOT_SUPPORTED_EXTENSION\",\n  FILESIZE_TOO_LARGE: \"FILESIZE_TOO_LARGE\",\n};\n\nexport const ImageUploader = (props) => {\n  const [pictures, setPictures] = useState([]);\n  const [files, setFiles] = useState([]);\n  const [fileErrors, setFileErrors] = useState([]);\n  const [\n    shouldAcceptInitialPictures,\n    setShouldAcceptInitialPictures,\n  ] = useState(true);\n  let inputElement = \"\";\n\n  const { onChange, images, onRemove } = props;\n\n  useEffect(() => {\n    if (shouldAcceptInitialPictures && images) {\n      setPictures(images);\n      setShouldAcceptInitialPictures(false);\n    }\n  }, [shouldAcceptInitialPictures, images]);\n\n  useEffect(() => {\n    onChange(files, pictures);\n  }, [pictures, files, onChange]);\n\n  const hasExtension = (fileName) => {\n    const pattern =\n      \"(\" + props.imgExtensions.join(\"|\").replace(/\\./g, \"\\\\.\") + \")$\";\n    return new RegExp(pattern, \"i\").test(fileName);\n  };\n\n  const onDropFile = (e) => {\n    const eventFiles = e.target.files;\n    const allFilePromises = [];\n    const errors = [];\n\n    for (let i = 0; i < eventFiles.length; i++) {\n      let file = eventFiles[i];\n      let fileError = {\n        name: file.name,\n      };\n      if (!hasExtension(file.name)) {\n        fileError = Object.assign(fileError, {\n          type: ERROR.NOT_SUPPORTED_EXTENSION,\n        });\n        errors.push(fileError);\n        continue;\n      }\n      if (file.size > props.maxFileSize) {\n        fileError = Object.assign(fileError, {\n          type: ERROR.FILESIZE_TOO_LARGE,\n        });\n        errors.push(fileError);\n        continue;\n      }\n\n      allFilePromises.push(readFile(file));\n    }\n\n    setFileErrors(errors);\n\n    const { singleImage } = props;\n\n    Promise.all(allFilePromises).then((newFilesData) => {\n      const dataURLs = singleImage ? [] : pictures.slice();\n      const newFiles = singleImage ? [] : files.slice();\n\n      newFilesData.forEach((newFileData) => {\n        dataURLs.push(newFileData.dataURL);\n        newFiles.push(newFileData.file);\n      });\n\n      setPictures(dataURLs);\n      setFiles(newFiles);\n    });\n  };\n\n  const onUploadClick = (e) => {\n    e.target.value = null;\n  };\n\n  const readFile = (file) => {\n    return new Promise((resolve, reject) => {\n      const reader = new FileReader();\n\n      reader.onload = function (e) {\n        let dataURL = e.target.result;\n        dataURL = dataURL.replace(\";base64\", `;name=${file.name};base64`);\n        resolve({ file, dataURL });\n      };\n\n      reader.readAsDataURL(file);\n    });\n  };\n\n  const removeImage = (picture) => {\n    const removeIndex = pictures.findIndex((e) => e === picture);\n    if (picture.id) {\n      onRemove((prev) => [...prev, picture.id]);\n    } else\n      setFiles((oldFiles) =>\n        oldFiles.filter((e, index) => index !== removeIndex)\n      );\n\n    setPictures((oldPictures) =>\n      oldPictures.filter((e, index) => index !== removeIndex)\n    );\n    onChange(files, pictures);\n  };\n\n  const renderErrors = () => {\n    return fileErrors.map((fileError, index) => {\n      return (\n        <div\n          className={\"errorMessage \" + props.errorClass}\n          key={index}\n          style={props.errorStyle}\n        >\n          * {fileError.name}{\" \"}\n          {fileError.type === ERROR.FILESIZE_TOO_LARGE\n            ? props.fileSizeError\n            : props.fileTypeError}\n        </div>\n      );\n    });\n  };\n\n  const renderIcon = () => {\n    if (props.withIcon) {\n      return <FontAwesomeIcon icon={faServer} className=\"uploadIcon\" />;\n    }\n  };\n\n  const renderLabel = () => {\n    if (props.withLabel) {\n      return (\n        <p className={props.labelClass} style={props.labelStyles}>\n          {props.label}\n        </p>\n      );\n    }\n  };\n\n  const renderPreview = () => {\n    return (\n      <div className=\"uploadPicturesWrapper\">\n        <FlipMove enterAnimation=\"fade\" leaveAnimation=\"fade\" style={styles}>\n          {renderPreviewPictures()}\n        </FlipMove>\n      </div>\n    );\n  };\n\n  const renderPreviewPictures = () => {\n    return pictures.map((picture, index) => {\n      return (\n        <div key={index} className=\"uploadPictureContainer\">\n          <div className=\"deleteImage\" onClick={() => removeImage(picture)}>\n            X\n          </div>\n          <img\n            src={picture.url ? picture.url : picture}\n            className=\"uploadPicture\"\n            alt=\"preview\"\n          />\n        </div>\n      );\n    });\n  };\n\n  const triggerFileUpload = () => {\n    inputElement.click();\n  };\n\n  return (\n    <div className=\"fileUploader\">\n      <div className=\"fileContainer\">\n        {renderIcon()}\n        {renderLabel()}\n        <div className=\"errorsContainer\">{renderErrors()}</div>\n        <button\n          type={props.buttonType}\n          className={\"chooseFileButton \" + props.buttonClassName}\n          style={props.buttonStyles}\n          onClick={triggerFileUpload}\n        >\n          {props.buttonText}\n        </button>\n        <input\n          type=\"file\"\n          ref={(input) => (inputElement = input)}\n          name={props.name}\n          multiple={!props.singleImage}\n          onChange={onDropFile}\n          onClick={onUploadClick}\n          accept={props.accept}\n        />\n        {props.withPreview ? renderPreview() : null}\n      </div>\n    </div>\n  );\n};\n\nImageUploader.defaultProps = {\n  className: \"\",\n  fileContainerStyle: {},\n  buttonClassName: \"\",\n  buttonStyles: {},\n  withPreview: true,\n  accept: \"image/*\",\n  name: \"\",\n  withIcon: true,\n  buttonText: \"Choose images\",\n  buttonType: \"button\",\n  withLabel: true,\n  label: \"Max file size: 5mb, accepted: jpg|jpeg|gif|png\",\n  labelStyles: {},\n  labelClass: \"\",\n  imgExtensions: [\".jpg\", \".jpeg\", \".gif\", \".png\"],\n  maxFileSize: 5242880,\n  fileSizeError: \" file size is too big\",\n  fileTypeError: \" is not a supported file extension\",\n  errorClass: \"\",\n  style: {},\n  errorStyle: {},\n  singleImage: false,\n  onChange: () => {},\n  defaultImages: [],\n};\n","import { useState, useEffect } from \"react\";\nimport moment from \"moment\";\n\nexport const useTime = (interval = 60000) => {\n  const [currentTime, setCurrentTime] = useState(moment().toDate());\n\n  useEffect(() => {\n    const timer = setInterval(() => {\n      setCurrentTime(moment().toDate());\n    }, interval);\n\n    return () => clearInterval(timer);\n  }, [currentTime, interval]);\n\n  return { currentTime };\n};\n","import React, { useState, useEffect } from \"react\";\nimport { useForm } from \"react-hook-form\";\nimport {\n  Container,\n  Form,\n  InputGroup,\n  Button,\n  Spinner,\n  Row,\n} from \"react-bootstrap\";\nimport categoriesService from \"../../../services/categoriesService\";\nimport moment from \"moment\";\nimport \"./Create.css\";\nimport {\n  StartTimeDatePicker,\n  EndTimeDatePicker,\n} from \"../../DateTimePicker/DateTimePicker\";\nimport itemsService from \"../../../services/itemsService\";\nimport { ImageUploader } from \"../../ImageUploader/ImageUploader\";\nimport { history } from \"../../..\";\nimport { useTime } from \"../../../utils/hooks/useTime\";\n\nexport const Create = () => {\n  const { register, handleSubmit, errors } = useForm();\n  const [isLoading, setIsLoading] = useState(false);\n  const [categories, setCategories] = useState([]);\n  const [pictures, setPictures] = useState([]);\n  const { currentTime } = useTime();\n  const [startTime, setStartTime] = useState();\n  const [endTime, setEndTime] = useState();\n\n  useEffect(() => {\n    setStartTime(moment(currentTime).add(2, \"minutes\").toDate());\n    setEndTime(moment(currentTime).add(1, \"week\").add(10, \"m\").toDate());\n  }, [currentTime]);\n\n  useEffect(() => {\n    categoriesService.getAll().then((response) => {\n      setCategories(response.data.data);\n    });\n  }, []);\n\n  const onSubmit = (data, e) => {\n    setIsLoading(true);\n    var formData = new FormData(e.target);\n    pictures.forEach((file) => {\n      formData.append(\"pictures\", file, file.name);\n    });\n    formData.append(\"startTime\", startTime.toISOString(\"dd/mm/yyyy HH:mm\"));\n    formData.append(\"endTime\", endTime.toISOString(\"dd/mm/yyyy HH:mm\"));\n\n    itemsService\n      .createItem(formData)\n      .then((response) => {\n        history.push(`/items/details/${response.data.data.id}`);\n      })\n      .catch(() => setIsLoading(false));\n  };\n\n  const onDrop = (picture) => {\n    setPictures(picture);\n  };\n\n  return (\n    <Container>\n      <div className=\"text-center w-md-75 w-lg-50 mx-auto my-4\">\n        <Form\n          onSubmit={handleSubmit(onSubmit)}\n          style={{\n            border: \"1px solid #e3e6ef\",\n            background: \"#fff\",\n            padding: \"2rem\",\n          }}\n        >\n          <h1>Tạo sản phẩm</h1>\n          <Form.Group controlId=\"title\">\n            <Form.Label>Title</Form.Label>\n            <Form.Control\n              name=\"title\"\n              placeholder=\"Some really cool item\"\n              ref={register({\n                required: \"Cần nhập thông tin cho trường tiêu đề\",\n                maxLength: 120,\n              })}\n            />\n            {errors.title && (\n              <Form.Control.Feedback type=\"invalid\">\n                {errors.title.message}\n              </Form.Control.Feedback>\n            )}\n          </Form.Group>\n          <Form.Group controlId=\"description\">\n            <Form.Label>Description</Form.Label>\n            <Form.Control\n              name=\"description\"\n              as=\"textarea\"\n              placeholder=\"This item was owned by Hitler!!! WOW!\"\n              ref={register({\n                required: \"Cần nhập thông tin miêu tả.\",\n                maxLength: 500,\n              })}\n            />\n            {errors.description && (\n              <Form.Control.Feedback type=\"invalid\">\n                {errors.description.message}\n              </Form.Control.Feedback>\n            )}\n          </Form.Group>\n          <Row>\n            <Form.Group className=\"col\" controlId=\"StartTime\">\n              <Form.Label>Thời gian bắt đầu</Form.Label>\n              <StartTimeDatePicker\n                startTime={startTime}\n                setStartTime={setStartTime}\n                endTime={endTime}\n              />\n            </Form.Group>\n            <Form.Group className=\"col\" controlId=\"EndTime\">\n              <Form.Label>Thời gian kết thúc</Form.Label>\n              <EndTimeDatePicker\n                endTime={endTime}\n                setEndTime={setEndTime}\n                startTime={startTime}\n              />\n            </Form.Group>\n          </Row>\n          <Form.Group controlId=\"startingPrice\">\n            <Form.Label>Giá khởi điểm</Form.Label>\n            <InputGroup className=\"mb-3\">\n              <InputGroup.Prepend>\n                <InputGroup.Text id=\"starting-price\">\n                  {process.env.REACT_APP_CURRENCY_SIGN}\n                </InputGroup.Text>\n              </InputGroup.Prepend>\n              <Form.Control\n                name=\"startingPrice\"\n                type=\"number\"\n                placeholder=\"100\"\n                aria-describedby=\"starting-price\"\n                ref={register({\n                  required: \"Yêu cầu nhập giá khởi điểm\",\n                  min: 0.01,\n                  max: 1000000000,\n                })}\n              />\n            </InputGroup>\n            {errors.startingPrice && (\n              <Form.Control.Feedback type=\"invalid\">\n                {errors.startingPrice.message}\n              </Form.Control.Feedback>\n            )}\n          </Form.Group>\n          <Form.Group controlId=\"minIncrease\">\n            <Form.Label>\n            Mức tăng giá tối thiểu (\n              {\n                <span className=\"text-muted\">\n                  Chúng tôi đề xuất mức 10% giá trị mức giá khởi điểm\n                </span>\n              }\n              )\n            </Form.Label>\n            <InputGroup className=\"mb-3\">\n              <InputGroup.Prepend>\n                <InputGroup.Text id=\"min-increase\">\n                  {process.env.REACT_APP_CURRENCY_SIGN}\n                </InputGroup.Text>\n              </InputGroup.Prepend>\n              <Form.Control\n                name=\"minIncrease\"\n                type=\"number\"\n                aria-describedby=\"min-increase\"\n                ref={register({\n                  required: \"Mức giá tăng tối thiểu cần được nhập.\",\n                  min: 0.01,\n                  max: 1000000000,\n                })}\n              />\n            </InputGroup>\n            {errors.minIncrease && (\n              <Form.Control.Feedback type=\"invalid\">\n                {errors.minIncrease.message}\n              </Form.Control.Feedback>\n            )}\n          </Form.Group>\n          <Form.Group controlId=\"category\">\n            <Form.Label>Category</Form.Label>\n            <Form.Control\n              custom\n              name=\"subCategoryId\"\n              ref={register({ required: \"Cần nhập danh mục.\" })}\n              as=\"select\"\n            >\n              <option disabled>Chọn danh mục</option>\n              {categories.map((category) => {\n                return category.subCategories.map((subCategory, index) => {\n                  return (\n                    <option key={index} value={subCategory.id}>\n                      {subCategory.name}\n                    </option>\n                  );\n                });\n              })}\n            </Form.Control>\n          </Form.Group>\n          <Form.Group>\n            <ImageUploader onChange={onDrop} />\n          </Form.Group>\n          {!isLoading ? (\n            <Button variant=\"primary\" type=\"submit\">\n              Đăng bài\n            </Button>\n          ) : (\n            <Button variant=\"primary\" disabled>\n              <Spinner\n                as=\"span\"\n                animation=\"grow\"\n                size=\"sm\"\n                role=\"status\"\n                aria-hidden=\"true\"\n              />\n              Đang tạo...\n            </Button>\n          )}\n        </Form>\n      </div>\n    </Container>\n  );\n};\n","import React, { Fragment } from \"react\";\nimport { Route } from \"react-router-dom\";\nimport { useAuth } from \"../utils/hooks/authHook\";\nimport { toast } from \"react-toastify\";\nimport { history } from \"..\";\n\nexport const PrivateRoute = ({\n  component: Component,\n  adminOnly = false,\n  ...rest\n}) => {\n  const { user } = useAuth();\n\n  return (\n    <Route\n      {...rest}\n      render={(props) => {\n        if (user) {\n          if (adminOnly && user.isAdmin) {\n            return <Component {...props} />;\n          }\n          if (adminOnly && !user.isAdmin) {\n            history.push(\"/notFound\");\n            return;\n          }\n          if (!adminOnly && user) {\n            return <Component {...props} />;\n          }\n        } else {\n          return (\n            <Fragment>\n              {history.push(\"/sign-in\", history.location.pathname)}\n              {toast.warning(\"Please sign in!\")}\n            </Fragment>\n          );\n        }\n      }}\n    />\n  );\n};\n","import React, { useState, useEffect } from \"react\";\r\nimport { useForm } from \"react-hook-form\";\r\nimport { Container, Form, InputGroup, Button, Spinner } from \"react-bootstrap\";\r\nimport categoriesService from \"../../../services/categoriesService\";\r\nimport moment from \"moment\";\r\nimport {\r\n  StartTimeDatePicker,\r\n  EndTimeDatePicker,\r\n} from \"../../DateTimePicker/DateTimePicker\";\r\nimport itemsService from \"../../../services/itemsService\";\r\nimport { ImageUploader } from \"../../ImageUploader/ImageUploader\";\r\nimport { useParams } from \"react-router-dom\";\r\nimport { history } from \"../../..\";\r\nimport { useTime } from \"../../../utils/hooks/useTime\";\r\n\r\nexport const Edit = () => {\r\n  const { register, handleSubmit, errors } = useForm();\r\n  const [isLoading, setIsLoading] = useState(true);\r\n  const [item, setItem] = useState();\r\n  const [categories, setCategories] = useState([]);\r\n  const [pictures, setPictures] = useState([]);\r\n  const [removedPictures, setRemovedPictures] = useState([]);\r\n\r\n  const { currentTime } = useTime();\r\n\r\n  const [startTime, setStartTime] = useState(\r\n    moment(currentTime).add(2, \"minutes\").toDate()\r\n  );\r\n  const [endTime, setEndTime] = useState(\r\n    moment(currentTime).add(1, \"months\").add(10, \"m\").toDate()\r\n  );\r\n\r\n  const { id } = useParams();\r\n\r\n  useEffect(() => {\r\n    setStartTime(moment(currentTime).add(1, \"minutes\").toDate());\r\n  }, [currentTime]);\r\n\r\n  useEffect(() => {\r\n    async function getCategories() {\r\n      const categories = await categoriesService.getAll();\r\n      setCategories(categories.data.data);\r\n    }\r\n\r\n    async function getItem() {\r\n      const item = (await itemsService.getItemById(id)).data.data;\r\n      setItem(item);\r\n      const urls = await Promise.all(\r\n        item.pictures.map(async ({ id, url }) => {\r\n          return { id, url: await toDataURL(url) };\r\n        })\r\n      );\r\n      setPictures((prev) => [...prev, ...urls]);\r\n    }\r\n\r\n    async function fetch() {\r\n      await getCategories();\r\n      await getItem();\r\n      setIsLoading(false);\r\n    }\r\n\r\n    fetch();\r\n  }, [id]);\r\n\r\n  const toDataURL = (url) =>\r\n    fetch(url)\r\n      .then((response) => response.blob())\r\n      .then(\r\n        (blob) =>\r\n          new Promise((resolve, reject) => {\r\n            const reader = new FileReader();\r\n            reader.onloadend = () => resolve(reader.result);\r\n            reader.onerror = reject;\r\n            reader.readAsDataURL(blob);\r\n          })\r\n      );\r\n\r\n  const onSubmit = (data, e) => {\r\n    setIsLoading(true);\r\n    var formData = new FormData(e.target);\r\n    pictures.forEach((file) => {\r\n      formData.append(\"picturesToAdd\", file, file.name);\r\n    });\r\n    removedPictures.forEach((id) => {\r\n      formData.append(\"picturesToRemove\", id);\r\n    });\r\n\r\n    formData.append(\"id\", id);\r\n    formData.append(\"startTime\", startTime.toISOString(\"dd/mm/yyyy HH:mm\"));\r\n    formData.append(\"endTime\", endTime.toISOString(\"dd/mm/yyyy HH:mm\"));\r\n\r\n    itemsService\r\n      .editItem(id, formData)\r\n      .then(() => {\r\n        history.push(`/items/details/${id}`);\r\n      })\r\n      .catch(() => setIsLoading(false));\r\n  };\r\n\r\n  const onDrop = (pictureFiles) => {\r\n    setPictures(pictureFiles);\r\n  };\r\n\r\n  return (\r\n    <Container>\r\n      <div className=\"text-center w-md-75 w-lg-50 mx-auto my-4\">\r\n        {!isLoading ? (\r\n          <Form\r\n            onSubmit={handleSubmit(onSubmit)}\r\n            style={{\r\n              border: \"1px solid #e3e6ef\",\r\n              background: \"#fff\",\r\n              padding: \"2rem\",\r\n            }}\r\n          >\r\n            <h1>Chỉnh Sửa</h1>\r\n            <Form.Group controlId=\"title\">\r\n              <Form.Label>Title</Form.Label>\r\n              <Form.Control\r\n                name=\"title\"\r\n                placeholder=\"Some really cool item\"\r\n                ref={register({\r\n                  required: \"Title field is required\",\r\n                  maxLength: 120,\r\n                })}\r\n                defaultValue={item.title}\r\n              />\r\n              {errors.title && (\r\n                <Form.Control.Feedback type=\"invalid\">\r\n                  {errors.title.message}\r\n                </Form.Control.Feedback>\r\n              )}\r\n            </Form.Group>\r\n            <Form.Group controlId=\"description\">\r\n              <Form.Label>Miêu Tả</Form.Label>\r\n              <Form.Control\r\n                name=\"description\"\r\n                as=\"textarea\"\r\n                placeholder=\"This item was owned by Hitler!!! WOW!\"\r\n                ref={register({\r\n                  required: \"Description field is required\",\r\n                  maxLength: 500,\r\n                })}\r\n                defaultValue={item.description}\r\n              />\r\n              {errors.description && (\r\n                <Form.Control.Feedback type=\"invalid\">\r\n                  {errors.description.message}\r\n                </Form.Control.Feedback>\r\n              )}\r\n            </Form.Group>\r\n            <Form.Group controlId=\"StartTime\">\r\n              <p>Thời Gian Bắt Đầu</p>\r\n              <StartTimeDatePicker\r\n                startTime={startTime}\r\n                setStartTime={setStartTime}\r\n                endTime={endTime}\r\n              />\r\n            </Form.Group>\r\n            <Form.Group controlId=\"EndTime\">\r\n              <p>Thời Gian Kết Thúc</p>\r\n              <EndTimeDatePicker\r\n                endTime={endTime}\r\n                setEndTime={setEndTime}\r\n                startTime={startTime}\r\n              />\r\n            </Form.Group>\r\n            <Form.Group controlId=\"startingPrice\">\r\n              <Form.Label>Giá Khởi Điểm</Form.Label>\r\n              <InputGroup className=\"mb-3\">\r\n                <InputGroup.Prepend>\r\n                  <InputGroup.Text id=\"starting-price\">\r\n                    {process.env.REACT_APP_CURRENCY_SIGN}\r\n                  </InputGroup.Text>\r\n                </InputGroup.Prepend>\r\n                <Form.Control\r\n                  name=\"startingPrice\"\r\n                  type=\"number\"\r\n                  placeholder=\"100\"\r\n                  aria-describedby=\"starting-price\"\r\n                  ref={register({\r\n                    required: \"Starting Price field is required\",\r\n                    min: 0.01,\r\n                    max: 1000000000,\r\n                  })}\r\n                  defaultValue={item.startingPrice}\r\n                />\r\n              </InputGroup>\r\n              {errors.startingPrice && (\r\n                <Form.Control.Feedback type=\"invalid\">\r\n                  {errors.startingPrice.message}\r\n                </Form.Control.Feedback>\r\n              )}\r\n            </Form.Group>\r\n            <Form.Group controlId=\"minIncrease\">\r\n              <Form.Label>\r\n                Khoảng giá tăng tổi thiểu với 1 yêu cầu đấu giá (\r\n                {\r\n                  <span className=\"text-muted\">\r\n                    Chúng tôi khuyến nghị 10% giá khởi điểm\r\n                  </span>\r\n                }\r\n                )\r\n              </Form.Label>\r\n              <InputGroup className=\"mb-3\">\r\n                <InputGroup.Prepend>\r\n                  <InputGroup.Text id=\"min-increase\">\r\n                    {process.env.REACT_APP_CURRENCY_SIGN}\r\n                  </InputGroup.Text>\r\n                </InputGroup.Prepend>\r\n                <Form.Control\r\n                  name=\"minIncrease\"\r\n                  type=\"number\"\r\n                  aria-describedby=\"min-increase\"\r\n                  ref={register({\r\n                    required: \"Min price increase field is required\",\r\n                    min: 0.01,\r\n                    max: 1000000000,\r\n                  })}\r\n                  defaultValue={item.minIncrease}\r\n                />\r\n              </InputGroup>\r\n              {errors.minIncrease && (\r\n                <Form.Control.Feedback type=\"invalid\">\r\n                  {errors.minIncrease.message}\r\n                </Form.Control.Feedback>\r\n              )}\r\n            </Form.Group>\r\n            <Form.Group controlId=\"category\">\r\n              <Form.Label>Danh Mục</Form.Label>\r\n              <Form.Control\r\n                name=\"subCategoryId\"\r\n                ref={register({ required: \"Category is required\" })}\r\n                as=\"select\"\r\n                defaultValue={item.subCategoryId}\r\n              >\r\n                <option disabled>Chọn Danh Mục</option>\r\n                {categories.map((category) => {\r\n                  return category.subCategories.map((subCategory, index) => {\r\n                    return (\r\n                      <option key={index} value={subCategory.id}>\r\n                        {subCategory.name}\r\n                      </option>\r\n                    );\r\n                  });\r\n                })}\r\n              </Form.Control>\r\n            </Form.Group>\r\n            <Form.Group>\r\n              <ImageUploader\r\n                onChange={onDrop}\r\n                images={pictures}\r\n                onRemove={setRemovedPictures}\r\n              />\r\n            </Form.Group>\r\n            <div>\r\n              <Button\r\n                variant=\"outline-info\"\r\n                className=\"mr-3\"\r\n                onClick={() => history.goBack()}\r\n              >\r\n                Hủy\r\n              </Button>\r\n              <Button variant=\"outline-danger\" type=\"submit\">\r\n                Gửi Đi\r\n              </Button>\r\n            </div>\r\n          </Form>\r\n        ) : (\r\n          <Spinner animation=\"border\" />\r\n        )}\r\n      </div>\r\n    </Container>\r\n  );\r\n};\r\n","import api from \"../utils/helpers/api\";\n\nconst getUsers = (query) => {\n  return api\n    .get(process.env.REACT_APP_API_ADMINISTRATION_ENDPOINT, { params: query })\n    .then((response) => response);\n};\n\nconst addToRole = (email, role) => {\n  return api\n    .post(process.env.REACT_APP_API_ADMINISTRATION_ENDPOINT, {\n      email,\n      role,\n    })\n    .then((response) => response);\n};\n\nconst removeFromRole = (email, role) => {\n  return api\n    .delete(process.env.REACT_APP_API_ADMINISTRATION_ENDPOINT, {\n      data: { email, role },\n    })\n    .then((response) => response);\n};\n\nexport default {\n  getUsers,\n  addToRole,\n  removeFromRole,\n};\n","import React, { useState, useEffect, Fragment } from \"react\";\nimport adminService from \"../../services/adminService\";\nimport { Spinner, Table, Form } from \"react-bootstrap\";\nimport ReactPaginate from \"react-paginate\";\nimport { toast } from \"react-toastify\";\n\nexport const Admin = () => {\n  const [isLoading, setIsLoading] = useState(true);\n  const [paginationQuery, setPaginationQuery] = useState({\n    pageNumber: 1,\n    pageSize: 7,\n  });\n  const [users, setUsers] = useState([]);\n  const [totalPages, setTotalPages] = useState();\n\n  useEffect(() => {\n    adminService.getUsers(paginationQuery).then((response) => {\n      setUsers(response.data.data);\n      setTotalPages(response.data.totalPages);\n      setIsLoading(false);\n    });\n  }, [paginationQuery]);\n\n  const handlePageClick = (data) => {\n    let pageNumber = data.selected + 1;\n    setPaginationQuery((prev) => ({ ...prev, pageNumber }));\n  };\n\n  const handleAddUserToRole = (event, index) => {\n    const role = event.target.value;\n    const email = users[index].email;\n\n    adminService.addToRole(email, role).then(() => {\n      setUsers((prev) => [\n        ...prev.map((user, currentIndex) => {\n          if (currentIndex === index) {\n            return {\n              ...user,\n              currentRoles: [...user.currentRoles, role],\n              nonCurrentRoles: user.nonCurrentRoles.filter(\n                (nonCurrentRole) => nonCurrentRole !== role\n              ),\n            };\n          }\n\n          return user;\n        }),\n      ]);\n      toast.success(`${email} has been successfully promoted to ${role}`);\n    });\n  };\n\n  const handleRemoveUserFromRole = (event, index) => {\n    const role = event.target.value;\n    const email = users[index].email;\n\n    adminService.removeFromRole(email, role).then(() => {\n      setUsers((prev) => [\n        ...prev.map((user, currentIndex) => {\n          if (currentIndex === index) {\n            return {\n              ...user,\n              currentRoles: user.currentRoles.filter(\n                (currentRole) => currentRole !== role\n              ),\n\n              nonCurrentRoles: [...user.nonCurrentRoles, role],\n            };\n          }\n\n          return user;\n        }),\n      ]);\n\n      toast.success(`${email} has been successfully demoted from ${role}`);\n    });\n  };\n\n  return isLoading ? (\n    <Spinner animation=\"border\" />\n  ) : (\n    <Fragment>\n      <Table responsive striped bordered hover size=\"sm\">\n        <thead>\n          <tr>\n            <th>Email</th>\n            <th>Roles</th>\n            <th>Add to role</th>\n            <th>Remove from role</th>\n          </tr>\n        </thead>\n        <tbody>\n          {users.map((user, index) => {\n            return (\n              <tr key={index}>\n                <td>{user.email}</td>\n                <td>\n                  {user.currentRoles.length !== 0 ? user.currentRoles : \"User\"}\n                </td>\n                <td>\n                  <Form.Group>\n                    <Form.Control\n                      as=\"select\"\n                      custom\n                      value=\"Select role\"\n                      onChange={(e) => handleAddUserToRole(e, index)}\n                    >\n                      <option disabled>Select role</option>\n                      {user.nonCurrentRoles.map((role, index) => {\n                        return <option key={index}>{role}</option>;\n                      })}\n                    </Form.Control>\n                  </Form.Group>\n                </td>\n                <td>\n                  <Form.Group>\n                    <Form.Control\n                      as=\"select\"\n                      custom\n                      value=\"Select role\"\n                      onChange={(e) => handleRemoveUserFromRole(e, index)}\n                    >\n                      <option disabled>Select role</option>\n                      {user.currentRoles.map((role, index) => {\n                        return <option key={index}>{role}</option>;\n                      })}\n                    </Form.Control>\n                  </Form.Group>\n                </td>\n              </tr>\n            );\n          })}\n        </tbody>\n      </Table>\n      <ReactPaginate\n        previousLabel={\"previous\"}\n        nextLabel={\"next\"}\n        breakLabel={\"...\"}\n        pageCount={totalPages}\n        marginPagesDisplayed={3}\n        pageRangeDisplayed={5}\n        onPageChange={handlePageClick}\n        breakClassName={\"page-item\"}\n        breakLinkClassName={\"page-link\"}\n        containerClassName={\"pagination justify-content-end\"}\n        pageClassName={\"page-item\"}\n        pageLinkClassName={\"page-link\"}\n        previousClassName={\"page-item\"}\n        previousLinkClassName={\"page-link\"}\n        nextClassName={\"page-item\"}\n        nextLinkClassName={\"page-link\"}\n        activeClassName={\"active\"}\n      />\n    </Fragment>\n  );\n};\n","import React, { useState } from \"react\";\r\nimport { useForm } from \"react-hook-form\";\r\nimport { Form, Button } from \"react-bootstrap\";\r\nimport { history } from \"../../../index\";\r\nimport { toast } from \"react-toastify\";\r\nimport bidService from \"../../../services/bidService\";\r\n\r\nexport const UpdateTelNo = () => {\r\n  const { register, handleSubmit, errors, watch, formState } = useForm({\r\n    mode: \"onblur\",\r\n  });\r\n  const { touched } = formState;\r\n\r\n  const onSubmit = (data) => {\r\n    bidService\r\n      .updateTelNo(data)\r\n      .then(() => {\r\n        var user = JSON.parse(localStorage.getItem(\"user\"));\r\n        if (user) {\r\n          user.phoneNo = data.telNo;\r\n          localStorage.setItem(\"user\", JSON.stringify(user));\r\n        }\r\n\r\n        history.location.state\r\n          ? history.replace(history.location.state)\r\n          : history.push(\"/\");\r\n        toast.success(\r\n          \"Bạn đã update sđt thành công, xin mời tiếp tục đấu giá.\"\r\n        );\r\n      })\r\n      .catch((error) => {\r\n        toast.error(\"Có lỗi xảy ra, xin liên lạc với admin để xử lý.\");\r\n      });\r\n  };\r\n\r\n  const hasError = (touched, errors) => {\r\n    if (touched && !errors) {\r\n      return false;\r\n    } else if (touched && errors) {\r\n      return true;\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Form noValidate onSubmit={handleSubmit(onSubmit)}>\r\n      <div class=\"text-center\">\r\n        <Form.Group controlId=\"formBasicTelNo\">\r\n          <Form.Label>Nhập Số Điện Thoại</Form.Label>\r\n          <Form.Control \r\n            name=\"telNo\"\r\n            type=\"tel\"\r\n            placeholder=\"Cần nhập số điện thoại trước khi tham gia đấu giá\"\r\n            ref={register({\r\n              required: \"Nhập số điện thoại là bắt buộc\",\r\n              pattern: {\r\n                value: /0[0-9\\s.-]{9,13}/,\r\n                message: \"Xin hãy nhập đúng số điện thoại\",\r\n              },\r\n            })}\r\n            isValid={hasError(touched.telNo, errors.telNo) === false ?? true}\r\n            isInvalid={hasError(touched.telNo, errors.telNo)}\r\n          />\r\n          {errors.telNo && (\r\n            <Form.Control.Feedback type=\"invalid\">\r\n              {errors.telNo.message}\r\n            </Form.Control.Feedback>\r\n          )}\r\n        </Form.Group>\r\n\r\n        <Button variant=\"primary\" type=\"submit\">\r\n          Gửi\r\n        </Button>\r\n      </div>\r\n    </Form>\r\n  );\r\n};\r\n","import React, { Fragment } from \"react\";\nimport { NavMenu } from \"./components/NavMenu\";\nimport { Home } from \"./components/Home/Home\";\nimport { Switch, Route } from \"react-router-dom\";\nimport { Container } from \"react-bootstrap\";\nimport { ToastContainer } from \"react-toastify\";\nimport { NetworkError } from \"./components/Error/NetworkError\";\nimport { NotFound } from \"./components/Error/NotFound\";\nimport { Login } from \"./components/Account/Login/Login\";\nimport { ProvideAuth } from \"./utils/hooks/authHook\";\nimport { List } from \"./components/Items/List/List\";\nimport { Details } from \"./components/Items/Details/Details\";\nimport { Create } from \"./components/Items/Create/Create\";\nimport { PrivateRoute } from \"./components/PrivateRoute\";\nimport { Edit } from \"./components/Items/Edit/Edit\";\nimport { Admin } from \"./components/Admin/Admin\";\nimport { UpdateTelNo } from \"./components/Account/UpdateTelNo/UpdateTelNo\";\nimport \"react-toastify/dist/ReactToastify.css\";\n\nfunction App() {\n  return (\n    <Fragment>\n      <ProvideAuth>\n        <NavMenu />\n        <Container className=\"pt-3\">\n          <ToastContainer />\n          <Switch>\n            <Route exact path={[process.env.PUBLIC_URL + \"/\", process.env.PUBLIC_URL + \"/home\"]} component={Home} />\n            <Route exact path={process.env.PUBLIC_URL + \"/sign-in\"} component={Login} />\n            <Route exact path={process.env.PUBLIC_URL + \"/update-tel-no\"} component={UpdateTelNo} />\n            {/* <Route exact path=\"/sign-up\" component={Register} /> */}\n            <Route exact path={process.env.PUBLIC_URL + \"/error/network\"} component={NetworkError} />\n            <PrivateRoute exact path={process.env.PUBLIC_URL + \"/items/create\"} component={Create} />\n            <PrivateRoute path={process.env.PUBLIC_URL + \"/items/edit/:slug/:id\"} component={Edit} />\n            <PrivateRoute\n              path={process.env.PUBLIC_URL + \"/administration\"}\n              adminOnly={true}\n              component={Admin}\n            />\n            <Route exact path={process.env.PUBLIC_URL + \"/items/:subCategoryId?\"} component={List} />\n            <Route path={process.env.PUBLIC_URL + \"/items/:slug?/:id\"} component={Details} />\n            <Route path={process.env.PUBLIC_URL + \"*\"} component={NotFound} />\n          </Switch>\n        </Container>\n      </ProvideAuth>\n    </Fragment>\n  );\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport \"bootstrap/dist/css/bootstrap.min.css\";\nimport App from \"./App\";\nimport * as serviceWorker from \"./serviceWorker\";\nimport { createBrowserHistory } from \"history\";\nimport { Router } from \"react-router-dom\";\n\nexport const history = createBrowserHistory();\nReactDOM.render(\n  <Router history={history}>\n    <App />\n  </Router>,\n  document.getElementById(\"root\")\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}