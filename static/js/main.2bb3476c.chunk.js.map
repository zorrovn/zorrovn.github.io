{"version":3,"sources":["utils/helpers/api.js","utils/helpers/localStorage.js","utils/hooks/authHook.js","components/NavMenu.jsx","services/categoriesService.js","components/Home/Header/Header.jsx","services/itemsService.js","utils/helpers/slug.js","components/Home/HottestItems/HottestItems.jsx","components/Home/LiveItems/Pictures/PictureContainer.jsx","components/Home/LiveItems/LiveItems.jsx","components/Home/Home.jsx","components/Error/NetworkError.jsx","components/Error/NotFound.jsx","components/Account/Login/Login.js","utils/hooks/useItemsSearch.js","utils/hooks/useDebounce.js","components/Items/List/Container/Container.jsx","components/DateTimePicker/DateTimePicker.jsx","components/Items/List/Search/Search.jsx","components/Items/List/Header/Header.jsx","components/Items/List/List.jsx","components/Items/DeleteModal.jsx","components/Items/Details/UserActionsContainer.jsx","components/Bid/Chat/Chat.jsx","components/Bid/Result/Result.jsx","components/Bid/BidHigherButton.jsx","services/bidService.js","components/Bid/Bid.jsx","components/Bid/BidResult.jsx","components/Items/Details/SideBar.jsx","utils/hooks/useCounter.js","services/picturesService.js","components/Items/Details/Details.jsx","components/ImageUploader/ImageUploader.jsx","utils/hooks/useTime.js","components/Items/Create/Create.jsx","components/PrivateRoute.jsx","components/Items/Edit/Edit.jsx","services/adminService.js","components/Admin/Admin.jsx","components/Account/UpdateTelNo/UpdateTelNo.jsx","App.js","serviceWorker.js","index.js"],"names":["authTokenRequest","setUserInLocalStorage","response","token","data","jwtParams","JSON","parse","atob","split","id","isAdmin","role","toLowerCase","includes","dataToStore","phoneNo","PhoneNo","localStorage","setItem","stringify","api","Axios","create","baseURL","process","withCredentials","resetAuthTokenRequest","setupAxiosInterceptor","signOut","interceptors","use","error","errorResponse","config","url","history","push","toast","Promise","reject","status","_retry","errors","Object","keys","forEach","key","value","autoClose","handleValidationErrors","post","then","tokenRefreshResponse","__isRetryRequest","location","pathname","authContext","createContext","ProvideAuth","children","auth","useState","user","setUser","isLoading","setIsLoading","useEffect","getItem","removeItem","cookies","document","cookie","i","length","eqPos","indexOf","name","substr","sessionStorage","clear","signIn","body","signUp","confirmAccount","useProvideAuth","Provider","useAuth","useContext","NavMenu","Navbar","className","expand","Brand","href","src","Toggle","Collapse","Nav","Link","onClick","NavDropdown","title","icon","faUser","style","textColor","Item","Divider","get","Header","categories","setCategories","hoveredDropdowns","setHoveredDropdowns","retrieveCategories","categoriesService","bg","Spinner","animation","map","category","index","show","onMouseOver","e","target","handleMouseOver","onMouseOut","handleMouseOut","subCategories","subcategory","tommorowDate","Date","setDate","getDate","dateAfterTenDays","params","startingPrice","startTime","toUTCString","endTime","getLiveItems","pageSize","item","pictures","query","put","delete","itemDetailsSlug","slugify","HottestItems","items","setItems","retrieveHottestUpcomingItems","itemsService","faFire","pulse","color","autoplay","autoplay_speed","Card","Img","variant","alt","Body","Title","to","PictureContainer","itemSlug","pictureClassNameRetriever","slice","picture","LiveItems","totalItems","setTotalItems","retrieveLiveItems","totalDataCount","height","faCaretRight","Home","NetworkError","secondsCounter","setSecondsCounter","interval","setInterval","state","clearInterval","faServer","NotFound","faSearch","Login","props","res","responseFacebook","userID","email","accessToken","image","providerName","axios","result","expires","date","setTime","getTime","refreshToken","replace","success","window","reload","catch","message","buttonStyle","padding","appId","autoLoad","fields","scope","version","callback","signup","Component","useItemsSearch","pageNumber","setPageNumber","loading","setLoading","setError","totalItemsCount","setTotalItemsCount","hasMore","setHasMore","makeRequest","useCallback","previtems","useDebounce","delay","debouncedValue","setDebouncedValue","handler","setTimeout","clearTimeout","Container","observer","useRef","lastItemElementRef","node","current","disconnect","IntersectionObserver","entries","isIntersecting","prevPageNumber","observe","Row","Col","lg","sm","ref","userFullName","StartTimeDatePicker","setStartTime","disabled","errorHideTimeOut","startTimeConf","createDatePickerConf","moment","endOf","selected","onChange","handleOnChange","filterDate","subtract","toDate","minDate","maxDate","showTimeSelect","timeFormat","timeCaption","dateFormat","Form","Control","Feedback","type","EndTimeDatePicker","setEndTime","endTimeConf","ceilNumber","endDay","conf","isSame","minTime","Math","ceil","hours","hour","minutes","minute","maxTime","Search","setState","min","max","price","setPrice","add","isDateDisabled","setIsDateDisabled","prev","toISOString","Group","controlId","Label","placeholder","aria-label","aria-describedby","as","defaultValue","subCategoryId","subCategory","Check","label","checked","formatLabel","step","maxValue","minValue","minPrice","maxPrice","readOnly","Dropdown","Menu","List","useParams","DeleteModal","handleClose","Modal","onHide","closeButton","Footer","Button","size","aria-hidden","UserActionsContainer","userId","showModal","setShowModal","faEdit","faTrash","Chat","messages","_","telNo","bidAmount","Result","imageUrl","amount","BidHigherButton","handleOnClick","percentage","suggestedBid","parseFloat","toFixed","block","itemId","Bid","minPriceIncrease","CounterContainer","HubConnectionBuilder","withUrl","build","connection","highestBid","setHighestBid","nextBidMinimumAmount","setNextBidMinimumAmount","biddingAmount","setBiddingAmount","setMessages","renewJwtAuthTokens","a","stop","start","invoke","warning","fetchHighestBid","bidService","nextBiddingAmount","on","bidderName","bidderImage","bidderTelNo","connectToSignalR","md","InputGroup","Prepend","Text","FormControl","BidResult","topBidders","setResults","fetchHighestBidder","SideBar","counter","setCounter","currentTime","currentUtcTime","utc","duration","eventTime","local","diff","timeout","timer","milliseconds","useCounter","showBidding","setShowBidding","Counter","days","seconds","minIncrease","border","localUser","undefined","OverlayTrigger","overlay","Tooltip","pointerEvents","top3Bidder","createImageObj","element","original","thumbnail","Details","images","setImages","wordBreak","showPlayButton","description","styles","display","alignItems","justifyContent","flexWrap","width","ERROR","ImageUploader","setPictures","files","setFiles","fileErrors","setFileErrors","shouldAcceptInitialPictures","setShouldAcceptInitialPictures","inputElement","onRemove","hasExtension","fileName","pattern","imgExtensions","join","RegExp","test","readFile","file","resolve","reader","FileReader","onload","dataURL","readAsDataURL","renderPreviewPictures","removeIndex","findIndex","oldFiles","filter","oldPictures","removeImage","withIcon","renderIcon","withLabel","labelClass","labelStyles","renderLabel","fileError","errorClass","errorStyle","fileSizeError","fileTypeError","buttonType","buttonClassName","buttonStyles","click","buttonText","input","multiple","singleImage","eventFiles","allFilePromises","maxFileSize","assign","all","newFilesData","dataURLs","newFiles","newFileData","accept","withPreview","enterAnimation","leaveAnimation","defaultProps","fileContainerStyle","defaultImages","useTime","setCurrentTime","Create","useForm","register","handleSubmit","onSubmit","formData","FormData","append","background","required","maxLength","custom","PrivateRoute","component","adminOnly","rest","render","Edit","removedPictures","setRemovedPictures","getCategories","toDataURL","urls","fetch","blob","onloadend","onerror","pictureFiles","goBack","Admin","paginationQuery","setPaginationQuery","users","setUsers","totalPages","setTotalPages","adminService","Table","responsive","striped","bordered","hover","currentRoles","event","currentIndex","nonCurrentRoles","nonCurrentRole","handleAddUserToRole","currentRole","handleRemoveUserFromRole","previousLabel","nextLabel","breakLabel","pageCount","marginPagesDisplayed","pageRangeDisplayed","onPageChange","breakClassName","breakLinkClassName","containerClassName","pageClassName","pageLinkClassName","previousClassName","previousLinkClassName","nextClassName","nextLinkClassName","activeClassName","UpdateTelNo","mode","touched","watch","formState","hasError","noValidate","class","isValid","isInvalid","App","exact","path","Boolean","hostname","match","createBrowserHistory","ReactDOM","getElementById","navigator","serviceWorker","ready","registration","unregister","console"],"mappings":"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","file":"static/js/main.2bb3476c.chunk.js","sourcesContent":["import Axios from \"axios\";\nimport { toast } from \"react-toastify\";\nimport { history } from \"../..\";\nimport { setUserInLocalStorage } from \"./localStorage\";\n\nconst api = Axios.create({\n  baseURL: process.env.REACT_APP_API_URL,\n  withCredentials: true,\n});\nlet authTokenRequest;\n\n// This function makes a call to get the auth token\n// or it returns the same promise as an in-progress call to get the auth token\nfunction getAuthToken() {\n  if (!authTokenRequest) {\n    authTokenRequest = api\n      .post(process.env.REACT_APP_API_REFRESH_TOKENS_ENDPOINT, {})\n      .then((tokenRefreshResponse) => tokenRefreshResponse);\n    authTokenRequest.then(resetAuthTokenRequest, resetAuthTokenRequest);\n  }\n\n  return authTokenRequest;\n}\n\nfunction resetAuthTokenRequest() {\n  authTokenRequest = null;\n}\n\nexport const setupAxiosInterceptor = (signOut) => {\n  api.interceptors.response.use(\n    (response) => response,\n    (error) => {\n      // network error\n      const errorResponse = error.response;\n      if (!errorResponse) {\n        history.push(\"/error/network\", history.location.pathname);\n        return Promise.reject(error);\n      }\n\n      if (\n        error.config.url === process.env.REACT_APP_API_REFRESH_TOKENS_ENDPOINT\n      ) {\n        signOut();\n        history.push(\"/sign-in\");\n        toast.error(\"Xin mời đăng nhập.\");\n        return Promise.reject(error);\n      }\n\n      if (error.response.status === 401 && !error.config._retry) {\n        return getAuthToken().then((response) => {\n          setUserInLocalStorage(response);\n          error.response.config.__isRetryRequest = true;\n          return api(error.response.config);\n        });\n      }\n\n      if (errorResponse.status) {\n        // validation errors\n        if (errorResponse.status === 400 && errorResponse.data.errors) {\n          return handleValidationErrors(errorResponse, error);\n        } else if (errorResponse.status === 400 && errorResponse.data.error) {\n          toast.error(errorResponse.data.error);\n          return Promise.reject(error);\n        } else if (errorResponse.status === 404) {\n          toast.error(\n            \"Có lẽ sản phẩm bạn đang tìm kiếm không tồn tại trong hệ thống.\"\n          );\n          history.push(\"/\");\n          return Promise.reject(error);\n        }\n\n        return Promise.reject(error);\n      }\n    }\n  );\n};\n\nfunction handleValidationErrors(errorResponse, error) {\n  Object.keys(errorResponse.data.errors).forEach(function (key) {\n    errorResponse.data.errors[key].forEach(function (value) {\n      toast.error(value, {\n        autoClose: 8000,\n      });\n    });\n  });\n  return Promise.reject(error);\n}\n\nexport default api;\n","const user = \"user\";\n\nexport const setUserInLocalStorage = (response) => {\n  const data = response.data.data;\n\n  const token = data.token;\n  const jwtParams = JSON.parse(atob(token.split(\".\")[1]));\n  const id = jwtParams.id;\n  const isAdmin = jwtParams.role?.toLowerCase().includes(\"admin\");\n\n  let dataToStore = {};\n  dataToStore.id = id;\n  dataToStore.isAdmin = isAdmin ?? false;\n  if (jwtParams.phoneNo) {\n    dataToStore.phoneNo = jwtParams.PhoneNo;\n  }\n  localStorage.setItem(user, JSON.stringify(dataToStore));\n  return dataToStore;\n};\n\nexport const removeUserFromLocalStorage = () => localStorage.removeItem(user);\n\nexport const getUserFromLocalStorage = () =>\n  JSON.parse(localStorage.getItem(user));\n","import React, { useState, useEffect, useContext, createContext } from \"react\";\nimport api, { setupAxiosInterceptor } from \"../helpers/api\";\nimport {\n  setUserInLocalStorage,\n  removeUserFromLocalStorage,\n  getUserFromLocalStorage,\n} from \"../helpers/localStorage\";\n\nconst authContext = createContext();\n\nexport function ProvideAuth({ children }) {\n  const auth = useProvideAuth();\n  return (\n    <authContext.Provider value={auth}>\n      {!auth.isLoading ? children : null}\n    </authContext.Provider>\n  );\n}\n\nexport const useAuth = () => {\n  return useContext(authContext);\n};\n\nfunction useProvideAuth() {\n  const [user, setUser] = useState(null);\n  const [isLoading, setIsLoading] = useState(true);\n\n  useEffect(() => {\n    if (user === null) {\n      setUser(getUserFromLocalStorage());\n      setIsLoading(false);\n    }\n  }, [user, isLoading]);\n\n  useEffect(() => {\n    setupAxiosInterceptor(signOut);\n  }, []);\n\n  const signIn = (body) => {\n    return api\n      .post(process.env.REACT_APP_API_LOGIN_ENDPOINT, body)\n      .then((response) => {\n        if (response.status === 200) {\n          const data = setUserInLocalStorage(response);\n          setUser(data);\n        }\n\n        return response.data;\n      });\n  };\n\n  const signInSocial = (body) => {\n    return api\n      .post(process.env.REACT_APP_API_LOGIN_SOCIAL, body)\n      .then((response) => {\n        if (response.status === 200) {\n          const data = setUserInLocalStorage(response);\n          setUser(data);\n        }\n\n        return response.data;\n      });\n  };\n\n  const signUp = (body) => {\n    return api\n      .post(process.env.REACT_APP_API_REGISTER_ENDPOINT, body)\n      .then((response) => response);\n  };\n\n  const confirmAccount = (body) => {\n    return api\n      .post(process.env.REACT_APP_API_CONFIRM_ACCOUNT_ENDPOINT, body)\n      .then((response) => response);\n  };\n\n  const signOut = () => {\n    api.post(process.env.REACT_APP_API_LOGOUT_ENDPOINT, {}).then(() => {\n      removeUserFromLocalStorage();\n      var cookies = document.cookie.split(\";\");\n\n      for (var i = 0; i < cookies.length; i++) {\n          var cookie = cookies[i];\n          var eqPos = cookie.indexOf(\"=\");\n          var name = eqPos > -1 ? cookie.substr(0, eqPos) : cookie;\n          document.cookie = name + \"=;expires=Thu, 01 Jan 1970 00:00:00 GMT\";\n      }\n      sessionStorage.clear()\n\n      setUser(null);\n    });\n  };\n\n  return {\n    user,\n    isLoading,\n    signIn,\n    signUp,\n    confirmAccount,\n    signOut,\n  };\n}\n","import React, { Fragment } from \"react\";\r\nimport { Nav, Navbar, Container, NavDropdown } from \"react-bootstrap\";\r\nimport { history } from \"..\";\r\nimport { useAuth } from \"../utils/hooks/authHook\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport { faUser } from \"@fortawesome/free-solid-svg-icons\";\r\n\r\nexport const NavMenu = () => {\r\n  const auth = useAuth();\r\n\r\n  return (\r\n    <header>\r\n      <Navbar className=\"orangeBackground\" expand=\"lg\">\r\n        <Container>\r\n          <Navbar.Brand href=\"/\">\r\n            <img src=\"/Logo.png\" className=\"logoSize\"></img>\r\n          </Navbar.Brand>\r\n          <Navbar.Toggle />\r\n          <Navbar.Collapse className=\"collapseBarStyle\">\r\n            <Nav className=\"mr-auto\">\r\n              <Nav.Link\r\n                className=\"whiteColor\"\r\n                onClick={() => history.push(\"/items\")}\r\n              >\r\n                Sản Phẩm\r\n              </Nav.Link>\r\n              {/* <Nav.Link onClick={() => history.push(\"/contact\")}>\r\n                Liên lạc với chúng tôi\r\n              </Nav.Link> */}\r\n            </Nav>\r\n            {auth.user ? (\r\n              <Nav>\r\n                <NavDropdown\r\n                  title={\r\n                    <FontAwesomeIcon className=\"whiteColor\" icon={faUser} />\r\n                  }\r\n                  style={{ textColor: \"white\" }}\r\n                >\r\n                  {auth.user.isAdmin ? (\r\n                    <NavDropdown.Item\r\n                      onClick={() => {\r\n                        history.push(\"/administration\");\r\n                      }}\r\n                    >\r\n                      Administration\r\n                    </NavDropdown.Item>\r\n                  ) : (\r\n                    \"\"\r\n                  )}\r\n                  {auth.user.isAdmin ? (\r\n                    <NavDropdown.Item\r\n                      onClick={() => {\r\n                        history.push(\"/items/create\");\r\n                      }}\r\n                    >\r\n                      Tạo sản phẩm\r\n                    </NavDropdown.Item>\r\n                  ) : (\r\n                    \"\"\r\n                  )}\r\n                  <NavDropdown.Divider />\r\n                  <NavDropdown.Item\r\n                    onClick={() => {\r\n                      auth.signOut();\r\n                      history.push(\"/\");\r\n                    }}\r\n                  >\r\n                    Đăng Xuất\r\n                  </NavDropdown.Item>\r\n                </NavDropdown>\r\n              </Nav>\r\n            ) : (\r\n              <Fragment>\r\n                <Nav>\r\n                  {/* <Nav.Link onClick={() => history.push(\"/sign-up\")}>\r\n                    Sign up\r\n                  </Nav.Link> */}\r\n                  <Nav.Link\r\n                    className=\"whiteColor\"\r\n                    onClick={() => history.push(\"/sign-in\")}\r\n                  >\r\n                    Đăng Nhập\r\n                  </Nav.Link>\r\n                </Nav>\r\n              </Fragment>\r\n            )}\r\n          </Navbar.Collapse>\r\n        </Container>\r\n      </Navbar>\r\n    </header>\r\n  );\r\n};\r\n","import api from \"../utils/helpers/api\";\n\nconst getAll = () => {\n  return api\n    .get(process.env.REACT_APP_API_CATEGORIES_ENDPOINT)\n    .then((response) => response);\n};\n\nexport default {\n  getAll,\n};\n","import React, { useState, useEffect } from \"react\";\nimport { Nav, Navbar, NavDropdown, Spinner } from \"react-bootstrap\";\nimport categoriesService from \"../../../services/categoriesService\";\nimport { history } from \"../../..\";\nimport \"./Header.css\";\n\nexport const Header = () => {\n  const [categories, setCategories] = useState([]);\n  const [hoveredDropdowns, setHoveredDropdowns] = useState({});\n  const [isLoading, setIsLoading] = useState(true);\n\n  useEffect(() => {\n    retrieveCategories();\n  }, []);\n\n  const retrieveCategories = () => {\n    categoriesService.getAll().then((response) => {\n      setCategories(response.data.data);\n      setIsLoading(false);\n    });\n  };\n\n  const handleMouseOver = (e) => {\n    setHoveredDropdowns({\n      [e.target.id]: true,\n    });\n  };\n\n  const handleMouseOut = (e) => {\n    setHoveredDropdowns({\n      [e.target.id]: false,\n    });\n  };\n\n  return (\n    <Navbar className=\"shadow mt-3\" bg=\"light\" expand=\"lg\">\n      <Navbar.Brand>Danh mục</Navbar.Brand>\n      <Navbar.Toggle />\n      <Navbar.Collapse>\n        <Nav>\n          {isLoading ? (\n            <div>\n              Đang tải danh mục... <Spinner animation=\"grow\" />\n            </div>\n          ) : (\n            categories.map((category, index) => {\n              return (\n                <NavDropdown\n                  key={index}\n                  id={index}\n                  title={category.name}\n                  show={hoveredDropdowns[index]}\n                  onMouseOver={(e) => handleMouseOver(e)}\n                  onMouseOut={(e) => handleMouseOut(e)}\n                >\n                  {category.subCategories.map((subcategory, index) => {\n                    return (\n                      <NavDropdown.Item\n                        id={subcategory.id}\n                        key={index}\n                        onClick={(e) => {\n                          history.push(`/items/${e.target.id}`);\n                        }}\n                      >\n                        {subcategory.name}\n                      </NavDropdown.Item>\n                    );\n                  })}\n                </NavDropdown>\n              );\n            })\n          )}\n        </Nav>\n      </Navbar.Collapse>\n    </Navbar>\n  );\n};\n","import api from \"../utils/helpers/api\";\n\nconst getHottestUpcomingItems = () => {\n  const tommorowDate = new Date();\n  tommorowDate.setDate(tommorowDate.getDate() + 1);\n\n  const dateAfterTenDays = new Date();\n  dateAfterTenDays.setDate(dateAfterTenDays.getDate() + 10);\n\n  const params = {\n    startingPrice: 5000,\n    startTime: tommorowDate.toUTCString(),\n    endTime: dateAfterTenDays.toUTCString(),\n  };\n  return api\n    .get(process.env.REACT_APP_API_ITEMS_ENDPOINT, { params })\n    .then((response) => response);\n};\n\nconst getLiveItems = () => {\n  const params = {\n    getLiveItems: true,\n    pageSize: 10,\n  };\n  return api\n    .get(process.env.REACT_APP_API_ITEMS_ENDPOINT, { params })\n    .then((response) => {\n      return {\n        ...response,\n        data: {\n          ...response.data,\n          data: response.data.data.map((item) => ({\n            ...item,\n            pictures:\n              item.pictures.length === 0\n                ? [\n                    {\n                      id: process.env.REACT_APP_DEFAULT_PICTURE_ID,\n                      url: process.env.REACT_APP_DEFAULT_PICTURE_URL,\n                    },\n                  ]\n                : item.pictures,\n          })),\n        },\n      };\n    });\n};\n\nconst getItems = (query) => {\n  return api\n    .get(process.env.REACT_APP_API_ITEMS_ENDPOINT, { params: query })\n    .then((response) => {\n      return {\n        ...response,\n        data: {\n          ...response.data,\n          data: response.data.data.map((item) => ({\n            ...item,\n            pictures:\n              item.pictures.length === 0\n                ? [\n                    {\n                      id: process.env.REACT_APP_DEFAULT_PICTURE_ID,\n                      url: process.env.REACT_APP_DEFAULT_PICTURE_URL,\n                    },\n                  ]\n                : item.pictures,\n          })),\n        },\n      };\n    });\n};\n\nconst getItemById = (id) => {\n  return api\n    .get(`${process.env.REACT_APP_API_ITEMS_ENDPOINT}/${id}`)\n    .then((response) => {\n      const item = response.data.data;\n      return {\n        ...response,\n        data: {\n          ...response.data,\n          data: {\n            ...item,\n            pictures:\n              item.pictures.length === 0\n                ? [\n                    {\n                      id: process.env.REACT_APP_DEFAULT_PICTURE_ID,\n                      url: process.env.REACT_APP_DEFAULT_PICTURE_URL,\n                    },\n                  ]\n                : item.pictures,\n          },\n        },\n      };\n    });\n};\n\nconst createItem = (body) => {\n  return api\n    .post(process.env.REACT_APP_API_ITEMS_ENDPOINT, body)\n    .then((response) => response);\n};\n\nconst editItem = (id, data) => {\n  return api\n    .put(`${process.env.REACT_APP_API_ITEMS_ENDPOINT}/${id}`, data)\n    .then((response) => response);\n};\n\nconst deleteItem = (id) => {\n  return api\n    .delete(`${process.env.REACT_APP_API_ITEMS_ENDPOINT}/${id}`)\n    .then((response) => response);\n};\n\nexport default {\n  getHottestUpcomingItems,\n  getLiveItems,\n  getItems,\n  getItemById,\n  createItem,\n  editItem,\n  deleteItem,\n};\n","import slugify from \"react-slugify\";\n\nexport const itemDetailsSlug = (title, id) => {\n  return `/items/${slugify(title)}/${id}`;\n};\n\nexport const itemEditSlug = (title, id) => {\n  return `/items/edit/${slugify(title)}/${id}`;\n};\n","import React, { useEffect, useState } from \"react\";\r\nimport ReactCardCarousel from \"react-card-carousel\";\r\nimport itemsService from \"../../../services/itemsService\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport { faFire } from \"@fortawesome/free-solid-svg-icons\";\r\nimport { Container, Card } from \"react-bootstrap\";\r\nimport { itemDetailsSlug } from \"../../../utils/helpers/slug\";\r\n\r\nimport \"../HottestItems/HottestItems.css\";\r\n\r\nexport const HottestItems = () => {\r\n  const [items, setItems] = useState([]);\r\n  useEffect(() => {\r\n    retrieveHottestUpcomingItems();\r\n  }, []);\r\n\r\n  const retrieveHottestUpcomingItems = () => {\r\n    itemsService.getHottestUpcomingItems().then((response) => {\r\n      setItems(response.data.data);\r\n    });\r\n  };\r\n\r\n  return items.length !== 0 ? (\r\n    <Container className=\"pt-5\">\r\n      <h2>\r\n        Những Sản Phẩm Đấu Giá Mới Nhất{\" \"}\r\n        <FontAwesomeIcon icon={faFire} pulse color=\"red\" />\r\n      </h2>\r\n      <div className=\"react-card-carousel-container\">\r\n        <ReactCardCarousel autoplay={true} autoplay_speed={2500}>\r\n          {items.map((item, index) => {\r\n            return (\r\n              <Card key={index} className=\"react-card\">\r\n                <Card.Img\r\n                  variant=\"top\"\r\n                  src={item.pictures[0]?.url}\r\n                  alt=\"Ảnh Sản Phẩm\"\r\n                />\r\n                <Card.Body>\r\n                  <Card.Title>{item.title}</Card.Title>\r\n                  <p className=\"card-text\">\r\n                    {process.env.REACT_APP_CURRENCY_SIGN}\r\n                    {item.startingPrice}\r\n                  </p>\r\n                  <Link\r\n                    className=\"btn btn-primary\"\r\n                    to={itemDetailsSlug(item.title, item.id)}\r\n                  >\r\n                    Xem\r\n                  </Link>\r\n                </Card.Body>\r\n              </Card>\r\n            );\r\n          })}\r\n        </ReactCardCarousel>\r\n      </div>\r\n    </Container>\r\n  ) : (\r\n    \"\"\r\n  );\r\n};\r\n","import React from \"react\";\nimport { Link } from \"react-router-dom\";\n\nimport \"../Pictures/PictureContainer.css\";\n\nexport const PictureContainer = ({ pictures, itemSlug }) => {\n  const pictureClassNameRetriever = (index) => {\n    if (index === 1) {\n      return \"primary\";\n    }\n\n    return \"secondary\";\n  };\n\n  return (\n    <div className=\"picture-container\">\n      {pictures.slice(0, 3).map((picture, index) => {\n        return (\n          <Link\n            key={index}\n            to={itemSlug}\n            className={`${pictureClassNameRetriever(index)}-picture-container`}\n          >\n            <img\n              alt=\"primary\"\n              src={picture.url}\n              className={`card-img-top card-img-listing ${pictureClassNameRetriever(\n                index\n              )}-picture`}\n            />\n          </Link>\n        );\n      })}\n    </div>\n  );\n};\n","import React, { useEffect, useState, Fragment } from \"react\";\r\nimport itemsService from \"../../../services/itemsService\";\r\nimport { Container, Card, Spinner } from \"react-bootstrap\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport { faCaretRight } from \"@fortawesome/free-solid-svg-icons\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { PictureContainer } from \"./Pictures/PictureContainer\";\r\nimport { itemDetailsSlug } from \"../../../utils/helpers/slug\";\r\n\r\nexport const LiveItems = () => {\r\n  const [items, setItems] = useState([]);\r\n  const [totalItems, setTotalItems] = useState(0);\r\n  const [isLoading, setIsLoading] = useState(true);\r\n\r\n  useEffect(() => {\r\n    retrieveLiveItems();\r\n  }, []);\r\n\r\n  const retrieveLiveItems = () => {\r\n    itemsService.getLiveItems().then((response) => {\r\n      setItems(response.data.data);\r\n      setTotalItems(response.data.totalDataCount);\r\n      setIsLoading(false);\r\n    });\r\n  };\r\n\r\n  return (\r\n    <Container className=\"pt-3\">\r\n      {isLoading ? (\r\n        <h1>\r\n          Đang Tải Thông Tin Sản Phẩm... <Spinner animation=\"grow\" />\r\n        </h1>\r\n      ) : items.length !== 0 ? (\r\n        <Fragment>\r\n          <h3>{totalItems} Những sản phẩm đang đấu giá</h3>\r\n          <div className=\"row\">\r\n            {items.map((item, index) => {\r\n              return (\r\n                <div key={index} className=\"col-12 col-md-6 col-lg-4 p-1\">\r\n                  <Card className=\"shadow m-2\">\r\n                    {item.pictures.length === 1 ? (\r\n                      <Link to={itemDetailsSlug(item.title, item.id)}>\r\n                        <Card.Img\r\n                          height=\"240px\"\r\n                          variant=\"top\"\r\n                          alt=\"item image\"\r\n                          src={item.pictures[0]?.url}\r\n                        />\r\n                      </Link>\r\n                    ) : (\r\n                      <PictureContainer\r\n                        pictures={item.pictures}\r\n                        itemSlug={itemDetailsSlug(item.title, item.id)}\r\n                      />\r\n                    )}\r\n                    <Card.Body>\r\n                      <Card.Title>\r\n                        <Link to={itemDetailsSlug(item.title, item.id)}>\r\n                          {item.title}\r\n                        </Link>\r\n                      </Card.Title>\r\n                      <Link to={itemDetailsSlug(item.title, item.id)}>\r\n                        <span className=\"float-right\" style={{ color: \"red\" }}>\r\n                          Đấu Giá Ngay <FontAwesomeIcon icon={faCaretRight} />\r\n                        </span>\r\n                      </Link>\r\n                    </Card.Body>\r\n                  </Card>\r\n                </div>\r\n              );\r\n            })}\r\n          </div>\r\n          {items.length >= 10 ? (\r\n            <div className=\"text-center pt-3 pb-4\">\r\n              <Link className=\"btn btn-primary\" to={\"/items\"}>\r\n                Xem Thêm Sản Phẩm\r\n              </Link>\r\n            </div>\r\n          ) : (\r\n            \"\"\r\n          )}\r\n        </Fragment>\r\n      ) : (\r\n        \"\"\r\n      )}\r\n    </Container>\r\n  );\r\n};\r\n","import React, { Fragment } from \"react\";\nimport { Header } from \"./Header/Header\";\nimport { HottestItems } from \"./HottestItems/HottestItems\";\nimport { LiveItems } from \"./LiveItems/LiveItems\";\n\nexport const Home = () => {\n  return (\n    <Fragment>\n      <Header />\n      <HottestItems />\n      <LiveItems />\n    </Fragment>\n  );\n};\n","import React, { useState, useEffect } from \"react\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { faServer } from \"@fortawesome/free-solid-svg-icons\";\nimport { history } from \"../..\";\nimport \"./Error.css\";\n\nexport const NetworkError = () => {\n  const [secondsCounter, setSecondsCounter] = useState(60);\n\n  useEffect(() => {\n    const interval =\n      secondsCounter >= 0 &&\n      setInterval(() => setSecondsCounter(secondsCounter - 1), 1000);\n\n    if (secondsCounter === 0) {\n      history.push(history.location.state);\n    }\n    return () => clearInterval(interval);\n  }, [secondsCounter]);\n  return (\n    <div className=\"error-box\">\n      <FontAwesomeIcon className=\"fa-4x fa-spin mb-4\" icon={faServer} />\n      <h5>\n        We're sorry for the inconvenience but unfortunately our server is down.\n        Please try again later!\n      </h5>\n      <h4>\n        Auto retry in <i>{secondsCounter}</i> seconds...\n      </h4>\n    </div>\n  );\n};\n","import React from \"react\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { faSearch } from \"@fortawesome/free-solid-svg-icons\";\nimport { Link } from \"react-router-dom\";\n\nexport const NotFound = () => {\n  return (\n    <div className=\"error-box\">\n      <FontAwesomeIcon className=\"fa-4x fa-spin mb-4\" icon={faSearch} />\n      <h1 className=\"error-heading\">404</h1>\n      <h5>Trang bạn đang tìm kiếm không tồn tại</h5>\n      <small className=\"text-muted\">\n        ...Hoặc máy chủ đang gặp sự cố, xin hãy liên lạc với admin để giải\n        quyết....\n      </small>\n      <Link className=\"btn btn-outline-primary mt-3\" to=\"/\">\n        Ấn vào đây\n      </Link>\n    </div>\n  );\n};\n","import React, { Component, useState } from 'react'\nimport FacebookLogin from 'react-facebook-login';\nimport { history } from \"../../../index\";\nimport { toast } from \"react-toastify\";\nimport axios from 'axios'\nexport class Login extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n\n    };\n  }\n  // componentDidMount() {\n  //   const responseFacebook = (response) => {\n  //     this.signup(response);\n  //   }\n  //   window.fbAsyncInit = function () {\n  //     window.FB.init({\n  //       appId: '339794342891501',\n  //       cookie: true,\n  //       status: true,\n  //       xfbml: false,\n  //       version    : 'v10.0'\n  //     });\n\n  //     window.FB.login(function (res) {\n  //       // handle the response\n  //       const responseFacebookData = {\n  //         id: res.userID,\n  //         name: res.name,\n  //         email: res.email,\n  //         token: res.accessToken,\n  //         image: res.picture.data.url,\n  //         providerName: 'Facebook',\n  //         scope: 'public_profile,email',\n  //         fields: 'name,email,picture,link',\n  //         callback: responseFacebook,\n  //         version: 'v10.0'\n  //       }\n\n  //       axios.post('https://daugiaapi.azurewebsites.net/api/Identity/LoginSocialmediaData', responseFacebookData)\n  //         .then((result) => {\n  //           if (result.status === 200) {\n  //             const data = result.data.data;\n\n  //             const token = data.token;\n  //             const jwtParams = JSON.parse(atob(token.split(\".\")[1]));\n  //             const id = jwtParams.id;\n  //             const isAdmin = jwtParams.role?.toLowerCase().includes(\"admin\");\n\n  //             let dataToStore = {};\n  //             dataToStore.id = id;\n  //             dataToStore.isAdmin = isAdmin ?? false;\n\n  //             localStorage.setItem(\"user\", JSON.stringify(dataToStore));\n  //             // const [setUser] = useState(null);\n  //             // setUser(dataToStore);\n  //           }\n\n  //           history.location.state\n  //             ? history.replace(history.location.state)\n  //             : history.push(\"/\");\n\n  //           toast.success(\"You've logged in successfully.\");\n  //           if (window.location.href.indexOf(\"sign-in\") >= 0) {\n  //             history.push(\"/\");\n  //           }\n\n  //           window.location.reload();\n  //         }).catch((error) => {\n  //           toast.error(error.message);\n  //         });\n  //     });\n  //   }\n\n  // }\n  signup(res) {\n\n    const responseFacebook = {\n      id: res.userID,\n      name: res.name,\n      email: res.email,\n      token: res.accessToken,\n      image: res.picture.data.url,\n      providerName: 'Facebook'\n    }\n\n    axios.post(process.env.REACT_APP_API_URL + '/Identity/LoginSocialmediaData', responseFacebook)\n      .then((result) => {\n        if (result.status === 200) {\n          const data = result.data.data;\n\n          const token = data.token;\n          const jwtParams = JSON.parse(atob(token.split(\".\")[1]));\n          const id = jwtParams.id;\n          const isAdmin = jwtParams.role?.toLowerCase().includes(\"admin\");\n\n          let dataToStore = {};\n          dataToStore.id = id;\n          dataToStore.isAdmin = isAdmin ?? false;\n          if (jwtParams.phoneNo) {\n            dataToStore.phoneNo = jwtParams.phoneNo;\n          }\n          localStorage.setItem(\"user\", JSON.stringify(dataToStore));\n\n          var expires = \"\";\n\n          var date = new Date();\n          date.setTime(date.getTime() + (1 * 24 * 60 * 60 * 1000));\n          expires = \"; expires=\" + date.toUTCString();\n\n          document.cookie = \"accessToken\" + \"=\" + (token || \"\") + expires + \"; path=/\";\n          document.cookie = \"refreshToken\" + \"=\" + (data.refreshToken || \"\") + expires + \"; path=/\";\n          // const [setUser] = useState(null);\n          // setUser(dataToStore);\n        }\n\n        history.location.state\n          ? history.replace(history.location.state)\n          : history.push(\"/\");\n\n        toast.success(\"Bạn đã đăng nhập thành công.\");\n        if (window.location.href.indexOf(\"sign-in\") >= 0) {\n          history.push(\"/\");\n        }\n\n        window.location.reload();\n      }).catch((error) => {\n        toast.error(error.message);\n      });\n  };\n\n  render() {\n    const responseFacebook = (response) => {\n      this.signup(response);\n    }\n    return (\n      <div className=\"App\">\n        <div className=\"row\">\n          <div className=\"col-sm-12 btn\">\n            <FacebookLogin buttonStyle={{ padding: \"6px\" }}\n              appId=\"325111522372216\"\n              autoLoad={true}\n              fields=\"name,email,picture,link\"\n              scope=\"public_profile,email\"\n              version=\"10.0\"\n              callback={responseFacebook} />\n          </div>\n        </div>\n      </div>\n    )\n  }\n}\n\nexport default Login","import { useEffect, useState, useCallback } from \"react\";\nimport itemsService from \"../../services/itemsService\";\n\nconst useItemsSearch = (query, pageNumber, setPageNumber) => {\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(false);\n  const [items, setItems] = useState([]);\n  const [totalItemsCount, setTotalItemsCount] = useState(0);\n  const [hasMore, setHasMore] = useState(false);\n\n  useEffect(() => {\n    setItems([]);\n    setPageNumber(1);\n  }, [query, setPageNumber]);\n\n  const makeRequest = useCallback(() => {\n    setLoading(true);\n    setError(false);\n\n    query.pageNumber = pageNumber;\n    query.pageSize = 10;\n\n    itemsService\n      .getItems(query)\n      .then((result) => {\n        setItems((previtems) => {\n          return [...previtems, ...result.data.data];\n        });\n        setTotalItemsCount(result.data.totalDataCount);\n        setHasMore(\n          result.data.totalDataCount > result.data.pageSize &&\n            result.data.data.length > 0\n        );\n        setLoading(false);\n      })\n      .catch(() => setError(true));\n  }, [query, pageNumber]);\n\n  return {\n    makeRequest,\n    loading,\n    error,\n    items,\n    totalItemsCount,\n    hasMore,\n  };\n};\n\nexport default useItemsSearch;\n","import { useEffect, useState } from \"react\";\n\nconst useDebounce = (value, delay) => {\n  // State and setters for debounced value\n  const [debouncedValue, setDebouncedValue] = useState(value);\n\n  useEffect(\n    () => {\n      // Update debounced value after delay\n      const handler = setTimeout(() => {\n        setDebouncedValue(value);\n      }, delay);\n\n      // Cancel the timeout if value changes (also on delay change or unmount)\n      // This is how we prevent debounced value from updating if value is changed ...\n      // .. within the delay period. Timeout gets cleared and restarted.\n      return () => {\n        clearTimeout(handler);\n      };\n    },\n    [value, delay] // Only re-call effect if value or delay changes\n  );\n\n  return debouncedValue;\n};\n\nexport default useDebounce;\n","import React, { Fragment, useRef, useCallback } from \"react\";\r\nimport { Row, Col, Card, Spinner } from \"react-bootstrap\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { itemDetailsSlug } from \"../../../../utils/helpers/slug\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport { faCaretRight } from \"@fortawesome/free-solid-svg-icons\";\r\nimport \"./Container.css\";\r\n\r\nexport const Container = ({\r\n  loading,\r\n  hasMore,\r\n  setPageNumber,\r\n  items,\r\n  error,\r\n}) => {\r\n  const observer = useRef();\r\n  const lastItemElementRef = useCallback(\r\n    (node) => {\r\n      if (loading) return;\r\n      if (observer.current) observer.current.disconnect();\r\n      observer.current = new IntersectionObserver((entries) => {\r\n        if (entries[0].isIntersecting && hasMore) {\r\n          setPageNumber((prevPageNumber) => prevPageNumber + 1);\r\n        }\r\n      });\r\n      if (node) observer.current.observe(node);\r\n    },\r\n    [loading, hasMore, setPageNumber]\r\n  );\r\n\r\n  return (\r\n    <Fragment>\r\n      <Row>\r\n        {items.length === 0 && !loading ? (\r\n          <h1>Không có kết quả</h1>\r\n        ) : (\r\n          items.map((item, index) => {\r\n            return (\r\n              <Col key={index} lg={6} sm={6}>\r\n                <Card\r\n                  ref={items.length === index + 1 ? lastItemElementRef : null}\r\n                  className=\"shadow m-2 floating-card\"\r\n                >\r\n                  <Link to={itemDetailsSlug(item.title, item.id)}>\r\n                    <Card.Img\r\n                      height=\"240px\"\r\n                      variant=\"top\"\r\n                      alt=\"item image\"\r\n                      src={item.pictures[0]?.url}\r\n                    />\r\n                  </Link>\r\n                  <Card.Body>\r\n                    <Card.Title>\r\n                      <Link to={itemDetailsSlug(item.title, item.id)}>\r\n                        {item.title}\r\n                      </Link>\r\n                    </Card.Title>\r\n                    <Card.Title>\r\n                      <div className=\"d-flex\">\r\n                      Chủ sở hữu:{\" \"}\r\n                        <p style={{ color: \"grey\" }} className=\"ml-1\">\r\n                          {item.userFullName}\r\n                        </p>\r\n                      </div>\r\n                    </Card.Title>\r\n\r\n                    <p style={{ color: \"grey\" }}>\r\n                    Giá khởi điểm: {process.env.REACT_APP_CURRENCY_SIGN}\r\n                      {item.startingPrice}\r\n                    </p>\r\n                    <Link to={itemDetailsSlug(item.title, item.id)}>\r\n                      <span className=\"float-right\" style={{ color: \"red\" }}>\r\n                      Đấu giá ngay <FontAwesomeIcon icon={faCaretRight} />\r\n                      </span>\r\n                    </Link>\r\n                  </Card.Body>\r\n                </Card>\r\n              </Col>\r\n            );\r\n          })\r\n        )}\r\n      </Row>\r\n      {loading ? (\r\n        <div className=\"ml-5 pt-3 pb-3\">\r\n          Đang tải...\r\n          <Spinner animation=\"border\" />\r\n        </div>\r\n      ) : (\r\n        \"\"\r\n      )}\r\n      {error ?? \"error happened\"}\r\n    </Fragment>\r\n  );\r\n};\r\n","import React, { useState, Fragment, useEffect } from \"react\";\nimport moment from \"moment\";\nimport DatePicker from \"react-datepicker\";\nimport \"react-datepicker/dist/react-datepicker.css\";\nimport \"./DateTimePicker.css\";\nimport { Form } from \"react-bootstrap\";\n\nexport const StartTimeDatePicker = ({\n  startTime,\n  setStartTime,\n  endTime,\n  disabled,\n  errorHideTimeOut = 3000,\n}) => {\n  const startTimeConf = createDatePickerConf(\n    startTime,\n    30,\n    moment().endOf(\"day\")\n  );\n  const [error, setError] = useState();\n\n  useEffect(() => {\n    const interval = setTimeout(() => setError(null), errorHideTimeOut);\n    return () => {\n      clearTimeout(interval);\n    };\n  }, [error, errorHideTimeOut]);\n\n  const handleOnChange = (date) => {\n    if (date <= moment()) {\n      setError(\"Thời gian bắt đầu cần phải là trong tương lai.\");\n      return;\n    }\n    if (date >= endTime) {\n      setError(\"Thời gian bắt đầu không thể sau thời gian kết thúc.\");\n      return;\n    }\n\n    setError(null);\n    setStartTime(date);\n  };\n\n  return (\n    <Fragment>\n      <DatePicker\n        className=\"form-control custom-select\"\n        disabled={disabled}\n        selected={startTime}\n        onChange={(date) => handleOnChange(date)}\n        filterDate={(date) => {\n          return moment().subtract(1, \"day\").toDate() < date;\n        }}\n        minDate={moment().toDate()}\n        maxDate={endTime}\n        showTimeSelect\n        timeFormat=\"HH:mm\"\n        timeCaption=\"time\"\n        dateFormat=\"MMMM d, yyyy h:mm aa\"\n        {...startTimeConf}\n      />\n      {error && (\n        <Form.Control.Feedback type=\"invalid\">{error}</Form.Control.Feedback>\n      )}\n    </Fragment>\n  );\n};\n\nexport const EndTimeDatePicker = ({\n  endTime,\n  setEndTime,\n  startTime,\n  disabled,\n  errorHideTimeOut = 3000,\n}) => {\n  const [error, setError] = useState();\n  const endTimeConf = createDatePickerConf(endTime, 30, moment().endOf(\"day\"));\n\n  useEffect(() => {\n    const interval = setTimeout(() => setError(null), errorHideTimeOut);\n    return () => {\n      clearTimeout(interval);\n    };\n  }, [error, errorHideTimeOut]);\n\n  const handleOnChange = (date) => {\n    if (date < moment()) {\n      setError(\"Thời gian kết thúc không thể trước thời gian hiện tại.\");\n      return;\n    }\n    if (date <= startTime) {\n      setError(\"Thời gian kết thúc không thể trước thời gian bắt đầu.\");\n      return;\n    }\n\n    setEndTime(date);\n  };\n\n  return (\n    <Fragment>\n      <DatePicker\n        className=\"form-control custom-select\"\n        disabled={disabled}\n        selected={endTime}\n        onChange={(date) => handleOnChange(date)}\n        filterDate={(date) => {\n          return moment().subtract(1, \"day\").toDate() < date;\n        }}\n        minDate={startTime}\n        showTimeSelect\n        timeFormat=\"HH:mm\"\n        timeCaption=\"time\"\n        dateFormat=\"MMMM d, yyyy h:mm aa\"\n        {...endTimeConf}\n      />\n      {error && (\n        <Form.Control.Feedback type=\"invalid\">{error}</Form.Control.Feedback>\n      )}\n    </Fragment>\n  );\n};\n\nconst createDatePickerConf = (date, ceilNumber, endDay) => {\n  const conf = {};\n  if (moment(date).isSame(moment(), \"day\")) {\n    conf.minTime = Math.ceil(\n      moment().hours(moment().hour()).minutes(moment().minute()),\n      ceilNumber\n    );\n    conf.maxTime = Math.ceil(\n      moment().hours(endDay.hour()).minutes(endDay.minute()),\n      ceilNumber\n    );\n  }\n\n  return conf;\n};\n","import React, { useState, useEffect } from \"react\";\r\nimport { Col, Form, Spinner } from \"react-bootstrap\";\r\nimport InputRange from \"react-input-range\";\r\nimport \"react-input-range/lib/css/index.css\";\r\nimport categoriesService from \"../../../../services/categoriesService\";\r\nimport {\r\n  EndTimeDatePicker,\r\n  StartTimeDatePicker,\r\n} from \"../../../DateTimePicker/DateTimePicker\";\r\nimport moment from \"moment\";\r\nimport { history } from \"../../../..\";\r\nimport \"./Search.css\";\r\n\r\nexport const Search = ({ loading, state, setState }) => {\r\n  const [price, setPrice] = useState({ min: 0, max: 5000000000 });\r\n  const [startTime, setStartTime] = useState(\r\n    moment().add(2, \"minutes\").toDate()\r\n  );\r\n  const [endTime, setEndTime] = useState(\r\n    moment().add(1, \"months\").add(10, \"m\").toDate()\r\n  );\r\n  const [isDateDisabled, setIsDateDisabled] = useState(true);\r\n  const [categories, setCategories] = useState([]);\r\n\r\n  //It's better to extract fecth categories logic in store because we're repeating unnecessary requests...\r\n  //but let's leave it as it is now :D\r\n\r\n  useEffect(() => {\r\n    retrieveCategories();\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    if (!isDateDisabled) {\r\n      setState((prev) => ({\r\n        ...prev,\r\n        getLiveItems: false,\r\n        startTime: startTime.toISOString(\"dd/mm/yyyy HH:mm\"),\r\n        endTime: endTime.toISOString(\"dd/mm/yyyy HH:mm\"),\r\n      }));\r\n    }\r\n  }, [startTime, endTime, setState, isDateDisabled]);\r\n\r\n  const retrieveCategories = () => {\r\n    categoriesService.getAll().then((response) => {\r\n      setCategories(response.data.data);\r\n    });\r\n  };\r\n\r\n  return (\r\n    <Col className=\"mt-5 mt-lg-0\" lg={4}>\r\n      <div>\r\n        <div className=\"search-area default-item-search\">\r\n          <p>\r\n            <i>Bộ lọc</i>\r\n          </p>\r\n\r\n          <Form>\r\n            <Form.Group controlId=\"Title\">\r\n              <Form.Label>Tiêu đề</Form.Label>\r\n              <Form.Control\r\n                onChange={(e) => {\r\n                  const value = e.target.value;\r\n                  setState((prev) => ({ ...prev, title: value }));\r\n                }}\r\n                type=\"input\"\r\n                placeholder=\"Tìm kiếm theo tiêu đề\"\r\n                aria-label=\"Item search\"\r\n                aria-describedby=\"basic-addon1\"\r\n              />\r\n            </Form.Group>\r\n            <Form.Group controlId=\"Category\">\r\n              <Form.Label>Danh Mục</Form.Label>\r\n              {!loading ? (\r\n                <Form.Control\r\n                  as=\"select\"\r\n                  defaultValue={state.subCategoryId ?? state.subCategoryId}\r\n                >\r\n                  <option onClick={() => history.replace(\"/items\")}>\r\n                  Chọn Danh Mục\r\n                  </option>\r\n                  {categories.map((category) => {\r\n                    return category.subCategories.map((subCategory, index) => {\r\n                      return (\r\n                        <option\r\n                          key={index}\r\n                          onClick={(e) => {\r\n                            history.replace(`/items/${e.target.value}`);\r\n                          }}\r\n                          value={subCategory.id}\r\n                        >\r\n                          {subCategory.name}\r\n                        </option>\r\n                      );\r\n                    });\r\n                  })}\r\n                </Form.Control>\r\n              ) : (\r\n                <div>\r\n                  <Spinner animation=\"border\" />\r\n                </div>\r\n              )}\r\n            </Form.Group>\r\n            <Form.Group controlId=\"liveItems\">\r\n              <Form.Check\r\n                onChange={() =>\r\n                  setState((prev) => ({\r\n                    ...prev,\r\n                    getLiveItems: !state.getLiveItems,\r\n                  }))\r\n                }\r\n                type=\"switch\"\r\n                label=\"Sản phẩm đang đấu giá\"\r\n                checked={state.getLiveItems}\r\n              />\r\n            </Form.Group>\r\n            <Form.Group controlId=\"Price\">\r\n              <p className=\"mb-4\">Giá</p>\r\n              <InputRange\r\n                formatLabel={(value) =>\r\n                  `${process.env.REACT_APP_CURRENCY_SIGN}${value}`\r\n                }\r\n                step={10000}\r\n                value={price}\r\n                maxValue={5000000000}\r\n                minValue={0}\r\n                onChange={(value) => {\r\n                  setPrice(value);\r\n                  setState((prev) => ({\r\n                    ...prev,\r\n                    minPrice: value.min <= 0 ? null : value.min,\r\n                    maxPrice: price.max,\r\n                  }));\r\n                }}\r\n              />\r\n            </Form.Group>\r\n            <Form.Group className=\"mt-5\" controlId=\"isDateDisabled\">\r\n              <Form.Check\r\n                onChange={() => {\r\n                  setIsDateDisabled(!isDateDisabled);\r\n                  if (!isDateDisabled) {\r\n                    setState((prev) => ({\r\n                      ...prev,\r\n                      startTime: null,\r\n                      endTime: null,\r\n                    }));\r\n                  }\r\n                }}\r\n                type=\"switch\"\r\n                label=\"Lọc theo ngày\"\r\n              />\r\n            </Form.Group>\r\n            <Form.Group controlId=\"StartingTime\">\r\n              <p>Thời gian bắt đầu</p>\r\n              <StartTimeDatePicker\r\n                disabled={isDateDisabled}\r\n                readOnly={true}\r\n                startTime={startTime}\r\n                setStartTime={setStartTime}\r\n                endTime={endTime}\r\n              />\r\n            </Form.Group>\r\n            <Form.Group controlId=\"EndTime\">\r\n              <p>Thời gian kết thúc</p>\r\n              <EndTimeDatePicker\r\n                disabled={isDateDisabled}\r\n                readOnly={true}\r\n                endTime={endTime}\r\n                setEndTime={setEndTime}\r\n                startTime={startTime}\r\n              />\r\n            </Form.Group>\r\n          </Form>\r\n        </div>\r\n      </div>\r\n    </Col>\r\n  );\r\n};\r\n","import React from \"react\";\r\nimport \"./Header.css\";\r\nimport { Dropdown } from \"react-bootstrap\";\r\n\r\nexport const Header = ({ totalItemsCount }) => {\r\n  return (\r\n    <div className=\"generic-header\">\r\n      <div>\r\n        <h4>Tất cả sản phẩm</h4>\r\n        <p>Tổng số sản phẩm tìm được: {totalItemsCount}</p>\r\n      </div>\r\n      <div className=\"generic-header-toolbar\" role=\"toolbar\">\r\n        <Dropdown>\r\n          <Dropdown.Toggle\r\n            className=\"sort-btn\"\r\n            variant=\"light\"\r\n            id=\"dropdown-basic\"\r\n          >\r\n            Sắp xếp bởi\r\n          </Dropdown.Toggle>\r\n\r\n          <Dropdown.Menu>\r\n            <Dropdown.Item href=\"#/action-1\">Thực Hiện</Dropdown.Item>\r\n          </Dropdown.Menu>\r\n        </Dropdown>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n","import React, { Fragment, useState, useEffect } from \"react\";\nimport { Container, Row, Col } from \"react-bootstrap\";\nimport \"react-input-range/lib/css/index.css\";\nimport useItemsSearch from \"../../../utils/hooks/useItemsSearch\";\nimport useDebounce from \"../../../utils/hooks/useDebounce\";\nimport { Container as ItemsContainer } from \"./Container/Container\";\nimport { Search } from \"./Search/Search\";\nimport { useParams } from \"react-router-dom\";\nimport { Header } from \"./Header/Header\";\n\nexport const List = () => {\n  const [state, setState] = useState({\n    title: null,\n    getLiveItems: true,\n    minPrice: null,\n    maxPrice: null,\n    startTime: null,\n    endTime: null,\n    subCategoryId: null,\n  });\n\n  let { subCategoryId } = useParams();\n\n  const [pageNumber, setPageNumber] = useState(1);\n  const query = useDebounce(state, 500);\n  const {\n    makeRequest,\n    items,\n    totalItemsCount,\n    hasMore,\n    loading,\n    error,\n  } = useItemsSearch(query, pageNumber, setPageNumber);\n\n  useEffect(() => {\n    if (state.subCategoryId !== subCategoryId) {\n      setState((prev) => ({ ...prev, subCategoryId }));\n    } else makeRequest();\n    // eslint-disable-next-line\n  }, [subCategoryId, makeRequest]);\n\n  return (\n    <Fragment>\n      <Container>\n        <Row>\n          <Col lg={12}>\n            <Header totalItemsCount={totalItemsCount} />\n          </Col>\n          <Col lg={12}>\n            <Row>\n              <Search loading={loading} state={state} setState={setState} />\n              <Col lg={8}>\n                <ItemsContainer\n                  items={items}\n                  pageSize={state.pageSize}\n                  hasMore={hasMore}\n                  loading={loading}\n                  error={error}\n                  setPageNumber={setPageNumber}\n                />\n              </Col>\n            </Row>\n          </Col>\n        </Row>\n      </Container>\n    </Fragment>\n  );\n};\n","import React, { useState } from \"react\";\r\nimport { Modal, Button, Spinner } from \"react-bootstrap\";\r\nimport itemsService from \"../../services/itemsService\";\r\nimport { history } from \"../..\";\r\nimport { toast } from \"react-toastify\";\r\n\r\nexport const DeleteModal = ({ show, handleClose, item }) => {\r\n  const [isLoading, setIsLoading] = useState(false);\r\n\r\n  const handleDelete = (id) => {\r\n    setIsLoading(true);\r\n    itemsService.deleteItem(id).then(() => {\r\n      toast.success(\"Xóa thành công\");\r\n      setIsLoading(false);\r\n      history.push(\"/\");\r\n    });\r\n  };\r\n\r\n  return (\r\n    <Modal show={show} onHide={handleClose}>\r\n      <Modal.Header closeButton>\r\n        <Modal.Title>\r\n        Bạn có thực sự muốn xóa {item?.title}?{\" \"}\r\n          <span className=\"text-muted\">This operation is irreversible!</span>\r\n        </Modal.Title>\r\n      </Modal.Header>\r\n      <Modal.Footer>\r\n        <Button variant=\"secondary\" onClick={handleClose}>\r\n        Đóng\r\n        </Button>\r\n        {isLoading ? (\r\n          <Button variant=\"outline-danger\" disabled>\r\n            <Spinner\r\n              as=\"span\"\r\n              animation=\"grow\"\r\n              size=\"sm\"\r\n              role=\"status\"\r\n              aria-hidden=\"true\"\r\n            />\r\n            Đang xóa...\r\n          </Button>\r\n        ) : (\r\n          <Button\r\n            variant=\"outline-danger\"\r\n            onClick={() => handleDelete(item?.id)}\r\n          >\r\n            Xóa\r\n          </Button>\r\n        )}\r\n      </Modal.Footer>\r\n    </Modal>\r\n  );\r\n};\r\n","import React, { useState, Fragment } from \"react\";\r\nimport { Card, Button } from \"react-bootstrap\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport { faEdit, faTrash } from \"@fortawesome/free-solid-svg-icons\";\r\nimport { DeleteModal } from \"../DeleteModal\";\r\nimport { itemEditSlug } from \"../../../utils/helpers/slug\";\r\nimport { history } from \"../../..\";\r\n\r\nexport const UserActionsContainer = ({ userId, item }) => {\r\n  const [showModal, setShowModal] = useState(false);\r\n\r\n  const handleClose = () => setShowModal(false);\r\n  const handleShow = () => setShowModal(true);\r\n\r\n  return userId === item.userId ? (\r\n    <Fragment>\r\n      <Card className=\"text-center\">\r\n        <Card.Header>Actions</Card.Header>\r\n        <div className=\"list-group list-group-flush\">\r\n          <Button\r\n            className=\"list-group-item list-group-item-action text-primary\"\r\n            onClick={() =>\r\n              history.push(\r\n                itemEditSlug(item.title, item.id),\r\n                history.location.pathname\r\n              )\r\n            }\r\n          >\r\n            <FontAwesomeIcon icon={faEdit} /> Chỉnh Sửa\r\n          </Button>\r\n        </div>\r\n        <div className=\"list-group list-group-flush\">\r\n          <Button\r\n            onClick={handleShow}\r\n            className=\"list-group-item list-group-item-action text-danger\"\r\n          >\r\n            <FontAwesomeIcon icon={faTrash} /> Xóa\r\n          </Button>\r\n        </div>\r\n      </Card>\r\n      <DeleteModal show={showModal} handleClose={handleClose} item={item} />\r\n    </Fragment>\r\n  ) : (\r\n    \"\"\r\n  );\r\n};\r\n","import React from \"react\";\nimport { useAuth } from \"../../../utils/hooks/authHook\";\nimport \"./Chat.css\";\nimport { faUser } from \"@fortawesome/free-solid-svg-icons\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\n\nexport const Chat = ({ messages }) => {\n  const auth = useAuth();\n\n  return (\n    <div className=\"chat\">\n      <h3 className=\"text-center\">Những tin nhắn từ hệ thống.</h3>\n      <i>Mức đấu giá cao nhật được hiện lên trong nền màu xanh lá cây.</i>\n      <div className=\"chat-history\">\n        <ul className=\"mx-auto justify-content-center\">\n          {messages.map((_, index) => {\n            let message = messages[messages.length - 1 - index];\n            return message.userId === auth.user.id ? (\n              <li\n                key={`${index}-${messages.length}`}\n                className={`message ${\n                  index === 0 ? \"highest-bid-message\" : \"my-message\"\n                }`}\n              >\n                {auth.user.isAdmin ? <img src={message.image}/>  : <FontAwesomeIcon icon={faUser} />}\n                {auth.user.isAdmin ? message.name + \" \" : \"Có người\" } \n                {auth.user.isAdmin ? message.telNo + \" \" : \"\" } \n                đấu giá thành công \n                {message.bidAmount} {process.env.REACT_APP_CURRENCY_SIGN}\n              </li>\n            ) : (\n              <li\n                key={index}\n                className={`message ${\n                  index === 0 ? \"highest-bid-message\" : \"other-message\"\n                }`}\n              >\n                {auth.user.isAdmin ? <img src={message.image}/>  : <FontAwesomeIcon icon={faUser} />}\n                {auth.user.isAdmin ? message.name + \" \" : \"Có người\" } \n                {auth.user.isAdmin ? message.telNo + \" \" : \"\" } \n                {process.env.REACT_APP_CURRENCY_SIGN}\n                {message.bidAmount}: Đấu giá cạnh tranh\n              </li>\n            );\n          })}\n        </ul>\n      </div>\n    </div>\n  );\n};\n","import React from \"react\";\r\nimport { useAuth } from \"../../../utils/hooks/authHook\";\r\nimport \"./Result.css\";\r\nimport { faUser } from \"@fortawesome/free-solid-svg-icons\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\n\r\nexport const Result = ({ messages }) => {\r\n  const auth = useAuth();\r\n\r\n  return (\r\n    <div>\r\n      <h3 className=\"text-center\">Top những người trả giá cao nhất</h3>\r\n      <div className=\"chat-history\">\r\n        <ul className=\"mx-auto justify-content-center\">\r\n          {messages.map((_, index) => {\r\n            let message = messages[messages.length - 1 - index];\r\n            return message.userId === auth?.user?.id ? (\r\n              <li\r\n                key={`${index}-${messages.length}`}\r\n                className={`message ${\r\n                  index === 0 ? \"highest-bid-message\" : \"my-message\"\r\n                }`}\r\n              >\r\n                {<img src={message.imageUrl} />}\r\n                {message.name + \" \"}\r\n                {message.telNo + \" \"}\r\n                đấu giá thành công\r\n                {message.amount} {process.env.REACT_APP_CURRENCY_SIGN}\r\n              </li>\r\n            ) : (\r\n              <li\r\n                key={index}\r\n                className={`message ${\r\n                  index === 0 ? \"highest-bid-message\" : \"other-message\"\r\n                }`}\r\n              >\r\n                {auth?.user?.isAdmin ? (\r\n                  <img src={message.imageUrl} />\r\n                ) : (\r\n                  <FontAwesomeIcon icon={faUser} />\r\n                )}\r\n                {auth?.user?.isAdmin ? message.name + \" \" : \" Có người \"}\r\n                {auth?.user?.isAdmin ? message.telNo + \" \" : \"\"}\r\n                Đấu giá cạnh tranh \r\n                {message.amount} {process.env.REACT_APP_CURRENCY_SIGN}: \r\n              </li>\r\n            );\r\n          })}\r\n        </ul>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n","import React from \"react\";\r\nimport { Button, Spinner } from \"react-bootstrap\";\r\n\r\nexport const BidHigherButton = ({\r\n  isLoading,\r\n  handleOnClick,\r\n  amount,\r\n  percentage,\r\n}) => {\r\n  const bid = percentage <= 0 ? amount : amount + (amount * percentage) / 100;\r\n  const suggestedBid = parseFloat(bid).toFixed(2);\r\n\r\n  return !isLoading ? (\r\n    <Button\r\n      onClick={() => {\r\n        handleOnClick(suggestedBid);\r\n      }}\r\n      block\r\n      variant=\"primary\"\r\n      size=\"lg\"\r\n    >\r\n      Đấu giá {process.env.REACT_APP_CURRENCY_SIGN}\r\n      {suggestedBid ? suggestedBid : \"0.00\"}\r\n    </Button>\r\n  ) : (\r\n    <Button block variant=\"primary\" size=\"lg\" disabled>\r\n      <Spinner\r\n        as=\"span\"\r\n        animation=\"grow\"\r\n        size=\"sm\"\r\n        role=\"status\"\r\n        aria-hidden=\"true\"\r\n      />\r\n      Đang đấu giá...\r\n    </Button>\r\n  );\r\n};\r\n","import api from \"../utils/helpers/api\";\n\nconst getHighestBid = (itemId) => {\n  return api\n    .get(`${process.env.REACT_APP_API_BIDS_ENDPOINT}/getHighestBid/${itemId}`)\n    .then((response) => response);\n};\n\nconst getBids = (itemId) => {\n  return api.get(`${process.env.REACT_APP_API_BIDS_ENDPOINT}/getBids/${itemId}`)\n  .then((response) => response);\n}\n\nconst updateTelNo = (body) => {\n  return api\n    .post(process.env.REACT_APP_API_UPDATE_TEL_NO, body)\n    .then((response) => response);\n};\n\nexport default { getHighestBid, getBids, updateTelNo };\n","import React, { Fragment } from \"react\";\r\nimport { useState, useEffect } from \"react\";\r\nimport { Chat } from \"./Chat/Chat\";\r\nimport { Result } from \"./Result/Result\";\r\nimport {\r\n  Card,\r\n  Col,\r\n  Spinner,\r\n  Button,\r\n  InputGroup,\r\n  FormControl,\r\n} from \"react-bootstrap\";\r\nimport { HubConnectionBuilder } from \"@aspnet/signalr\";\r\nimport api from \"../../utils/helpers/api\";\r\nimport { BidHigherButton } from \"./BidHigherButton\";\r\nimport { toast } from \"react-toastify\";\r\nimport bidService from \"../../services/bidService\";\r\nimport { useCallback } from \"react\";\r\n\r\nexport const Bid = ({\r\n  itemId,\r\n  startingPrice,\r\n  minPriceIncrease,\r\n  CounterContainer,\r\n}) => {\r\n  const [isLoading, setIsLoading] = useState(false);\r\n  const [connection] = useState(() =>\r\n    new HubConnectionBuilder().withUrl(\"https://daugiaapi.azurewebsites.net/bidHub\").build()\r\n  );\r\n  const [highestBid, setHighestBid] = useState(0);\r\n  const [nextBidMinimumAmount, setNextBidMinimumAmount] = useState();\r\n  const [biddingAmount, setBiddingAmount] = useState(0);\r\n  const [messages, setMessages] = useState([]);\r\n  const renewJwtAuthTokens = useCallback(async () => {\r\n    await connection.stop();\r\n    await api.post(\"/identity/refresh\", {});\r\n    await connection.start();\r\n    try {\r\n      await connection.invoke(\"Setup\", itemId);\r\n    } catch (error) {\r\n      toast.warning(\r\n        \"Chỉ có thể đấu giá sau khi bạn đã đăng nhập. Xin hãy thực hiện đăng nhập!\"\r\n      );\r\n    }\r\n  }, [connection, itemId]);\r\n\r\n  const handleOnClick = (amount) => {\r\n    if (parseFloat(amount) < nextBidMinimumAmount) {\r\n      toast.error(\r\n        `Mức đấu giá tối thiểu là ${process.env.REACT_APP_CURRENCY_SIGN}${nextBidMinimumAmount}`\r\n      );\r\n      return;\r\n    }\r\n\r\n    setIsLoading(true);\r\n    connection\r\n      .invoke(\"CreateBidAsync\", parseFloat(amount), itemId)\r\n      .catch(() => {\r\n        toast.error(\r\n          \"Có lỗi đã xảy ra trong lúc đấu giá. Xin hãy thực hiện lại sau khi tải lại trang.\"\r\n        );\r\n      });\r\n    setIsLoading(false);\r\n  };\r\n\r\n  const fetchHighestBid = useCallback(() => {\r\n    bidService.getHighestBid(itemId).then((response) => {\r\n      const amount = response.data.data?.amount;\r\n      let highestBid;\r\n      if (!amount) {\r\n        highestBid = startingPrice;\r\n      } else {\r\n        highestBid = response.data.data.amount;\r\n      }\r\n\r\n      const nextBiddingAmount = parseFloat(\r\n        highestBid + minPriceIncrease\r\n      ).toFixed(2);\r\n      setHighestBid(highestBid);\r\n      setNextBidMinimumAmount(nextBiddingAmount);\r\n    });\r\n  }, [itemId, startingPrice, minPriceIncrease]);\r\n\r\n  useEffect(() => {\r\n    bidService.getBids(itemId).then((response) => {\r\n      var messages = [];\r\n      for (var i = 0; i < response.data.data.length; i++) {\r\n        messages.push({\r\n          bidAmount: parseFloat(response.data.data[i].amount).toFixed(2),\r\n          userId: response.data.data[i].userId,\r\n          name: response.data.data[i].name,\r\n          image: response.data.data[i].imageUrl,\r\n          telNo: response.data.data[i].telNo,\r\n        });\r\n      }\r\n      setMessages(messages);\r\n    });\r\n    async function connectToSignalR() {\r\n      setIsLoading(true);\r\n      await connection.start();\r\n      try {\r\n        await connection.invoke(\"Setup\", itemId);\r\n      } catch (error) {\r\n        await renewJwtAuthTokens();\r\n      }\r\n\r\n      fetchHighestBid();\r\n      \r\n      setIsLoading(false);\r\n\r\n      connection.on(\"handleException\", function (error) {\r\n        toast.error(error);\r\n      });\r\n\r\n      connection.on(\r\n        \"ReceiveMessage\",\r\n        function (bidAmount, userId, bidderName, bidderImage, bidderTelNo) {\r\n          setMessages((prev) => [\r\n            ...prev,\r\n            {\r\n              bidAmount: parseFloat(bidAmount).toFixed(2),\r\n              userId,\r\n              name: bidderName,\r\n              image: bidderImage,\r\n              telNo: bidderTelNo,\r\n            },\r\n          ]);\r\n          const nextBiddingAmount = parseFloat(\r\n            bidAmount + minPriceIncrease\r\n          ).toFixed(2);\r\n          setHighestBid(bidAmount);\r\n          setNextBidMinimumAmount(nextBiddingAmount);\r\n        }\r\n      );\r\n    }\r\n\r\n    connectToSignalR();\r\n  }, [\r\n    itemId,\r\n    connection,\r\n    minPriceIncrease,\r\n    fetchHighestBid,\r\n    renewJwtAuthTokens,\r\n  ]);\r\n\r\n  return (\r\n    <Fragment>\r\n      <Col md={4}>\r\n        <CounterContainer />\r\n        <h4>\r\n        Mức đấu giá cao nhất - {process.env.REACT_APP_CURRENCY_SIGN}\r\n          {highestBid.toFixed(2)}\r\n        </h4>\r\n        <p>\r\n        Mức đấu giá thấp nhất - {process.env.REACT_APP_CURRENCY_SIGN}\r\n          {nextBidMinimumAmount}\r\n        </p>\r\n        <Card className=\"mt-3\">\r\n          <Card.Body>\r\n            <InputGroup className=\"mb-3\">\r\n              <InputGroup.Prepend>\r\n                <InputGroup.Text>\r\n                  {process.env.REACT_APP_CURRENCY_SIGN}\r\n                </InputGroup.Text>\r\n              </InputGroup.Prepend>\r\n              <FormControl\r\n                placeholder=\"Mức giá tham gia đấu giá.\"\r\n                type=\"number\"\r\n                onChange={(e) => setBiddingAmount(e.target.value)}\r\n                min={nextBidMinimumAmount}\r\n              />\r\n              <Button\r\n                className=\"mt-1\"\r\n                block\r\n                variant=\"danger\"\r\n                size=\"lg\"\r\n                onClick={() => handleOnClick(biddingAmount)}\r\n              >\r\n                {isLoading ? (\r\n                  <Fragment>\r\n                    <Spinner\r\n                      as=\"span\"\r\n                      animation=\"grow\"\r\n                      size=\"sm\"\r\n                      role=\"status\"\r\n                      aria-hidden=\"true\"\r\n                    />\r\n                    Đang tải...\r\n                  </Fragment>\r\n                ) : (\r\n                  \"Bid\"\r\n                )}\r\n              </Button>\r\n            </InputGroup>\r\n            <div className=\"text-center mb-2\">\r\n              <div>\r\n                {!isLoading ? (\r\n                  <BidHigherButton\r\n                    handleOnClick={handleOnClick}\r\n                    amount={nextBidMinimumAmount}\r\n                  />\r\n                ) : (\r\n                  \"\"\r\n                )}\r\n              </div>\r\n            </div>\r\n          </Card.Body>\r\n        </Card>\r\n        <Chat messages={messages} />\r\n      </Col>\r\n    </Fragment>\r\n  );\r\n};\r\n","import React, { Fragment } from \"react\";\r\nimport { useState, useEffect } from \"react\";\r\nimport { Result } from \"./Result/Result\";\r\n\r\nexport const BidResult = ({ itemId, topBidders, CounterContainer }) => {\r\n  const [messages, setResults] = useState([]);\r\n\r\n  const fetchHighestBidder = () => {\r\n    if (topBidders && topBidders.length > 0) {\r\n      setResults(topBidders);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    fetchHighestBidder();\r\n  }, [itemId, fetchHighestBidder]);\r\n\r\n  return (\r\n    <Fragment>\r\n      <Result messages={messages} />\r\n    </Fragment>\r\n  );\r\n};\r\n","import React, { useState, Fragment } from \"react\";\r\nimport {\r\n  Spinner,\r\n  Col,\r\n  Card,\r\n  Button,\r\n  OverlayTrigger,\r\n  Tooltip,\r\n} from \"react-bootstrap\";\r\nimport { useCounter } from \"../../../utils/hooks/useCounter\";\r\nimport { useAuth } from \"../../../utils/hooks/authHook\";\r\nimport { UserActionsContainer } from \"./UserActionsContainer\";\r\nimport { Bid } from \"../../Bid/Bid\";\r\nimport { BidResult } from \"../../Bid/BidResult\";\r\nimport { toast } from \"react-toastify\";\r\nimport { history } from \"../../..\";\r\n\r\nexport const SideBar = (props) => {\r\n  const { counter, currentUtcTime } = useCounter(props);\r\n  const { user } = useAuth();\r\n  const [showBidding, setShowBidding] = useState(false);\r\n\r\n  const handleShowBidding = () => {\r\n    if (user) {\r\n      var localUser = JSON.parse(localStorage.getItem(\"user\"));\r\n      if (localUser.phoneNo == undefined || localUser.phoneNo == \"\") {\r\n        history.push(\"/update-tel-no\", history.location.pathname);\r\n        return;\r\n      }\r\n\r\n      setShowBidding(true);\r\n      return;\r\n    }\r\n\r\n    toast.error(\r\n      \"Chỉ có thể đấu giá sau khi đăng nhập. Xin hãy đăng nhập trước!\"\r\n    );\r\n    history.push(\"/sign-in\", history.location.pathname);\r\n  };\r\n\r\n  const Counter = () => {\r\n    return counter ? (\r\n      <p style={{ color: \"red\" }}>\r\n        {counter.days().toFixed()}d {counter.hours()}h {counter.minutes()}m{\" \"}\r\n        {counter.seconds()}s\r\n      </p>\r\n    ) : (\r\n      <Spinner className=\"float-right\" animation=\"border\" />\r\n    );\r\n  };\r\n\r\n  const CounterContainer = () => {\r\n    return props.endTime > currentUtcTime &&\r\n      props.startTime < currentUtcTime ? (\r\n      <div className=\"d-flex w-100 justify-content-end\">\r\n        <div>Thời gian còn lại:&nbsp;</div>\r\n        <div>\r\n          <Counter />\r\n        </div>\r\n      </div>\r\n    ) : props.startTime > currentUtcTime ? (\r\n      <div className=\"d-flex w-100 justify-content-end\">\r\n        <div>Thời gian còn lại cho đến khi bắt đầu:&nbsp;</div>\r\n        <div>\r\n          <Counter />\r\n        </div>\r\n      </div>\r\n    ) : (\r\n      <span className=\"w-100 w-100 justify-content-end\">\r\n        <span style={{ color: \"red\" }}>Kết thúc đấu giá</span>\r\n      </span>\r\n    );\r\n  };\r\n\r\n  return (\r\n    <Fragment>\r\n      {!showBidding ? (\r\n        props.item ? (\r\n          <Col md={4}>\r\n            <div className=\"pt-2\">\r\n              <CounterContainer />\r\n            </div>\r\n            <div className=\"pt-3 pb-5\">\r\n              <Card border=\"dark\">\r\n                <Card.Body>\r\n                  <Card.Text>\r\n                  Giá dự đoán: &euro; {props.item?.startingPrice} -{\" \"}\r\n                    {props.item.startingPrice * 10}\r\n                  </Card.Text>\r\n                  <div className=\"m-2\">\r\n                    {props.startTime < currentUtcTime &&\r\n                    props.endTime > currentUtcTime ? (\r\n                      <Button\r\n                        variant=\"primary\"\r\n                        size=\"lg\"\r\n                        className=\"btn-block\"\r\n                        onClick={handleShowBidding}\r\n                      >\r\n                        <span className=\"d-inline d-md-none d-lg-inline\">\r\n                        Tham gia\r\n                        </span>\r\n                        ĐẤU GIÁ\r\n                      </Button>\r\n                    ) : (\r\n                      <OverlayTrigger\r\n                        overlay={\r\n                          <Tooltip id=\"tooltip-disabled\">\r\n                            Chỉ có thể đấu giá khi phiên đấu giá bắt đầu!\r\n                          </Tooltip>\r\n                        }\r\n                      >\r\n                        <span className=\"btn-block\">\r\n                          <Button\r\n                            variant=\"primary\"\r\n                            size=\"lg\"\r\n                            disabled\r\n                            className=\"btn-block\"\r\n                            style={{ pointerEvents: \"none\" }}\r\n                          >\r\n                            <span className=\"d-none d-lg-inline\">Tham Gia</span>\r\n                            ĐẤU GIÁ\r\n                          </Button>\r\n                        </span>\r\n                      </OverlayTrigger>\r\n                    )}\r\n                  </div>\r\n                </Card.Body>\r\n              </Card>\r\n              <Card border=\"dark\">\r\n                <Card.Body>\r\n                  <BidResult\r\n                    topBidders={props.item.top3Bidder}\r\n                    CounterContainer={CounterContainer}\r\n                  />\r\n                </Card.Body>\r\n              </Card>\r\n            </div>\r\n            <UserActionsContainer userId={user?.id} item={props.item} />\r\n          </Col>\r\n        ) : (\r\n          \"\"\r\n        )\r\n      ) : (\r\n        <Fragment>\r\n          <Bid\r\n            itemId={props.item.id}\r\n            startingPrice={props.item.startingPrice}\r\n            minPriceIncrease={props.item.minIncrease}\r\n            CounterContainer={CounterContainer}\r\n          />\r\n        </Fragment>\r\n      )}\r\n    </Fragment>\r\n  );\r\n};\r\n","import { useState, useEffect } from \"react\";\nimport moment from \"moment\";\n\nexport function useCounter(props) {\n  const [counter, setCounter] = useState(null);\n  const currentTime = moment().toISOString(\"dd/mm/yyyy HH:mm\");\n  const currentUtcTime = moment().utc().toISOString(\"dd/mm/yyyy HH:mm\");\n\n  useEffect(() => {\n    let duration;\n    if (props.startTime > currentTime) {\n      // Calculate remaining time until auction start\n      let eventTime = moment.utc(props.startTime).local();\n      duration = moment.duration(eventTime.diff(currentTime));\n    } else if (props.startTime < currentTime && props.endTime > currentTime) {\n      let eventTime = moment.utc(props.endTime).local();\n      duration = moment.duration(eventTime.diff(currentTime));\n    }\n\n    const interval = 1000;\n\n    let timeout;\n    if (!counter) {\n      timeout = setTimeout(() => {\n        setCounter(duration);\n      }, 500);\n    }\n\n    const timer =\n      counter &&\n      setInterval(() => {\n        if (counter.milliseconds() < 0 && duration < 0) {\n          return clearInterval(timer);\n        }\n        duration = moment.duration(duration - interval, \"milliseconds\");\n        setCounter(duration);\n      }, interval);\n    return () => {\n      clearInterval(timer);\n      clearTimeout(timeout);\n    };\n  }, [counter, props, currentTime]);\n\n  return {\n    counter,\n    currentUtcTime,\n  };\n}\n","const createImageObj = (pictures) => {\n  let data = [];\n  pictures.forEach((element) => {\n    data.push({\n      original: element.url,\n      thumbnail: element.url,\n    });\n  });\n\n  return data;\n};\n\nexport default createImageObj;\n","import React, { Fragment, useEffect, useState } from \"react\";\r\nimport { Row, Col, Button, Card } from \"react-bootstrap\";\r\nimport ImageGallery from \"react-image-gallery\";\r\nimport itemsService from \"../../../services/itemsService\";\r\nimport { useParams } from \"react-router-dom\";\r\nimport \"moment-timezone\";\r\nimport { SideBar } from \"./SideBar\";\r\nimport \"./Details.css\";\r\nimport createImageObj from \"../../../services/picturesService\";\r\n\r\nexport const Details = () => {\r\n  const [isLoading, setIsLoading] = useState(false);\r\n  const [item, setItem] = useState({});\r\n  const [images, setImages] = useState([]);\r\n\r\n  let { id } = useParams();\r\n\r\n  useEffect(() => {\r\n    setIsLoading(true);\r\n    itemsService.getItemById(id).then(({ data: response }) => {\r\n      setItem(response.data);\r\n      setImages(createImageObj(response.data.pictures));\r\n      setIsLoading(false);\r\n    });\r\n  }, [id]);\r\n\r\n  return (\r\n    <Fragment>\r\n      {!isLoading ? (\r\n        <Row>\r\n          <Col md={8}>\r\n            <h1 style={{ wordBreak: \"break-word\" }}>{item.title}</h1>\r\n            <ImageGallery showPlayButton={false} items={images} />\r\n            <Card className=\"mb-3\">\r\n              <Card.Header>\r\n                <Button>Chi Tiết</Button>\r\n              </Card.Header>\r\n              <Card.Body>\r\n                <Card.Text>{item.description}</Card.Text>\r\n                <h5 className=\"card-title\">Bắt Đầu Đấu Giá</h5>\r\n                <Card.Text>&euro;{item.startingPrice}</Card.Text>\r\n              </Card.Body>\r\n            </Card>\r\n          </Col>\r\n          <SideBar\r\n            item={item}\r\n            startTime={item.startTime}\r\n            endTime={item.endTime}\r\n            startingPrice={item.startingPrice}\r\n          />\r\n          <SideBar />\r\n        </Row>\r\n      ) : (\r\n        \"Đang Tải...\"\r\n      )}\r\n    </Fragment>\r\n  );\r\n};\r\n","import React, { useState, useEffect } from \"react\";\nimport FlipMove from \"react-flip-move\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { faServer } from \"@fortawesome/free-solid-svg-icons\";\nimport \"./ImageUploader.css\";\n\nconst styles = {\n  display: \"flex\",\n  alignItems: \"center\",\n  justifyContent: \"center\",\n  flexWrap: \"wrap\",\n  width: \"100%\",\n};\n\nconst ERROR = {\n  NOT_SUPPORTED_EXTENSION: \"NOT_SUPPORTED_EXTENSION\",\n  FILESIZE_TOO_LARGE: \"FILESIZE_TOO_LARGE\",\n};\n\nexport const ImageUploader = (props) => {\n  const [pictures, setPictures] = useState([]);\n  const [files, setFiles] = useState([]);\n  const [fileErrors, setFileErrors] = useState([]);\n  const [\n    shouldAcceptInitialPictures,\n    setShouldAcceptInitialPictures,\n  ] = useState(true);\n  let inputElement = \"\";\n\n  const { onChange, images, onRemove } = props;\n\n  useEffect(() => {\n    if (shouldAcceptInitialPictures && images) {\n      setPictures(images);\n      setShouldAcceptInitialPictures(false);\n    }\n  }, [shouldAcceptInitialPictures, images]);\n\n  useEffect(() => {\n    onChange(files, pictures);\n  }, [pictures, files, onChange]);\n\n  const hasExtension = (fileName) => {\n    const pattern =\n      \"(\" + props.imgExtensions.join(\"|\").replace(/\\./g, \"\\\\.\") + \")$\";\n    return new RegExp(pattern, \"i\").test(fileName);\n  };\n\n  const onDropFile = (e) => {\n    const eventFiles = e.target.files;\n    const allFilePromises = [];\n    const errors = [];\n\n    for (let i = 0; i < eventFiles.length; i++) {\n      let file = eventFiles[i];\n      let fileError = {\n        name: file.name,\n      };\n      if (!hasExtension(file.name)) {\n        fileError = Object.assign(fileError, {\n          type: ERROR.NOT_SUPPORTED_EXTENSION,\n        });\n        errors.push(fileError);\n        continue;\n      }\n      if (file.size > props.maxFileSize) {\n        fileError = Object.assign(fileError, {\n          type: ERROR.FILESIZE_TOO_LARGE,\n        });\n        errors.push(fileError);\n        continue;\n      }\n\n      allFilePromises.push(readFile(file));\n    }\n\n    setFileErrors(errors);\n\n    const { singleImage } = props;\n\n    Promise.all(allFilePromises).then((newFilesData) => {\n      const dataURLs = singleImage ? [] : pictures.slice();\n      const newFiles = singleImage ? [] : files.slice();\n\n      newFilesData.forEach((newFileData) => {\n        dataURLs.push(newFileData.dataURL);\n        newFiles.push(newFileData.file);\n      });\n\n      setPictures(dataURLs);\n      setFiles(newFiles);\n    });\n  };\n\n  const onUploadClick = (e) => {\n    e.target.value = null;\n  };\n\n  const readFile = (file) => {\n    return new Promise((resolve, reject) => {\n      const reader = new FileReader();\n\n      reader.onload = function (e) {\n        let dataURL = e.target.result;\n        dataURL = dataURL.replace(\";base64\", `;name=${file.name};base64`);\n        resolve({ file, dataURL });\n      };\n\n      reader.readAsDataURL(file);\n    });\n  };\n\n  const removeImage = (picture) => {\n    const removeIndex = pictures.findIndex((e) => e === picture);\n    if (picture.id) {\n      onRemove((prev) => [...prev, picture.id]);\n    } else\n      setFiles((oldFiles) =>\n        oldFiles.filter((e, index) => index !== removeIndex)\n      );\n\n    setPictures((oldPictures) =>\n      oldPictures.filter((e, index) => index !== removeIndex)\n    );\n    onChange(files, pictures);\n  };\n\n  const renderErrors = () => {\n    return fileErrors.map((fileError, index) => {\n      return (\n        <div\n          className={\"errorMessage \" + props.errorClass}\n          key={index}\n          style={props.errorStyle}\n        >\n          * {fileError.name}{\" \"}\n          {fileError.type === ERROR.FILESIZE_TOO_LARGE\n            ? props.fileSizeError\n            : props.fileTypeError}\n        </div>\n      );\n    });\n  };\n\n  const renderIcon = () => {\n    if (props.withIcon) {\n      return <FontAwesomeIcon icon={faServer} className=\"uploadIcon\" />;\n    }\n  };\n\n  const renderLabel = () => {\n    if (props.withLabel) {\n      return (\n        <p className={props.labelClass} style={props.labelStyles}>\n          {props.label}\n        </p>\n      );\n    }\n  };\n\n  const renderPreview = () => {\n    return (\n      <div className=\"uploadPicturesWrapper\">\n        <FlipMove enterAnimation=\"fade\" leaveAnimation=\"fade\" style={styles}>\n          {renderPreviewPictures()}\n        </FlipMove>\n      </div>\n    );\n  };\n\n  const renderPreviewPictures = () => {\n    return pictures.map((picture, index) => {\n      return (\n        <div key={index} className=\"uploadPictureContainer\">\n          <div className=\"deleteImage\" onClick={() => removeImage(picture)}>\n            X\n          </div>\n          <img\n            src={picture.url ? picture.url : picture}\n            className=\"uploadPicture\"\n            alt=\"preview\"\n          />\n        </div>\n      );\n    });\n  };\n\n  const triggerFileUpload = () => {\n    inputElement.click();\n  };\n\n  return (\n    <div className=\"fileUploader\">\n      <div className=\"fileContainer\">\n        {renderIcon()}\n        {renderLabel()}\n        <div className=\"errorsContainer\">{renderErrors()}</div>\n        <button\n          type={props.buttonType}\n          className={\"chooseFileButton \" + props.buttonClassName}\n          style={props.buttonStyles}\n          onClick={triggerFileUpload}\n        >\n          {props.buttonText}\n        </button>\n        <input\n          type=\"file\"\n          ref={(input) => (inputElement = input)}\n          name={props.name}\n          multiple={!props.singleImage}\n          onChange={onDropFile}\n          onClick={onUploadClick}\n          accept={props.accept}\n        />\n        {props.withPreview ? renderPreview() : null}\n      </div>\n    </div>\n  );\n};\n\nImageUploader.defaultProps = {\n  className: \"\",\n  fileContainerStyle: {},\n  buttonClassName: \"\",\n  buttonStyles: {},\n  withPreview: true,\n  accept: \"image/*\",\n  name: \"\",\n  withIcon: true,\n  buttonText: \"Choose images\",\n  buttonType: \"button\",\n  withLabel: true,\n  label: \"Max file size: 5mb, accepted: jpg|jpeg|gif|png\",\n  labelStyles: {},\n  labelClass: \"\",\n  imgExtensions: [\".jpg\", \".jpeg\", \".gif\", \".png\"],\n  maxFileSize: 5242880,\n  fileSizeError: \" file size is too big\",\n  fileTypeError: \" is not a supported file extension\",\n  errorClass: \"\",\n  style: {},\n  errorStyle: {},\n  singleImage: false,\n  onChange: () => {},\n  defaultImages: [],\n};\n","import { useState, useEffect } from \"react\";\nimport moment from \"moment\";\n\nexport const useTime = (interval = 60000) => {\n  const [currentTime, setCurrentTime] = useState(moment().toDate());\n\n  useEffect(() => {\n    const timer = setInterval(() => {\n      setCurrentTime(moment().toDate());\n    }, interval);\n\n    return () => clearInterval(timer);\n  }, [currentTime, interval]);\n\n  return { currentTime };\n};\n","import React, { useState, useEffect } from \"react\";\nimport { useForm } from \"react-hook-form\";\nimport {\n  Container,\n  Form,\n  InputGroup,\n  Button,\n  Spinner,\n  Row,\n} from \"react-bootstrap\";\nimport categoriesService from \"../../../services/categoriesService\";\nimport moment from \"moment\";\nimport \"./Create.css\";\nimport {\n  StartTimeDatePicker,\n  EndTimeDatePicker,\n} from \"../../DateTimePicker/DateTimePicker\";\nimport itemsService from \"../../../services/itemsService\";\nimport { ImageUploader } from \"../../ImageUploader/ImageUploader\";\nimport { history } from \"../../..\";\nimport { useTime } from \"../../../utils/hooks/useTime\";\n\nexport const Create = () => {\n  const { register, handleSubmit, errors } = useForm();\n  const [isLoading, setIsLoading] = useState(false);\n  const [categories, setCategories] = useState([]);\n  const [pictures, setPictures] = useState([]);\n  const { currentTime } = useTime();\n  const [startTime, setStartTime] = useState();\n  const [endTime, setEndTime] = useState();\n\n  useEffect(() => {\n    setStartTime(moment(currentTime).add(2, \"minutes\").toDate());\n    setEndTime(moment(currentTime).add(1, \"week\").add(10, \"m\").toDate());\n  }, [currentTime]);\n\n  useEffect(() => {\n    categoriesService.getAll().then((response) => {\n      setCategories(response.data.data);\n    });\n  }, []);\n\n  const onSubmit = (data, e) => {\n    setIsLoading(true);\n    var formData = new FormData(e.target);\n    pictures.forEach((file) => {\n      formData.append(\"pictures\", file, file.name);\n    });\n    formData.append(\"startTime\", startTime.toISOString(\"dd/mm/yyyy HH:mm\"));\n    formData.append(\"endTime\", endTime.toISOString(\"dd/mm/yyyy HH:mm\"));\n\n    itemsService\n      .createItem(formData)\n      .then((response) => {\n        history.push(`/items/details/${response.data.data.id}`);\n      })\n      .catch(() => setIsLoading(false));\n  };\n\n  const onDrop = (picture) => {\n    setPictures(picture);\n  };\n\n  return (\n    <Container>\n      <div className=\"text-center w-md-75 w-lg-50 mx-auto my-4\">\n        <Form\n          onSubmit={handleSubmit(onSubmit)}\n          style={{\n            border: \"1px solid #e3e6ef\",\n            background: \"#fff\",\n            padding: \"2rem\",\n          }}\n        >\n          <h1>Tạo sản phẩm</h1>\n          <Form.Group controlId=\"title\">\n            <Form.Label>Title</Form.Label>\n            <Form.Control\n              name=\"title\"\n              placeholder=\"Some really cool item\"\n              ref={register({\n                required: \"Cần nhập thông tin cho trường tiêu đề\",\n                maxLength: 120,\n              })}\n            />\n            {errors.title && (\n              <Form.Control.Feedback type=\"invalid\">\n                {errors.title.message}\n              </Form.Control.Feedback>\n            )}\n          </Form.Group>\n          <Form.Group controlId=\"description\">\n            <Form.Label>Description</Form.Label>\n            <Form.Control\n              name=\"description\"\n              as=\"textarea\"\n              placeholder=\"This item was owned by Hitler!!! WOW!\"\n              ref={register({\n                required: \"Cần nhập thông tin miêu tả.\",\n                maxLength: 500,\n              })}\n            />\n            {errors.description && (\n              <Form.Control.Feedback type=\"invalid\">\n                {errors.description.message}\n              </Form.Control.Feedback>\n            )}\n          </Form.Group>\n          <Row>\n            <Form.Group className=\"col\" controlId=\"StartTime\">\n              <Form.Label>Thời gian bắt đầu</Form.Label>\n              <StartTimeDatePicker\n                startTime={startTime}\n                setStartTime={setStartTime}\n                endTime={endTime}\n              />\n            </Form.Group>\n            <Form.Group className=\"col\" controlId=\"EndTime\">\n              <Form.Label>Thời gian kết thúc</Form.Label>\n              <EndTimeDatePicker\n                endTime={endTime}\n                setEndTime={setEndTime}\n                startTime={startTime}\n              />\n            </Form.Group>\n          </Row>\n          <Form.Group controlId=\"startingPrice\">\n            <Form.Label>Giá khởi điểm</Form.Label>\n            <InputGroup className=\"mb-3\">\n              <InputGroup.Prepend>\n                <InputGroup.Text id=\"starting-price\">\n                  {process.env.REACT_APP_CURRENCY_SIGN}\n                </InputGroup.Text>\n              </InputGroup.Prepend>\n              <Form.Control\n                name=\"startingPrice\"\n                type=\"number\"\n                placeholder=\"100\"\n                aria-describedby=\"starting-price\"\n                ref={register({\n                  required: \"Yêu cầu nhập giá khởi điểm\",\n                  min: 0.01,\n                  max: 1000000000,\n                })}\n              />\n            </InputGroup>\n            {errors.startingPrice && (\n              <Form.Control.Feedback type=\"invalid\">\n                {errors.startingPrice.message}\n              </Form.Control.Feedback>\n            )}\n          </Form.Group>\n          <Form.Group controlId=\"minIncrease\">\n            <Form.Label>\n            Mức tăng giá tối thiểu (\n              {\n                <span className=\"text-muted\">\n                  Chúng tôi đề xuất mức 10% giá trị mức giá khởi điểm\n                </span>\n              }\n              )\n            </Form.Label>\n            <InputGroup className=\"mb-3\">\n              <InputGroup.Prepend>\n                <InputGroup.Text id=\"min-increase\">\n                  {process.env.REACT_APP_CURRENCY_SIGN}\n                </InputGroup.Text>\n              </InputGroup.Prepend>\n              <Form.Control\n                name=\"minIncrease\"\n                type=\"number\"\n                aria-describedby=\"min-increase\"\n                ref={register({\n                  required: \"Mức giá tăng tối thiểu cần được nhập.\",\n                  min: 0.01,\n                  max: 1000000000,\n                })}\n              />\n            </InputGroup>\n            {errors.minIncrease && (\n              <Form.Control.Feedback type=\"invalid\">\n                {errors.minIncrease.message}\n              </Form.Control.Feedback>\n            )}\n          </Form.Group>\n          <Form.Group controlId=\"category\">\n            <Form.Label>Category</Form.Label>\n            <Form.Control\n              custom\n              name=\"subCategoryId\"\n              ref={register({ required: \"Cần nhập danh mục.\" })}\n              as=\"select\"\n            >\n              <option disabled>Chọn danh mục</option>\n              {categories.map((category) => {\n                return category.subCategories.map((subCategory, index) => {\n                  return (\n                    <option key={index} value={subCategory.id}>\n                      {subCategory.name}\n                    </option>\n                  );\n                });\n              })}\n            </Form.Control>\n          </Form.Group>\n          <Form.Group>\n            <ImageUploader onChange={onDrop} />\n          </Form.Group>\n          {!isLoading ? (\n            <Button variant=\"primary\" type=\"submit\">\n              Đăng bài\n            </Button>\n          ) : (\n            <Button variant=\"primary\" disabled>\n              <Spinner\n                as=\"span\"\n                animation=\"grow\"\n                size=\"sm\"\n                role=\"status\"\n                aria-hidden=\"true\"\n              />\n              Đang tạo...\n            </Button>\n          )}\n        </Form>\n      </div>\n    </Container>\n  );\n};\n","import React, { Fragment } from \"react\";\nimport { Route } from \"react-router-dom\";\nimport { useAuth } from \"../utils/hooks/authHook\";\nimport { toast } from \"react-toastify\";\nimport { history } from \"..\";\n\nexport const PrivateRoute = ({\n  component: Component,\n  adminOnly = false,\n  ...rest\n}) => {\n  const { user } = useAuth();\n\n  return (\n    <Route\n      {...rest}\n      render={(props) => {\n        if (user) {\n          if (adminOnly && user.isAdmin) {\n            return <Component {...props} />;\n          }\n          if (adminOnly && !user.isAdmin) {\n            history.push(\"/notFound\");\n            return;\n          }\n          if (!adminOnly && user) {\n            return <Component {...props} />;\n          }\n        } else {\n          return (\n            <Fragment>\n              {history.push(\"/sign-in\", history.location.pathname)}\n              {toast.warning(\"Please sign in!\")}\n            </Fragment>\n          );\n        }\n      }}\n    />\n  );\n};\n","import React, { useState, useEffect } from \"react\";\r\nimport { useForm } from \"react-hook-form\";\r\nimport { Container, Form, InputGroup, Button, Spinner } from \"react-bootstrap\";\r\nimport categoriesService from \"../../../services/categoriesService\";\r\nimport moment from \"moment\";\r\nimport {\r\n  StartTimeDatePicker,\r\n  EndTimeDatePicker,\r\n} from \"../../DateTimePicker/DateTimePicker\";\r\nimport itemsService from \"../../../services/itemsService\";\r\nimport { ImageUploader } from \"../../ImageUploader/ImageUploader\";\r\nimport { useParams } from \"react-router-dom\";\r\nimport { history } from \"../../..\";\r\nimport { useTime } from \"../../../utils/hooks/useTime\";\r\n\r\nexport const Edit = () => {\r\n  const { register, handleSubmit, errors } = useForm();\r\n  const [isLoading, setIsLoading] = useState(true);\r\n  const [item, setItem] = useState();\r\n  const [categories, setCategories] = useState([]);\r\n  const [pictures, setPictures] = useState([]);\r\n  const [removedPictures, setRemovedPictures] = useState([]);\r\n\r\n  const { currentTime } = useTime();\r\n\r\n  const [startTime, setStartTime] = useState(\r\n    moment(currentTime).add(2, \"minutes\").toDate()\r\n  );\r\n  const [endTime, setEndTime] = useState(\r\n    moment(currentTime).add(1, \"months\").add(10, \"m\").toDate()\r\n  );\r\n\r\n  const { id } = useParams();\r\n\r\n  useEffect(() => {\r\n    setStartTime(moment(currentTime).add(1, \"minutes\").toDate());\r\n  }, [currentTime]);\r\n\r\n  useEffect(() => {\r\n    async function getCategories() {\r\n      const categories = await categoriesService.getAll();\r\n      setCategories(categories.data.data);\r\n    }\r\n\r\n    async function getItem() {\r\n      const item = (await itemsService.getItemById(id)).data.data;\r\n      setItem(item);\r\n      const urls = await Promise.all(\r\n        item.pictures.map(async ({ id, url }) => {\r\n          return { id, url: await toDataURL(url) };\r\n        })\r\n      );\r\n      setPictures((prev) => [...prev, ...urls]);\r\n    }\r\n\r\n    async function fetch() {\r\n      await getCategories();\r\n      await getItem();\r\n      setIsLoading(false);\r\n    }\r\n\r\n    fetch();\r\n  }, [id]);\r\n\r\n  const toDataURL = (url) =>\r\n    fetch(url)\r\n      .then((response) => response.blob())\r\n      .then(\r\n        (blob) =>\r\n          new Promise((resolve, reject) => {\r\n            const reader = new FileReader();\r\n            reader.onloadend = () => resolve(reader.result);\r\n            reader.onerror = reject;\r\n            reader.readAsDataURL(blob);\r\n          })\r\n      );\r\n\r\n  const onSubmit = (data, e) => {\r\n    setIsLoading(true);\r\n    var formData = new FormData(e.target);\r\n    pictures.forEach((file) => {\r\n      formData.append(\"picturesToAdd\", file, file.name);\r\n    });\r\n    removedPictures.forEach((id) => {\r\n      formData.append(\"picturesToRemove\", id);\r\n    });\r\n\r\n    formData.append(\"id\", id);\r\n    formData.append(\"startTime\", startTime.toISOString(\"dd/mm/yyyy HH:mm\"));\r\n    formData.append(\"endTime\", endTime.toISOString(\"dd/mm/yyyy HH:mm\"));\r\n\r\n    itemsService\r\n      .editItem(id, formData)\r\n      .then(() => {\r\n        history.push(`/items/details/${id}`);\r\n      })\r\n      .catch(() => setIsLoading(false));\r\n  };\r\n\r\n  const onDrop = (pictureFiles) => {\r\n    setPictures(pictureFiles);\r\n  };\r\n\r\n  return (\r\n    <Container>\r\n      <div className=\"text-center w-md-75 w-lg-50 mx-auto my-4\">\r\n        {!isLoading ? (\r\n          <Form\r\n            onSubmit={handleSubmit(onSubmit)}\r\n            style={{\r\n              border: \"1px solid #e3e6ef\",\r\n              background: \"#fff\",\r\n              padding: \"2rem\",\r\n            }}\r\n          >\r\n            <h1>Chỉnh Sửa</h1>\r\n            <Form.Group controlId=\"title\">\r\n              <Form.Label>Title</Form.Label>\r\n              <Form.Control\r\n                name=\"title\"\r\n                placeholder=\"Some really cool item\"\r\n                ref={register({\r\n                  required: \"Title field is required\",\r\n                  maxLength: 120,\r\n                })}\r\n                defaultValue={item.title}\r\n              />\r\n              {errors.title && (\r\n                <Form.Control.Feedback type=\"invalid\">\r\n                  {errors.title.message}\r\n                </Form.Control.Feedback>\r\n              )}\r\n            </Form.Group>\r\n            <Form.Group controlId=\"description\">\r\n              <Form.Label>Miêu Tả</Form.Label>\r\n              <Form.Control\r\n                name=\"description\"\r\n                as=\"textarea\"\r\n                placeholder=\"This item was owned by Hitler!!! WOW!\"\r\n                ref={register({\r\n                  required: \"Description field is required\",\r\n                  maxLength: 500,\r\n                })}\r\n                defaultValue={item.description}\r\n              />\r\n              {errors.description && (\r\n                <Form.Control.Feedback type=\"invalid\">\r\n                  {errors.description.message}\r\n                </Form.Control.Feedback>\r\n              )}\r\n            </Form.Group>\r\n            <Form.Group controlId=\"StartTime\">\r\n              <p>Thời Gian Bắt Đầu</p>\r\n              <StartTimeDatePicker\r\n                startTime={startTime}\r\n                setStartTime={setStartTime}\r\n                endTime={endTime}\r\n              />\r\n            </Form.Group>\r\n            <Form.Group controlId=\"EndTime\">\r\n              <p>Thời Gian Kết Thúc</p>\r\n              <EndTimeDatePicker\r\n                endTime={endTime}\r\n                setEndTime={setEndTime}\r\n                startTime={startTime}\r\n              />\r\n            </Form.Group>\r\n            <Form.Group controlId=\"startingPrice\">\r\n              <Form.Label>Giá Khởi Điểm</Form.Label>\r\n              <InputGroup className=\"mb-3\">\r\n                <InputGroup.Prepend>\r\n                  <InputGroup.Text id=\"starting-price\">\r\n                    {process.env.REACT_APP_CURRENCY_SIGN}\r\n                  </InputGroup.Text>\r\n                </InputGroup.Prepend>\r\n                <Form.Control\r\n                  name=\"startingPrice\"\r\n                  type=\"number\"\r\n                  placeholder=\"100\"\r\n                  aria-describedby=\"starting-price\"\r\n                  ref={register({\r\n                    required: \"Starting Price field is required\",\r\n                    min: 0.01,\r\n                    max: 1000000000,\r\n                  })}\r\n                  defaultValue={item.startingPrice}\r\n                />\r\n              </InputGroup>\r\n              {errors.startingPrice && (\r\n                <Form.Control.Feedback type=\"invalid\">\r\n                  {errors.startingPrice.message}\r\n                </Form.Control.Feedback>\r\n              )}\r\n            </Form.Group>\r\n            <Form.Group controlId=\"minIncrease\">\r\n              <Form.Label>\r\n                Khoảng giá tăng tổi thiểu với 1 yêu cầu đấu giá (\r\n                {\r\n                  <span className=\"text-muted\">\r\n                    Chúng tôi khuyến nghị 10% giá khởi điểm\r\n                  </span>\r\n                }\r\n                )\r\n              </Form.Label>\r\n              <InputGroup className=\"mb-3\">\r\n                <InputGroup.Prepend>\r\n                  <InputGroup.Text id=\"min-increase\">\r\n                    {process.env.REACT_APP_CURRENCY_SIGN}\r\n                  </InputGroup.Text>\r\n                </InputGroup.Prepend>\r\n                <Form.Control\r\n                  name=\"minIncrease\"\r\n                  type=\"number\"\r\n                  aria-describedby=\"min-increase\"\r\n                  ref={register({\r\n                    required: \"Min price increase field is required\",\r\n                    min: 0.01,\r\n                    max: 1000000000,\r\n                  })}\r\n                  defaultValue={item.minIncrease}\r\n                />\r\n              </InputGroup>\r\n              {errors.minIncrease && (\r\n                <Form.Control.Feedback type=\"invalid\">\r\n                  {errors.minIncrease.message}\r\n                </Form.Control.Feedback>\r\n              )}\r\n            </Form.Group>\r\n            <Form.Group controlId=\"category\">\r\n              <Form.Label>Danh Mục</Form.Label>\r\n              <Form.Control\r\n                name=\"subCategoryId\"\r\n                ref={register({ required: \"Category is required\" })}\r\n                as=\"select\"\r\n                defaultValue={item.subCategoryId}\r\n              >\r\n                <option disabled>Chọn Danh Mục</option>\r\n                {categories.map((category) => {\r\n                  return category.subCategories.map((subCategory, index) => {\r\n                    return (\r\n                      <option key={index} value={subCategory.id}>\r\n                        {subCategory.name}\r\n                      </option>\r\n                    );\r\n                  });\r\n                })}\r\n              </Form.Control>\r\n            </Form.Group>\r\n            <Form.Group>\r\n              <ImageUploader\r\n                onChange={onDrop}\r\n                images={pictures}\r\n                onRemove={setRemovedPictures}\r\n              />\r\n            </Form.Group>\r\n            <div>\r\n              <Button\r\n                variant=\"outline-info\"\r\n                className=\"mr-3\"\r\n                onClick={() => history.goBack()}\r\n              >\r\n                Hủy\r\n              </Button>\r\n              <Button variant=\"outline-danger\" type=\"submit\">\r\n                Gửi Đi\r\n              </Button>\r\n            </div>\r\n          </Form>\r\n        ) : (\r\n          <Spinner animation=\"border\" />\r\n        )}\r\n      </div>\r\n    </Container>\r\n  );\r\n};\r\n","import api from \"../utils/helpers/api\";\n\nconst getUsers = (query) => {\n  return api\n    .get(process.env.REACT_APP_API_ADMINISTRATION_ENDPOINT, { params: query })\n    .then((response) => response);\n};\n\nconst addToRole = (email, role) => {\n  return api\n    .post(process.env.REACT_APP_API_ADMINISTRATION_ENDPOINT, {\n      email,\n      role,\n    })\n    .then((response) => response);\n};\n\nconst removeFromRole = (email, role) => {\n  return api\n    .delete(process.env.REACT_APP_API_ADMINISTRATION_ENDPOINT, {\n      data: { email, role },\n    })\n    .then((response) => response);\n};\n\nexport default {\n  getUsers,\n  addToRole,\n  removeFromRole,\n};\n","import React, { useState, useEffect, Fragment } from \"react\";\nimport adminService from \"../../services/adminService\";\nimport { Spinner, Table, Form } from \"react-bootstrap\";\nimport ReactPaginate from \"react-paginate\";\nimport { toast } from \"react-toastify\";\n\nexport const Admin = () => {\n  const [isLoading, setIsLoading] = useState(true);\n  const [paginationQuery, setPaginationQuery] = useState({\n    pageNumber: 1,\n    pageSize: 7,\n  });\n  const [users, setUsers] = useState([]);\n  const [totalPages, setTotalPages] = useState();\n\n  useEffect(() => {\n    adminService.getUsers(paginationQuery).then((response) => {\n      setUsers(response.data.data);\n      setTotalPages(response.data.totalPages);\n      setIsLoading(false);\n    });\n  }, [paginationQuery]);\n\n  const handlePageClick = (data) => {\n    let pageNumber = data.selected + 1;\n    setPaginationQuery((prev) => ({ ...prev, pageNumber }));\n  };\n\n  const handleAddUserToRole = (event, index) => {\n    const role = event.target.value;\n    const email = users[index].email;\n\n    adminService.addToRole(email, role).then(() => {\n      setUsers((prev) => [\n        ...prev.map((user, currentIndex) => {\n          if (currentIndex === index) {\n            return {\n              ...user,\n              currentRoles: [...user.currentRoles, role],\n              nonCurrentRoles: user.nonCurrentRoles.filter(\n                (nonCurrentRole) => nonCurrentRole !== role\n              ),\n            };\n          }\n\n          return user;\n        }),\n      ]);\n      toast.success(`${email} has been successfully promoted to ${role}`);\n    });\n  };\n\n  const handleRemoveUserFromRole = (event, index) => {\n    const role = event.target.value;\n    const email = users[index].email;\n\n    adminService.removeFromRole(email, role).then(() => {\n      setUsers((prev) => [\n        ...prev.map((user, currentIndex) => {\n          if (currentIndex === index) {\n            return {\n              ...user,\n              currentRoles: user.currentRoles.filter(\n                (currentRole) => currentRole !== role\n              ),\n\n              nonCurrentRoles: [...user.nonCurrentRoles, role],\n            };\n          }\n\n          return user;\n        }),\n      ]);\n\n      toast.success(`${email} has been successfully demoted from ${role}`);\n    });\n  };\n\n  return isLoading ? (\n    <Spinner animation=\"border\" />\n  ) : (\n    <Fragment>\n      <Table responsive striped bordered hover size=\"sm\">\n        <thead>\n          <tr>\n            <th>Email</th>\n            <th>Roles</th>\n            <th>Add to role</th>\n            <th>Remove from role</th>\n          </tr>\n        </thead>\n        <tbody>\n          {users.map((user, index) => {\n            return (\n              <tr key={index}>\n                <td>{user.email}</td>\n                <td>\n                  {user.currentRoles.length !== 0 ? user.currentRoles : \"User\"}\n                </td>\n                <td>\n                  <Form.Group>\n                    <Form.Control\n                      as=\"select\"\n                      custom\n                      value=\"Select role\"\n                      onChange={(e) => handleAddUserToRole(e, index)}\n                    >\n                      <option disabled>Select role</option>\n                      {user.nonCurrentRoles.map((role, index) => {\n                        return <option key={index}>{role}</option>;\n                      })}\n                    </Form.Control>\n                  </Form.Group>\n                </td>\n                <td>\n                  <Form.Group>\n                    <Form.Control\n                      as=\"select\"\n                      custom\n                      value=\"Select role\"\n                      onChange={(e) => handleRemoveUserFromRole(e, index)}\n                    >\n                      <option disabled>Select role</option>\n                      {user.currentRoles.map((role, index) => {\n                        return <option key={index}>{role}</option>;\n                      })}\n                    </Form.Control>\n                  </Form.Group>\n                </td>\n              </tr>\n            );\n          })}\n        </tbody>\n      </Table>\n      <ReactPaginate\n        previousLabel={\"previous\"}\n        nextLabel={\"next\"}\n        breakLabel={\"...\"}\n        pageCount={totalPages}\n        marginPagesDisplayed={3}\n        pageRangeDisplayed={5}\n        onPageChange={handlePageClick}\n        breakClassName={\"page-item\"}\n        breakLinkClassName={\"page-link\"}\n        containerClassName={\"pagination justify-content-end\"}\n        pageClassName={\"page-item\"}\n        pageLinkClassName={\"page-link\"}\n        previousClassName={\"page-item\"}\n        previousLinkClassName={\"page-link\"}\n        nextClassName={\"page-item\"}\n        nextLinkClassName={\"page-link\"}\n        activeClassName={\"active\"}\n      />\n    </Fragment>\n  );\n};\n","import React, { useState } from \"react\";\r\nimport { useForm } from \"react-hook-form\";\r\nimport { Form, Button } from \"react-bootstrap\";\r\nimport { history } from \"../../../index\";\r\nimport { toast } from \"react-toastify\";\r\nimport bidService from \"../../../services/bidService\";\r\n\r\nexport const UpdateTelNo = () => {\r\n  const { register, handleSubmit, errors, watch, formState } = useForm({\r\n    mode: \"onblur\",\r\n  });\r\n  const { touched } = formState;\r\n\r\n  const onSubmit = (data) => {\r\n    bidService\r\n      .updateTelNo(data)\r\n      .then(() => {\r\n        var user = JSON.parse(localStorage.getItem(\"user\"));\r\n        if (user) {\r\n          user.phoneNo = data.telNo;\r\n          localStorage.setItem(\"user\", JSON.stringify(user));\r\n        }\r\n\r\n        history.location.state\r\n          ? history.replace(history.location.state)\r\n          : history.push(\"/\");\r\n        toast.success(\r\n          \"Bạn đã update sđt thành công, xin mời tiếp tục đấu giá.\"\r\n        );\r\n      })\r\n      .catch((error) => {\r\n        toast.error(\"Có lỗi xảy ra, xin liên lạc với admin để xử lý.\");\r\n      });\r\n  };\r\n\r\n  const hasError = (touched, errors) => {\r\n    if (touched && !errors) {\r\n      return false;\r\n    } else if (touched && errors) {\r\n      return true;\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Form noValidate onSubmit={handleSubmit(onSubmit)}>\r\n      <div class=\"text-center\">\r\n        <Form.Group controlId=\"formBasicTelNo\">\r\n          <Form.Label>Nhập Số Điện Thoại</Form.Label>\r\n          <Form.Control \r\n            name=\"telNo\"\r\n            type=\"tel\"\r\n            placeholder=\"Cần nhập số điện thoại trước khi tham gia đấu giá\"\r\n            ref={register({\r\n              required: \"Nhập số điện thoại là bắt buộc\",\r\n              pattern: {\r\n                value: /0[0-9\\s.-]{9,13}/,\r\n                message: \"Xin hãy nhập đúng số điện thoại\",\r\n              },\r\n            })}\r\n            isValid={hasError(touched.telNo, errors.telNo) === false ?? true}\r\n            isInvalid={hasError(touched.telNo, errors.telNo)}\r\n          />\r\n          {errors.telNo && (\r\n            <Form.Control.Feedback type=\"invalid\">\r\n              {errors.telNo.message}\r\n            </Form.Control.Feedback>\r\n          )}\r\n        </Form.Group>\r\n\r\n        <Button variant=\"primary\" type=\"submit\">\r\n          Gửi\r\n        </Button>\r\n      </div>\r\n    </Form>\r\n  );\r\n};\r\n","import React, { Fragment } from \"react\";\nimport { NavMenu } from \"./components/NavMenu\";\nimport { Home } from \"./components/Home/Home\";\nimport { Switch, Route } from \"react-router-dom\";\nimport { Container } from \"react-bootstrap\";\nimport { ToastContainer } from \"react-toastify\";\nimport { NetworkError } from \"./components/Error/NetworkError\";\nimport { NotFound } from \"./components/Error/NotFound\";\nimport { Login } from \"./components/Account/Login/Login\";\nimport { ProvideAuth } from \"./utils/hooks/authHook\";\nimport { List } from \"./components/Items/List/List\";\nimport { Details } from \"./components/Items/Details/Details\";\nimport { Create } from \"./components/Items/Create/Create\";\nimport { PrivateRoute } from \"./components/PrivateRoute\";\nimport { Edit } from \"./components/Items/Edit/Edit\";\nimport { Admin } from \"./components/Admin/Admin\";\nimport { UpdateTelNo } from \"./components/Account/UpdateTelNo/UpdateTelNo\";\nimport \"react-toastify/dist/ReactToastify.css\";\n\nfunction App() {\n  return (\n    <Fragment>\n      <ProvideAuth>\n        <NavMenu />\n        <Container className=\"pt-3\">\n          <ToastContainer />\n          <Switch>\n            <Route exact path={[\"/\", \"/home\"]} component={Home} />\n            <Route exact path=\"/sign-in\" component={Login} />\n            <Route exact path=\"/update-tel-no\" component={UpdateTelNo} />\n            {/* <Route exact path=\"/sign-up\" component={Register} /> */}\n            <Route exact path=\"/error/network\" component={NetworkError} />\n            <PrivateRoute exact path=\"/items/create\" component={Create} />\n            <PrivateRoute path=\"/items/edit/:slug/:id\" component={Edit} />\n            <PrivateRoute\n              path=\"/administration\"\n              adminOnly={true}\n              component={Admin}\n            />\n            <Route exact path=\"/items/:subCategoryId?\" component={List} />\n            <Route path=\"/items/:slug?/:id\" component={Details} />\n            <Route path=\"*\" component={NotFound} />\n          </Switch>\n        </Container>\n      </ProvideAuth>\n    </Fragment>\n  );\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport \"bootstrap/dist/css/bootstrap.min.css\";\nimport App from \"./App\";\nimport * as serviceWorker from \"./serviceWorker\";\nimport { createBrowserHistory } from \"history\";\nimport { Router } from \"react-router-dom\";\n\nexport const history = createBrowserHistory();\nReactDOM.render(\n  <Router history={history}>\n    <App />\n  </Router>,\n  document.getElementById(\"root\")\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}